import { Component, ViewChild } from '@angular/core';
import { FormArray, FormControl, FormGroup } from '@angular/forms';
import { forkJoin } from 'rxjs';
import { map } from 'rxjs/operators';
import { AppConstants } from '../@core/constants/app-constants';
import { AuthService } from '../@core/service/auth.service';
import { PageAccessService } from '../@core/urls/page-access.service';
import { RBACINFO } from '../@core/urls/rbac-url.config';
import { ManageAccessRadioComponent } from '../@shared/common-components/manage-access-radio/manage-access-radio.component';
import { NgbModal } from '@ng-bootstrap/ng-bootstrap';
import * as i0 from "@angular/core";
import * as i1 from "@angular/forms";
import * as i2 from "../@core/service/data-store.service";
import * as i3 from "@angular/router";
import * as i4 from "../@core/service/alert.service";
import * as i5 from "@angular/common";
import * as i6 from "primeng/api";
import * as i7 from "primeng/tooltip";
import * as i8 from "primeng/dropdown";
import * as i9 from "primeng/button";
import * as i10 from "primeng/accordion";
import * as i11 from "primeng/inputtext";
import * as i12 from "primeng/inputnumber";
import * as i13 from "primeng/inputtextarea";
import * as i14 from "primeng/multiselect";
import * as i15 from "../@core/directives/permission.directive";
import * as i16 from "../@shared/alert/alert.component";
import * as i17 from "@angular/material/card";
import * as i18 from "@angular/material/radio";
import * as i19 from "../@shared/common-components/manage-access-radio/manage-access-radio.component";
export class PageaccessComponent {
    formBuilder;
    cdRef;
    _storeservice;
    router;
    alert;
    rbacForm;
    userList = [];
    policyGroupData = [];
    roleAddedData = [];
    dataLevelAccess = false;
    pageLevelAccess = false;
    multiPageAccess = false;
    fieldLevelAccess = false;
    moduleList = [];
    subModuleList = [];
    pageData = [];
    pagesList = [];
    loadedPagesList = [];
    selectedPageData = [];
    fData = [];
    moduleDropdownSettings = {};
    submoduleDropdownSettings = {};
    pageDropdownSettings = {};
    pageAccessDropdownSettings = {};
    fieldAccessDropdownSettings = {};
    AddComponent;
    fieldLevelClick = false;
    editPage = false;
    selectedFieldData = [];
    organisationid;
    existingSelectedFieldData;
    savedPageAccessPatching;
    savedFieldPagesPatching;
    selectedPageLevelData;
    selectedPageAccessChanges = [];
    isRunCond = true;
    selectedAccess;
    updatePage;
    selectedId;
    selectedName;
    assetList;
    policyGroupPages = [];
    policyGroupRolePages = [];
    selectedRole = '';
    conditions = [];
    permissions = [];
    dataAccess = [];
    showFieldValidity;
    pageAccessService;
    orgSubs;
    orgId;
    environment;
    RBACORG = new RBACINFO();
    PERMISSION;
    authService;
    pId;
    fullArray;
    mergedAsset;
    httpService;
    permissionUpdatedPages = [];
    fieldPageLevel;
    fieldLevelCheckCount;
    pagelevelaccesssavedisable = true;
    pagelevelaccesscount;
    selectedPages = [];
    previousSelection = [];
    isPageDeselectSave = false;
    deselectedItemIds = [];
    isRemoveAllFields = false;
    deselectAssetIds = [];
    enablesave = true;
    pagelevelaccesscountdisable = true;
    showFieldGrid = true;
    getPageList = false;
    disabledPages = [];
    oldPageAccessValues = [];
    grantedPages = [];
    filterText;
    filteredItems = [];
    selectedPageDataFilter;
    additionalConditions;
    validationPopup;
    modalService;
    constructor(injector, formBuilder, cdRef, _storeservice, router, alert) {
        this.formBuilder = formBuilder;
        this.cdRef = cdRef;
        this._storeservice = _storeservice;
        this.router = router;
        this.alert = alert;
        this.pageAccessService = injector.get(PageAccessService);
        this.authService = injector.get(AuthService);
        this.modalService = injector.get(NgbModal);
        this.updatePage = false;
        this.showFieldValidity = false;
        this.conditions = [
            {
                name: 'Days',
                key: 'days'
            },
            {
                name: 'Always',
                key: 'always'
            }
        ];
        this.permissions = [
            {
                name: 'R',
                key: 'r'
            },
            {
                name: 'RW',
                key: 'rw'
            },
            {
                name: 'None',
                key: 'n'
            }
        ];
        this.dataAccess = [
            {
                name: 'All',
                key: 'all'
            },
            {
                name: 'Assigned',
                key: 'asg'
            },
            {
                name: 'Owner',
                key: 'cb'
            }
        ];
        this.fieldLevelCheckCount = [];
        this.pagelevelaccesscount = [];
        // this.orgSubs = this.authService.orgInfo.subscribe(org => {
        //   this.orgId = org;
        //   if (this.orgId) {
        //     this.getOrganizationPage();
        //   }
        // });
    }
    ngOnInit() {
        this.orgSubs = this._storeservice.currentStore.subscribe((res) => {
            if (res['RBACORG'] && res['RBACORG'] !== '') {
                this.RBACORG = res['RBACORG'];
                console.log(this.RBACORG, 'RBACORG Event Scheduler');
                this.environment = this.RBACORG['environment'];
                this.orgId = parseInt(this.RBACORG['orgID']);
                this.httpService = res['HTTPSERVICE'];
                if (this.environment) {
                    this.getOrganizationPage();
                    this.loadRbacForm();
                }
            }
        });
    }
    ngOnDestroy() {
        this.orgSubs.unsubscribe();
    }
    loadRbacForm() {
        this.rbacForm = this.formBuilder.group({
            id: new FormControl(null),
            accessBy: new FormControl(null),
            userid: new FormControl(''),
            policyid: new FormControl(null),
            roleid: new FormControl(null),
            provideAccess: new FormControl(null),
            pageAccess: new FormControl('2'),
            validity: new FormControl(null),
            accessdata: new FormControl(null),
            module: new FormControl(null),
            submodule: new FormControl(null),
            pageList: new FormControl(null),
            ppages: new FormControl(null),
            fpages: new FormControl(null),
            fieldLevelData: new FormArray([]),
            pageLevelData: new FormArray([])
        });
    }
    accessBy(evt) {
        this.pagesList = [];
        this.rbacForm.patchValue({ accessBy: evt });
        this.resetForm(evt);
        this.rbacForm.patchValue({ provideAccess: '1' });
    }
    userDropdown(evt) {
        this.userList = evt;
    }
    roleDropdown(evt) {
        this.roleAddedData = evt;
    }
    policyDropdown(evt) {
        this.policyGroupData = evt;
    }
    dropDownSelectedValues(evt) {
        this.disabledPages = [];
        this.getPageList = true;
        this.enablesave = false;
        this.selectedRole = '';
        this.updatePage = false;
        this.selectedAccess = evt.from;
        this.selectedName = evt.name;
        this.filterText = '';
        this.rbacForm.patchValue({ userid: evt.userid });
        this.rbacForm.patchValue({ roleid: evt.roleid });
        this.rbacForm.patchValue({ policyid: evt.policyid });
        if (this.pagesList.length === 0) {
            this.getOrganizationPage();
        }
        this.getSelectedPages();
        if (evt.from === 'role') {
            this.selectedRole = evt.roleid;
        }
    }
    getOrganizationPage() {
        if (this.orgId) {
            this.pageAccessService.getOrganizationPage(this.orgId).subscribe(res => {
                const data = res['data']['data'];
                if (data && data?.length) {
                    this.pageData = data?.filter(a => a.activeVersion);
                    this.loadedPagesList = this.pageData.map(x => {
                        return {
                            id: x.activeVersion.pageid,
                            pagename: x.isEnable ? x.activeVersion.pagename : `${x.activeVersion.pagename} (Inactive)`,
                            isEnable: x.isEnable,
                            activeVersion: x.activeVersion,
                            disabled: false
                        };
                    });
                }
            });
        }
    }
    getFallbackPermission(fAccess) {
        if (fAccess?.value?.pageAccess === '2' || fAccess?.value?.access === '2') {
            return this.permissions.filter(a => a.key !== 'rw');
        }
        else {
            return this.permissions;
        }
    }
    getSelectedPages(_selectedPages, _pageConfig, _assetconfig) {
        //this.policyGroupPages = [];
        this.updatePage = false;
        this.getPageList = true;
        this.rbacForm.get('provideAccess').setValue(null);
        if (this.selectedAccess === 'user') {
            this.selectedId = this.rbacForm.getRawValue().userid;
        }
        else if (this.selectedAccess === 'role') {
            this.selectedId = this.rbacForm.getRawValue().roleid;
        }
        else {
            this.selectedId = this.rbacForm.getRawValue().policyid;
            this.selectedAccess = 'policygroup';
        }
        if (!this.fieldLevelAccess && this.permissionUpdatedPages.length) {
            this.getPageList = true;
        }
        this.getGrantedPages();
    }
    getGrantedPages() {
        if (this.getPageList) {
            this.pageAccessService.getDynamicPage(this.selectedAccess, this.selectedId).subscribe(res => {
                this.grantedPages = [];
                this.getPageList = false;
                if (this.selectedAccess === 'role') {
                    this.grantedPages = res['data'].rolePages;
                    this.policyGroupPages = res['data'].policyGroupPages;
                    const selectedPages = this.checkExistingGrantedPolicyPages(this.grantedPages, this.policyGroupPages);
                    this.pagesList = [...this.loadedPagesList.map(page => {
                            return {
                                ...page,
                                disabled: this.disabledPages.some(id => id === page.id),
                            };
                        })];
                    // added this below line for bug OR-1338
                    // this.pagesList = this.pagesList.filter(e => !e.disabled);
                    const enablePages = selectedPages.filter(e => !e.disabled);
                    this.rbacForm.patchValue({ pageList: enablePages });
                }
                else if (this.selectedAccess === 'policygroup') {
                    this.grantedPages = res['data'].policyGroupPages;
                    this.policyGroupRolePages = res['data'].policyGroupRolePages;
                    const selectedPages = this.checkExistingGrantedRolePages(this.grantedPages, this.policyGroupRolePages);
                    this.pagesList = this.loadedPagesList.map(page => ({
                        ...page,
                        disabled: this.disabledPages.some(id => id === page.id),
                    }));
                    // added this below line for bug OR-1338
                    // this.pagesList = this.pagesList.filter(e => !e.disabled);
                    const enablePages = selectedPages.filter(e => !e.disabled);
                    this.rbacForm.patchValue({ pageList: enablePages });
                }
                else {
                    this.grantedPages = res['data'];
                    this.pagesList = this.loadedPagesList;
                    const pagesArrayIds = this.grantedPages.map(granted => granted.page.id);
                    const enablePages = this.pagesList.filter(page => pagesArrayIds.includes(page.id));
                    this.rbacForm.patchValue({ pageList: enablePages });
                }
                // this.loadPages([], null, [], [], this.assetList);
                if (this.grantedPages.length) {
                    this.updatePage = true;
                    const pageData = this.grantedPages.filter(page => page.page).map(a => a.page);
                    pageData.forEach(x => (x.pagename = x?.activeVersion?.pagename || ''));
                    const uniquePageData = [...new Map(pageData.map(item => [item['id'], item])).values()];
                    const pageIDs = uniquePageData.map(a => a['id']);
                    const pageConfigData = this.grantedPages.map(a => {
                        return {
                            id: a.id,
                            // isfull: a.full,
                            hide: a.hide,
                            // isread: a.read,
                            // isreadwrite: a.readwrite,
                            accessdata: a.accessData,
                            conditions: a.conditions,
                            page: a.page,
                            c: a?.c,
                            r: a?.r,
                            u: a?.u,
                            d: a?.d
                        };
                    });
                    this.loadPages(uniquePageData, null, pageIDs, pageConfigData, this.assetList);
                    //this.onControlChanges();
                    this.oldPageAccessValues = this.rbacForm.get('pageLevelData').value.map(x => ({ ...x }));
                    // } else {
                    //   this.removeAllPopulatePage()
                }
                else {
                    this.loadPages([], null, [], [], this.assetList);
                }
            });
        }
        else {
            this.updatePage = true;
            const pageLevelData = this.rbacForm.get('pageLevelData');
            if (pageLevelData && pageLevelData.controls.length > 0) {
                pageLevelData.controls.forEach((control, index) => {
                    const currentId = control.value.pageid;
                    const originalEntry = this.oldPageAccessValues.find(o => o.pageid === currentId);
                    if (originalEntry) {
                        control.patchValue({
                            pageAccess: originalEntry.pageAccess,
                            fallbackTo: originalEntry.fallbackTo,
                            condition: originalEntry.condition,
                            validity: originalEntry.validity,
                            accessdata: originalEntry.accessdata
                        });
                    }
                    else {
                        control.patchValue({
                            pageAccess: control?.value?.pageAccess ? control.value.pageAccess : '2',
                            fallbackTo: 'n',
                            condition: 'always',
                            validity: '1',
                            accessdata: 'all'
                        });
                    }
                });
            }
            else {
                this.pageLevelAccess = false;
            }
        }
    }
    onFilterPages(event) {
        this.filterText = event.filter;
    }
    removeValue(e, item) {
        e.stopPropagation();
        const filteredPages = this.rbacForm.value.pageList.filter((s) => s.id !== Number(item.id));
        this.rbacForm.patchValue({
            pageList: filteredPages
        });
        this.populatePage('click', true, null);
        this.selectedPageData = this.rbacForm.value.pageList.filter(page => !page.disabled);
    }
    onControlChanges() {
        const pageLevelAccessFormControl = this.rbacForm.get('pageLevelData');
        pageLevelAccessFormControl.controls.forEach(control => {
            control.valueChanges.pipe(map((value) => {
                console.log('Value Changed');
                if (this.permissionUpdatedPages.some(pageId => pageId === value.pageid)) {
                    this.permissionUpdatedPages = this.permissionUpdatedPages.filter(pageId => pageId !== value.pageid);
                    this.permissionUpdatedPages.push(value.pageid);
                }
                else {
                    this.permissionUpdatedPages.push(value.pageid);
                }
            })).subscribe();
        });
    }
    checkExistingGrantedPolicyPages(rolePages, policyGroupPages) {
        let selectedPages;
        const rolePageIds = rolePages.map(page => page.page.id);
        selectedPages = this.loadedPagesList.filter(key => rolePageIds.includes(key.id));
        for (const page of this.loadedPagesList) {
            for (const policyGroups of policyGroupPages) {
                for (const pages of policyGroups.policygrouppage) {
                    if (pages.page[0].id === page.id) {
                        this.disabledPages.push(pages.page[0].id);
                        selectedPages.push({ ...page, disabled: true });
                    }
                }
            }
        }
        return selectedPages;
    }
    checkExistingGrantedRolePages(policyPages, policyGroupRolePages) {
        let selectedPages;
        const policyPageIds = policyPages.map(page => page.page.id);
        selectedPages = this.loadedPagesList.filter(key => policyPageIds.includes(key.id));
        for (const page of this.loadedPagesList) {
            for (const policyGroups of policyGroupRolePages) {
                for (const pages of policyGroups.rolepage) {
                    if (pages.page[0].id === page.id) {
                        this.disabledPages.push(pages.page[0].id);
                        selectedPages.push({ ...page, disabled: true });
                    }
                }
            }
        }
        return selectedPages;
    }
    policyGroupCondition(data, policyGroup) {
        const policyGroupPages = data?.data && data?.data.length ? data?.data : [];
        const uniquePolicyGroupPages = [...new Map(policyGroupPages.map(item => [item['page']['id'], item])).values()];
        this.policyGroupData = (this.policyGroupData.length && this.policyGroupData) || uniquePolicyGroupPages;
        this.policyGroupPages.push({
            name: this.policyGroupData.find(pgd => pgd.policygroup.id === policyGroup.policygroupid)?.policygroup
                ?.policygroupname,
            data: uniquePolicyGroupPages
        });
    }
    getConfiguredAssetData(selectedAccess, selectedId) {
        this.pageAccessService.getAssetById(selectedAccess, selectedId).subscribe((res) => {
            this.assetList = res['data'].map(a => {
                return {
                    pageid: this.pId,
                    _id: a?.id,
                    id: a?.assetid,
                    // isfull: a.full,
                    hide: a.hide,
                    // isread: a.read,
                    // isreadwrite: a.readwrite,
                    conditions: a.conditions,
                    accessdata: a.accessData,
                    c: a?.c,
                    r: a?.r,
                    u: a?.u,
                };
            });
        });
    }
    loadPages(tempPageData, action, pageids, pageConfig, fieldConfig) {
        this.pageData = tempPageData || [];
        this.pageData.forEach(a => (a.pagename = tempPageData.length && tempPageData.filter(b => b.id === a.id)[0]?.activeVersion?.pagename));
        this.populatePage(action, true, null, pageConfig, fieldConfig, pageids);
    }
    populatePage(action, selected, event, pageConfig, fieldConfig, pageids) {
        // if (event) {
        //   if (Array.isArray(event) && selected) {
        //     this.permissionUpdatedPages = event.map(page => page.id)
        //   }
        //   else if (!Array.isArray(event) && selected) {
        //     this.permissionUpdatedPages.push(event.id);
        //   }
        //   else {
        //     this.permissionUpdatedPages = this.permissionUpdatedPages.filter(id => id !== event.id);
        //   }
        // }
        //if (event && event.value.length) {
        //this.rbacForm.patchValue({ pageList: event.value });
        //}
        if (event) {
            const previousSelection = this.selectedPageData;
            let currentSelection = event.value;
            // push value in permissionupdatedPages when new page is selected
            if (event?.itemValue?.id && !this.permissionUpdatedPages.some(pageId => pageId === event.itemValue.id)) {
                this.permissionUpdatedPages.push(event.itemValue.id);
            }
            if (!(event.hasOwnProperty('itemValue') && event.itemValue)) {
                //select-all or de-select-all action
                let deSelectAllPages = false;
                let selectAllPages = false;
                //Edge Case 1: All page options are selected from the dropdown
                if (currentSelection.length === this.pagesList.length) {
                    selectAllPages = true;
                }
                //Edge Case 2: All page options were previously selected and now all of then are getting de-selected
                if (currentSelection.length === 0 && previousSelection.length === this.pagesList.length) {
                    deSelectAllPages = true;
                }
                //If Edge Case 1 or Edge Case 2 happen, then this.filterText needs to be cleared
                if (selectAllPages || deSelectAllPages) {
                    this.filterText = '';
                }
                if (this.filterText && this.filterText !== '') {
                    this.filteredItems = this.pagesList.filter(item => item.pagename.toLowerCase().includes(this.filterText.toLowerCase()));
                    if (currentSelection.length === 0) {
                        //Edge Case 3.1 : Deselect-all in filtered view
                        currentSelection = this.selectedPageData.filter(selectedItem => !this.filteredItems.some(filteredItem => filteredItem.id === selectedItem.id));
                    }
                    else {
                        //Edge Case 3.2 :Select-all in filtered view
                        const newSelections = this.filteredItems.filter((item) => !this.selectedPageData.some((prevItem) => prevItem.id === item.id));
                        currentSelection = [...this.selectedPageData, ...newSelections];
                    }
                }
            }
            this.rbacForm.patchValue({ pageList: currentSelection });
        }
        const pageIds = this.rbacForm.get('pageList').value;
        const id = pageIds.map(key => key.id);
        let provideAccess = this.rbacForm.get('provideAccess').value;
        // Logic to handle the deselected item of Pages field
        if (!selected) {
            this.isPageDeselectSave = true;
            const newlyDeselected = this.previousSelection.filter(item => !id.includes(item));
            this.deselectedItemIds = [...new Set([...this.deselectedItemIds, ...newlyDeselected])];
            const fpagesValue = this.rbacForm.get('fpages').value;
            if (fpagesValue && newlyDeselected.includes(fpagesValue)) {
                this.rbacForm.controls['fpages'].setValue(null);
                this.showFieldGrid = false;
            }
        }
        else {
            this.isPageDeselectSave = false;
        }
        this.previousSelection = [...id];
        if (id?.length) {
            this.isRemoveAllFields = false;
            if (!provideAccess) {
                this.rbacForm.patchValue({ provideAccess: '1' });
                this.pageLevelAccess = this.multiPageAccess = true;
                this.fieldLevelAccess = false;
                provideAccess = '1';
            }
            // Filter out pages with lookup keys "RBTP" or "DR"
            const hideRBTPpageIds = this.grantedPages
                .filter(item => item?.page?.lookup?.key === "RBTP" || item?.page?.lookup?.key === "DR")
                .map(element => element.pageid);
            // Filter out pages that are not disabled and not in the hideRBTPpageIds array
            this.selectedPageDataFilter = pageIds.filter(page => !page.disabled && !hideRBTPpageIds.includes(page.id));
            // Pageids from api
            this.selectedPageData = pageIds.filter(page => !page.disabled);
            this.pagelevelaccesscount = pageIds;
            if ((this.pagelevelaccesscount || this.pagelevelaccesscount.length > 0) && !this.enablesave) {
                this.pagelevelaccesscountdisable = false;
            }
            if (provideAccess === '1') {
                this.rbacForm.patchValue({ ppages: pageIds });
                if (fieldConfig?.length) {
                    this.selectedFieldData = this.pageAccessService.setSelectedFieldPage(fieldConfig?.map(ele => {
                        return {
                            fieldName: ele?.description,
                            access: this.checkAccessType(ele),
                            assetid: ele?.assetid,
                            pageId: ele?.id
                        };
                    }), this.selectedFieldData);
                }
            }
            else if (provideAccess === '2' && pageids && pageids.length) {
                if (fieldConfig !== null) {
                    const pList = this.pageData.filter(key => key.id === pageids[0]);
                    this.rbacForm.patchValue({ fpages: pList });
                    this.getFieldLevelList(action, fieldConfig);
                }
                else {
                    const pId = this.selectedPageData.filter(ele => ele.id === pageIds[0]?.id);
                    this.rbacForm.patchValue({ fpages: pId });
                    this.getFieldLevelList(action, fieldConfig);
                }
            }
            this.getPageLevelList(action, pageConfig);
        }
        else {
            if (action === 'click') {
                this.pagelevelaccesscountdisable = false;
            }
            else {
                this.pagelevelaccesscountdisable = true;
            }
            this.removeAllPopulatePage();
            this.isRemoveAllFields = true;
        }
    }
    removeAllPopulatePage() {
        this.selectedPageData = [];
        this.pageLevelAccess = false;
        this.fieldLevelAccess = false;
        this.multiPageAccess = true;
        this.pagelevelaccesscount = [];
        this.pagelevelaccesssavedisable = true;
        this.filterText = '';
        const f = this.rbacForm.controls['fieldLevelData'];
        f.controls = [];
        const p = this.rbacForm.controls['pageLevelData'];
        p.controls = [];
        this.rbacForm.get('ppages').setValue(null);
        this.rbacForm.get('fpages').setValue(null);
        this.rbacForm.get('provideAccess').setValue(null);
        this.rbacForm.get('pageLevelData').setValue([]);
        this.rbacForm.get('fieldLevelData').setValue([]);
    }
    showLevelAccess(id) {
        const f = this.rbacForm.controls['fieldLevelData'];
        if (f.getRawValue()?.length) {
            this.selectedFieldData = this.pageAccessService.setSelectedFieldPage(f.getRawValue(), this.selectedFieldData);
        }
        f.controls = [];
        const pageIds = this.rbacForm.get('pageList').value;
        if (pageIds != null) {
            if (id === '1') {
                this.pageLevelAccess = true;
                this.multiPageAccess = true;
                this.fieldLevelAccess = false;
                this.pagelevelaccesscount = pageIds;
                if (pageIds?.length) {
                    this.pagelevelaccesssavedisable = false;
                    if (!this.rbacForm.get('ppages').value) {
                        this.rbacForm.get('ppages').patchValue(pageIds);
                    }
                }
                this.getSelectedPages();
            }
            else if (id === '3') {
                this.pageLevelAccess = false;
                this.dataLevelAccess = true;
                this.multiPageAccess = true;
                this.fieldLevelAccess = false;
                this.pagelevelaccesscount = pageIds;
                if (pageIds?.length) {
                    this.pagelevelaccesssavedisable = false;
                    if (!this.rbacForm.get('ppages').value) {
                        this.rbacForm.get('ppages').patchValue(pageIds);
                    }
                }
                this.getSelectedPages();
            }
            else {
                this.getConfiguredAssetData(this.selectedAccess, this.selectedId);
                this.pageLevelAccess = false;
                this.multiPageAccess = false;
                this.fieldLevelAccess = true;
                this.fieldLevelCheckCount = [];
                const fpages = this.rbacForm.get('fpages').value;
                this.fPagesCheckLength(fpages, pageIds);
                if (this.fieldLevelCheckCount && this.fieldLevelCheckCount?.length > 0) {
                    this.getFieldLevelList('click');
                }
            }
        }
    }
    fPagesCheckLength(fpages, pageIds) {
        if (!fpages || !fpages?.length) {
            if (pageIds?.length) {
                const p = [pageIds];
                this.rbacForm.get('fpages').setValue(p);
            }
        }
    }
    async getPageLevelList(action = null, pageConfig = null) {
        const accessArray = this.rbacForm.get('pageLevelData');
        const formValue = this.rbacForm.getRawValue();
        const pAccessId = this.rbacForm.get('pageList').value.filter(page => !page.disabled);
        const pId = pAccessId?.map(key => key?.pageid || key?.id);
        // first check exist page config
        if (pageConfig !== null) {
            // check selected value length
            if (formValue.pageLevelData.length) {
                accessArray.clear();
            }
            for (const pAccessElement of pAccessId) {
                const id = pAccessElement.id;
                const activeVersion = pAccessElement.activeVersion;
                let tableSchemaConfig = activeVersion.tableschemaconfig;
                tableSchemaConfig = typeof tableSchemaConfig === 'string' ? JSON.parse(tableSchemaConfig) : tableSchemaConfig;
                const objectType = tableSchemaConfig?.objectType ? tableSchemaConfig.objectType : 'table';
            }
            const filterdPageConfigArray = pId
                .map(id => pageConfig.find(key => key?.page?.id === id))
                .filter(config => config !== undefined);
            for (let i = 0; i < pId.length; i++) {
                let setAccess = '';
                setAccess = filterdPageConfigArray[i];
                const pageName = this.loadedPagesList.filter(key => key.id === pId[i]);
                this.getPageAccessArray(pId, i, accessArray, pageName, setAccess, pageConfig);
            }
        }
        this.forActionClick(action, pId, accessArray);
    }
    getVersionAccessArray(existSelectedPageId, pId, i, accessArray, pageName, setAccess, pageConfig) {
        const checkPid = existSelectedPageId.includes(pId[i]);
        if (!checkPid) {
            accessArray.push(new FormGroup({
                pageName: new FormControl(pageName[0]['activeVersion']['pagename']),
                pageid: new FormControl(pId[i]),
                pageAccess: new FormControl(setAccess),
                validity: new FormControl((pageConfig[i]?.conditions && pageConfig[i].conditions.value) || '1'),
                accessdata: new FormControl((pageConfig[i]?.accessdata && pageConfig[i].accessdata.value) || 'all'),
                condition: new FormControl(pageConfig[i]?.conditions ? 'days' : 'always'),
                fallbackTo: new FormControl((pageConfig[i]?.conditions && pageConfig[i].conditions.fallbackTo) || 'n')
            }));
        }
    }
    getPageAccessArray(pId, i, accessArray, pageName, setAccess, pageConfig) {
        accessArray.push(new FormGroup({
            pageName: new FormControl(pageName[0]['pagename']),
            pageid: new FormControl(pId[i]),
            // pageAccess: new FormControl(setAccess),
            pageAccessCreate: new FormControl(setAccess.c || false),
            pageAccessRead: new FormControl(this.pageAccessService.getReadFormAccess(setAccess)),
            pageAccessUpdate: new FormControl(setAccess.u || false),
            pageAccessDelete: new FormControl({ value: setAccess.d || false, disabled: pageName[0]?.activeVersion?.templatejson }),
            pageAccessNone: new FormControl(setAccess.hide || false),
            validity: new FormControl((setAccess.conditions && setAccess.conditions !== 'always' && setAccess.conditions.value) ? setAccess.conditions.value : '1'),
            condition: new FormControl(setAccess.conditions && setAccess.conditions !== 'always' ? 'days' : 'always'),
            fallbackTo: new FormControl((setAccess.conditions && setAccess.conditions !== 'always' && setAccess.conditions.fallbackTo) ? setAccess.conditions.fallbackTo : 'n'),
            accessdata: new FormControl((setAccess.accessdata && setAccess.accessdata) || 'all'),
        }));
    }
    forActionClick(action, pId, accessArray) {
        if (action === 'click') {
            const existingValue = this.selectedPageLevelData?.length ? this.selectedPageLevelData : accessArray.getRawValue();
            let pagesFromField = Array.from(new Set([...this.selectedFieldData].map(ele => ele.pageId))).filter(ele => ele);
            if (pId?.length) {
                pagesFromField = pId;
            }
            if (pagesFromField?.length) {
                for (let i = 0; i < pagesFromField?.length; i++) {
                    const pageName = this.pagesList.filter(key => key.id === pagesFromField[i]);
                    if (!existingValue[i]) {
                        const id = pageName[0]?.id;
                        const activeVersion = pageName[0]?.activeVersion;
                        let tableSchemaConfig = activeVersion?.tableschemaconfig;
                        tableSchemaConfig = typeof tableSchemaConfig === 'string' ? JSON.parse(tableSchemaConfig) : tableSchemaConfig;
                        const objectType = tableSchemaConfig?.objectType ? tableSchemaConfig.objectType : 'table';
                    }
                }
                accessArray.controls = [];
                accessArray.controls = this.pageAccessService.getAccessArrayOnClick(pagesFromField, this.pagesList, this.selectedFieldData, this.savedPageAccessPatching, existingValue);
                this.savedPageAccessPatching = false;
            }
            else {
                this.savedPageAccessPatching = false;
                accessArray.controls = [];
            }
        }
    }
    checkAccessType(data) {
        if (data?.isfull) {
            return '2';
        }
        else if (data?.ishide) {
            return '4';
        }
        else if (data?.isread) {
            return '3';
        }
        else if (data?.isreadwrite) {
            return '2';
        }
    }
    getFieldLevelList(action = null, fieldConfig = null) {
        const accessArray = this.rbacForm.get('fieldLevelData');
        const formValue = this.rbacForm.getRawValue();
        const pAccessId = this.rbacForm.get('fpages').value;
        const pageIds = this.rbacForm.get('pageList').value;
        // Fieldpagelevel is a variable is the length of the form page and all page other than grid page
        this.fieldLevelCheckCount = pageIds.filter(x => (x.id === (pAccessId && pAccessId[0]?.id)) || x.id === pAccessId);
        const fieldLevel = pageIds.filter(x => (x.id === (pAccessId && pAccessId[0]?.id)) || x.id === pAccessId);
        this.fieldPageLevel = fieldLevel.filter(a => a.activeVersion !== null && a.activeVersion.gridconfig == null)
            .map(a => {
            return {
                id: a.activeVersion.pageid,
                pagename: a.activeVersion.pagename,
                activeVersion: a.activeVersion
            };
        });
        //console.log(this.fieldPageLevel);
        this.checkFieldLevelCondition(fieldLevel, pAccessId);
        this.fieldConfigCheck(fieldConfig, accessArray);
        if (action === 'click') {
            accessArray.controls = [];
            this.pageAccessService.getAssetByPageId(this.pId).subscribe(res => {
                const data = res['data'];
                this.getAccessArrayCheck(data, formValue, accessArray);
            });
        }
        this.showFieldGrid = true;
    }
    checkFieldLevelCondition(fieldLevel, pAccessId) {
        if (fieldLevel.length > 0) {
            this.showFieldValidity = fieldLevel[0].templatejson ? true : false;
            this.fieldVersionCheck(fieldLevel, pAccessId);
        }
        else {
            this.showFieldValidity = pAccessId[0].templatejson ? true : false;
            if (pAccessId[0]['version']) {
                this.pId = pAccessId[0].pageid;
            }
            else {
                this.pId = pAccessId && pAccessId?.length ? pAccessId[0]['id'] : null;
            }
        }
    }
    fieldVersionCheck(fieldLevel, pAccessId) {
        if (fieldLevel[0]['version']) {
            this.pId = fieldLevel[0].pageid;
        }
        else {
            if (Array.isArray(pAccessId)) {
                this.pId = pAccessId && pAccessId?.length ? pAccessId[0]['id'] : null;
            }
            else {
                this.pId = pAccessId;
            }
        }
    }
    fieldConfigCheck(fieldConfig, accessArray) {
        if (fieldConfig !== null) {
            accessArray.controls = [];
            this.selectedFieldData = this.pageAccessService.setSelectedFieldPage(fieldConfig?.map(ele => {
                return {
                    fieldName: ele?.description,
                    access: this.checkAccessType(ele),
                    assetid: ele.assetid,
                    pageId: ele.id
                };
            }), this.selectedFieldData);
            this.existingSelectedFieldData = [...this.selectedFieldData];
            this.pageAccessService.getAssetByPageId(this.pId).subscribe(res => {
                const data = res['data'];
                this.mergedAsset = this.mergeAsset(data, this.assetList);
                if (this.mergedAsset.includes(undefined)) {
                    this.mergedAsset = data;
                    if (this.mergedAsset.length !== data?.length) {
                        this.mergedAsset = data;
                    }
                }
                this.fData = data;
                this.getMergedAsset(accessArray);
            });
        }
    }
    getMergedAsset(accessArray) {
        for (let i = 0; i < this.mergedAsset.length; i++) {
            const access = this.pageAccessService.getAccess(this.mergedAsset[i], this.fieldPageLevel);
            accessArray.push(new FormGroup({
                fieldName: new FormControl(access[i]['displayname']),
                //access: new FormControl('2'),
                assetid: new FormControl(access[i]['id']),
                pageId: new FormControl(this.pId),
                validity: new FormControl(this.mergedAsset[i].conditions ? this.mergedAsset[i].conditions.value : '1'),
                accessdata: new FormControl((this.mergedAsset[i]?.accessdata && this.mergedAsset[i].accessdata.value) || 'all'),
                condition: new FormControl(this.mergedAsset[i].conditions ? 'days' : 'always'),
                fallbackTo: new FormControl(this.mergedAsset[i].conditions ? this.mergedAsset[i].conditions.fallbackTo : ''),
                fieldAccessCreate: new FormControl(access[i].c),
                fieldAccessRead: new FormControl(access[i].r),
                fieldAccessUpdate: new FormControl(access[i].u),
                fieldAccessHide: new FormControl(access[i].hide),
            }));
        }
    }
    getAccessArrayCheck(data, formValue, accessArray) {
        if (data?.length) {
            this.mergedAsset = this.assetList ? this.mergeAsset(data, this.assetList) : data;
            this.checkMergedAsset(data);
            if (formValue.fieldLevelData.length) {
                this.selectedFieldData = this.pageAccessService.setSelectedFieldPage(formValue.fieldLevelData, this.selectedFieldData);
            }
            let access = null;
            if (this.savedFieldPagesPatching?.length) {
                access = this.savedFieldPagesPatching.find(ele => ele.pageid === this.pId)?.access;
                this.savedFieldPagesPatching = this.savedFieldPagesPatching.filter(ele => ele.pageid !== this.pId);
            }
            this.fData = data;
            const existingFieldDataMap = {};
            if (!access && this.selectedFieldData?.length) {
                this.assetList
                    ?.filter(ele => ele.pageId === this.pId)
                    ?.forEach(ele => {
                    existingFieldDataMap[ele.assetid] = ele.access;
                });
            }
            this.getAccessByAsset(accessArray);
        }
        else {
            accessArray.controls = [];
        }
    }
    checkMergedAsset(data) {
        if (this.mergedAsset.includes(undefined)) {
            this.mergedAsset = data;
            if (this.mergedAsset.length !== data.length) {
                this.mergedAsset = data;
            }
        }
    }
    getAccessByAsset(accessArray) {
        for (const asset of this.mergedAsset) {
            const assetAccess = this.pageAccessService.getAccess(asset, this.fieldPageLevel);
            accessArray.push(new FormGroup({
                fieldName: new FormControl(asset['displayname']),
                //access: new FormControl(assetAccess ? assetAccess : '2'),
                assetid: new FormControl(asset['id']),
                pageId: new FormControl(this.pId),
                fieldAccessCreate: new FormControl(assetAccess?.c || false),
                fieldAccessRead: new FormControl(this.pageAccessService.getReadFormAccess(assetAccess)),
                fieldAccessUpdate: new FormControl(assetAccess?.u || false),
                fieldAccessHide: new FormControl(assetAccess?.hide || false),
                validity: new FormControl(asset.conditions ? asset.conditions.value : '1'),
                //accessdata: new FormControl((asset?.accessdata && asset.accessdata) || 'all'),
                condition: new FormControl(asset.conditions ? 'days' : 'always'),
                fallbackTo: new FormControl(asset.conditions ? asset.conditions.fallbackTo : '')
            }));
        }
    }
    mergeAsset(arr1, arr2) {
        return arr1.map((item, _i) => {
            for (const value of arr2) {
                if (item.id === value.id) {
                    return Object.assign({}, item, value);
                }
            }
        });
    }
    submitAlert() {
        if (!this.fieldLevelAccess && this.permissionUpdatedPages.length) {
            $('#submitAlert').modal('show');
        }
        else {
            this.saveRbac();
            //this.pagelevelaccesssavedisable = true;
            //this.pagelevelaccesscountdisable = true;
        }
    }
    saveRbac() {
        this.getPageList = true;
        const access = this.rbacForm.getRawValue();
        const userid = this.rbacForm.get('userid').value;
        const roleId = this.rbacForm.get('roleid').value;
        const policyId = this.rbacForm.get('policyid').value;
        if ((this.isPageDeselectSave && this.deselectedItemIds.length > 0) || this.isRemoveAllFields) {
            let selectedId;
            if (this.selectedAccess === 'user') {
                selectedId = this.rbacForm.getRawValue().userid;
            }
            else if (this.selectedAccess === 'role') {
                selectedId = this.rbacForm.getRawValue().roleid;
            }
            else {
                selectedId = this.rbacForm.getRawValue().policyid;
                this.selectedAccess = 'policygroup';
            }
            // Collect asset id's for all deselected page id's
            const deselectedAssets = forkJoin(this.deselectedItemIds.map(id => this.pageAccessService.getAssetByPageId(id).pipe(map(res => res['data'].map(item => ({ assetid: item.id }))))));
            // Make a single API call with all deselected asset IDs
            deselectedAssets.pipe(map(assetIdResponses => [].concat(...assetIdResponses))).subscribe(allDeselectedAssetIds => {
                this.pageAccessService.updateAssetOnDeselect(this.selectedAccess, selectedId, allDeselectedAssetIds).subscribe(() => {
                    this.getConfiguredAssetData(this.selectedAccess, selectedId);
                    this.deselectedItemIds = [];
                });
            });
        }
        const fieldLevelData = access.fieldLevelData;
        this.getFieldLevelByAsset(fieldLevelData);
        let selectedId;
        if (this.selectedAccess === 'user') {
            selectedId = this.rbacForm.getRawValue().userid;
        }
        else if (this.selectedAccess === 'role') {
            selectedId = this.rbacForm.getRawValue().roleid;
        }
        else {
            selectedId = this.rbacForm.getRawValue().policyid;
            this.selectedAccess = 'policygroup';
        }
        const pAccess = this.rbacForm.get('provideAccess').value;
        if (pAccess === '2') {
            this.pageAccessService.createAsset(this.selectedAccess, selectedId, this.fullArray).subscribe(_res => {
                if (this.fieldLevelAccess) {
                    this.getConfiguredAssetData(this.selectedAccess, selectedId);
                    this.alert.success('Field Access Updated Successfully');
                }
            });
        }
        this.getPageLevelByArray(access.pageLevelData);
        if (this.selectedAccess === 'policy') {
            this.selectedAccess = 'policygroup';
        }
        if (pAccess === '1') {
            this.pageAccessService.updateDynamicPage(this.selectedAccess, this.selectedId, this.fullArray).subscribe(_res => {
                this.permissionUpdatedPages = [];
                if (!this.fieldLevelAccess) {
                    this.getSelectedPages();
                    this.alert.success('Access Updated Successfully');
                }
            }, _err => this.alert.error(AppConstants.errorMessage));
        }
        //if (this.updatePage) {
        //  if (this.selectedAccess === 'policy') {
        //    this.selectedAccess = 'policygroup';
        //  }
        //  this.pageAccessService.updateDynamicPage(this.selectedAccess, this.selectedId, this.fullArray).subscribe(
        //    _res => {
        //      this.permissionUpdatedPages = [];
        //      if (!this.fieldLevelAccess) {
        //        this.getSelectedPages();
        //        this.alert.success('Access Updated Successfully');
        //      }
        //    },
        //    _err => this.alert.error(AppConstants.errorMessage)
        //  );
        //} else {
        //  this.pageAccessService
        //    .createAccess(this.fieldLevelAccess, access.accessBy, this.fullArray, userid, roleId, policyId)
        //    .subscribe(
        //      _result => {
        //        this.permissionUpdatedPages = [];
        //        this.getSelectedPages();
        //        this.alert.success('Access Saved Successfully');
        //      },
        //      _error => this.alert.error(AppConstants.errorMessage)
        //    );
        //}
    }
    getPageLevelByArray(pageLevelData) {
        this.fullArray = pageLevelData.map(x => {
            return {
                page: x?.pageid,
                overrideAssetPermissions: this.permissionUpdatedPages.some(pageId => pageId === x?.pageid) || false,
                c: x?.pageAccessCreate || false,
                r: x?.pageAccessRead || false,
                u: x?.pageAccessUpdate || false,
                d: x?.pageAccessDelete || false,
                none: x?.pageAccessNone || false,
                accessdata: x?.accessdata,
                conditions: x?.condition !== 'always'
                    ? {
                        attribute: 'created',
                        condition: 'lte',
                        value: x?.validity ? x.validity : null,
                        value_type: 'variable',
                        fallbackTo: x?.fallbackTo ? x.fallbackTo : null,
                        type: 'timestamp'
                    }
                    : x.condition
            };
        });
    }
    getFieldLevelByAsset(fieldLevelData) {
        this.fullArray = fieldLevelData.map(x => {
            const assetData = this.assetList?.filter(a => a.id === x.assetid && a);
            return {
                pageid: this.pId,
                id: assetData ? assetData[0]?._id : null,
                asset: x.assetid,
                // readwrite: x?.access === '2' ? true : false,
                // read: x?.access === '3' ? true : false,
                // none: x?.access === '4' ? true : false,
                // full: x?.access === '5' ? true : false,
                c: x?.fieldAccessCreate,
                r: x?.fieldAccessRead,
                u: x?.fieldAccessUpdate,
                none: x?.fieldAccessHide,
                conditions: x.condition !== 'always'
                    ?
                        {
                            attribute: 'created',
                            condition: 'lte',
                            value: x?.validity ? x.validity : null,
                            value_type: 'variable',
                            fallbackTo: x?.fallbackTo ? x.fallbackTo : null,
                            type: 'timestamp'
                        } : x.condition,
                //accessdata: x?.accessdata ? x.accessdata : null,
            };
        });
    }
    // edit functionalites based on policy group
    setPolicyLevelPagePatching(pageConfig, assetconfig) {
        const pageIds = pageConfig.map(key => key.pageid);
        const selectedModules = [];
        const uniquePage = [...new Set(pageIds)];
        const selectedPages = uniquePage;
        this.rbacForm.patchValue({ provideAccess: '1' });
        this.pageLevelAccess = this.multiPageAccess = true;
        this.fieldLevelAccess = false;
        const m = this.rbacForm.get('module').value;
        if (m !== '' && m !== null) {
            const newModule = m.concat(selectedModules);
            const uniqueNewModule = [...new Set(newModule)];
            this.rbacForm.get('module').setValue(uniqueNewModule);
        }
        else {
            this.rbacForm.patchValue({ module: selectedModules });
        }
        this.getSelectedPages(selectedPages, pageConfig, assetconfig);
    }
    setPolicyLevelFieldPatching(pageConfig, assetconfig, from = null) {
        const mKey = assetconfig.filter(key => key.modulekey !== null && key.modulekey !== '' && key.isactive !== '' && key.isactive !== null);
        const mmkey = mKey.map(key => key.modulekey);
        const modules = this.moduleList.filter(key => mmkey.includes(key.refKey));
        const pageId = assetconfig.filter(key => key.pageid !== null);
        const pageIds = pageId.map(key => key.pageid);
        let selectedModules;
        selectedModules = [...new Set(modules)];
        const uniquePage = [...new Set(pageIds)];
        const selectedPages = uniquePage;
        this.rbacForm.patchValue({ provideAccess: '2' });
        this.pageLevelAccess = this.multiPageAccess = false;
        this.fieldLevelAccess = true;
        if (from === 'field') {
            const m = this.rbacForm.get('module').value;
            if (m !== '') {
                const mk = selectedModules.concat(m);
                selectedModules = mk;
                this.rbacForm.patchValue({ module: selectedModules });
            }
            const sm = this.rbacForm.get('submodule').value;
            if (sm !== '') {
                this.rbacForm.patchValue({ module: selectedModules });
            }
        }
        else {
            this.rbacForm.patchValue({ module: selectedModules });
        }
        this.getSelectedPages(selectedPages, pageConfig, assetconfig);
    }
    getDataBasedOnPolicy(from = null) {
        const policyids = this.rbacForm.get('policyid').value.map(a => a.id);
        if (policyids.length) {
            this.editPage = true;
            this.pageLevelAccess = false;
            this.fieldLevelAccess = false;
            const f = this.rbacForm.controls['fieldLevelData'];
            f.controls = [];
            const p = this.rbacForm.controls['pageLevelData'];
            p.controls = [];
            for (let j = 0; j < policyids.length; j++) {
                const pageConfig = this.policyGroupData.filter(key => key.id === policyids[j]);
                if (from === 'field') {
                    this.editPage = false;
                    if (pageConfig[0].assetConfigs.length) {
                        this.setPolicyLevelFieldPatching(pageConfig[0].pageConfigs, pageConfig[0].assetConfigs, from);
                    }
                    else if (policyids.length === j + 1) {
                        this.showLevelAccess('2');
                    }
                }
                else {
                    this.getCheckPageConfig(pageConfig);
                }
            }
        }
        else {
            this.resetForm('3');
            this.rbacForm.patchValue({ accessBy: '3' });
        }
    }
    getCheckPageConfig(pageConfig) {
        if (pageConfig[0].pageConfigs.length) {
            this.fieldLevelClick = true;
            this.setPolicyLevelPagePatching(pageConfig[0].pageConfigs, pageConfig[0].assetConfigs);
        }
        else if (pageConfig[0].assetConfigs.length) {
            const pAccess = this.rbacForm.get('provideAccess').value;
            if (pAccess !== '1') {
                this.setPolicyLevelFieldPatching(pageConfig[0].pageConfigs, pageConfig[0].assetConfigs);
            }
        }
    }
    getDataBasedOnRole(from = null) {
        const roleIds = this.rbacForm.get('roleid').value.map(a => a.id);
        if (roleIds.length) {
            this.editPage = true;
            this.pageLevelAccess = false;
            this.fieldLevelAccess = false;
            const f = this.rbacForm.controls['fieldLevelData'];
            f.controls = [];
            const p = this.rbacForm.controls['pageLevelData'];
            p.controls = [];
            // loop the role ids
            for (let j = 0; j < roleIds.length; j++) {
                const pageConfig = this.roleAddedData.filter(key => key.id === roleIds[j]);
                this.getOrgId(pageConfig);
                if (from === 'field') {
                    this.editPage = false;
                    if (pageConfig[0].assetConfigs.length) {
                        this.setPolicyLevelFieldPatching(pageConfig[0].rolePolicyGroupConfigs, pageConfig[0].assetConfigs, from);
                    }
                    else if (roleIds.length === j + 1) {
                        this.showLevelAccess('2');
                    }
                }
                else {
                    this.getCheckRolePolicyGroup(pageConfig);
                }
            }
        }
        else {
            this.resetForm('2');
            this.rbacForm.patchValue({ accessBy: '2' });
        }
    }
    getOrgId(pageConfig) {
        if (pageConfig?.length) {
            this.organisationid = pageConfig[0]?.organizationid;
        }
    }
    getCheckRolePolicyGroup(pageConfig) {
        if (pageConfig[0].rolePolicyGroupConfigs.length) {
            this.setPolicyLevelPagePatching(pageConfig[0].rolePolicyGroupConfigs, pageConfig[0].assetConfigs);
        }
        else if (pageConfig[0].assetConfigs.length) {
            const pAccess = this.rbacForm.get('provideAccess').value;
            if (pAccess !== '1') {
                this.setPolicyLevelFieldPatching(pageConfig[0].rolePolicyGroupConfigs, pageConfig[0].assetConfigs);
            }
        }
    }
    getRoleAndPolicyData(from = null) {
        const userIds = this.rbacForm.get('userid').value.map(a => a.id);
        if (userIds.length) {
            this.editPage = true;
            this.pageLevelAccess = false;
            this.fieldLevelAccess = false;
            const f = this.rbacForm.controls['fieldLevelData'];
            f.controls = [];
            const p = this.rbacForm.controls['pageLevelData'];
            p.controls = [];
            // loop the role ids
            for (let j = 0; j < userIds.length; j++) {
                const pageConfig = this.userList.filter(key => key.id === userIds[j]);
                if (from === 'field') {
                    this.editPage = false;
                    if (pageConfig[0].assetConfigs.length) {
                        this.setPolicyLevelFieldPatching(pageConfig[0].pageConfigs, pageConfig[0].assetConfigs, from);
                    }
                    else if (userIds.length === j + 1) {
                        this.showLevelAccess('2');
                    }
                }
                else {
                    this.getCheckPolicyLevelField(pageConfig);
                }
            }
        }
        else {
            this.resetForm('1');
            this.rbacForm.patchValue({ accessBy: '1' });
        }
    }
    getCheckPolicyLevelField(pageConfig) {
        if (pageConfig[0].pageConfigs.length) {
            this.setPolicyLevelPagePatching(pageConfig[0].pageConfigs, pageConfig[0].assetConfigs);
        }
        else if (pageConfig[0].assetConfigs.length) {
            const pAccess = this.rbacForm.get('provideAccess').value;
            if (pAccess !== '1') {
                this.setPolicyLevelFieldPatching(pageConfig[0].pageConfigs, pageConfig[0].assetConfigs);
            }
        }
    }
    resetForm(id = null, clear = null) {
        this.subModuleList = this.pageData = this.selectedPageData = [];
        this.fieldLevelCheckCount = [];
        this.pagelevelaccesscount = [];
        this.pagelevelaccesssavedisable = true;
        this.pageLevelAccess = this.fieldLevelAccess = false;
        this.enablesave = true;
        this.pagelevelaccesscountdisable = true;
        const f = this.rbacForm.controls['fieldLevelData'];
        f.controls = [];
        const p = this.rbacForm.controls['pageLevelData'];
        p.controls = [];
        this.policyGroupPages = [];
        this.selectedAccess = '';
        this.selectedName = '';
        this.permissionUpdatedPages = [];
        this.filterText = '';
        this.rbacForm.reset();
        if (id !== null) {
            this.rbacForm.patchValue({ accessBy: id });
        }
        else if (clear !== null) {
            this.AddComponent.resetForm();
        }
    }
    redirectList() {
        this.router.navigateByUrl('/pages/rbac/page-access/page-access-list');
    }
    saveAccessPatching() {
        this.savedFieldPagesPatching = [];
        this.savedPageAccessPatching = false;
        if (this.rbacForm.get('provideAccess')?.value === '2') {
            this.savedPageAccessPatching = true;
        }
        else {
            const ppId = this.rbacForm.get('pageLevelData').value;
            this.savedFieldPagesPatching = [];
            if (ppId?.length) {
                ppId.forEach(element => {
                    const selectedObj = { pageid: element?.pageid, access: element?.pageAccess };
                    this.savedFieldPagesPatching.push(selectedObj);
                });
            }
        }
        this.alert.success('Temporarily saved Data for changes');
    }
    changeFieldAccess(_event, index, selectedPrivilege) {
        const accessArray = this.rbacForm.get('pageLevelData');
        const fieldLevelDataControl = this.rbacForm.get('fieldLevelData');
        const selectedValue = fieldLevelDataControl.at(index).value;
        if (!this.fieldPageLevel?.length) {
            if (selectedPrivilege === 'r') {
                selectedValue.fieldAccessRead ?
                    fieldLevelDataControl.controls[index].get('fieldAccessHide').patchValue(false) :
                    fieldLevelDataControl.controls[index].get('fieldAccessHide').patchValue(true);
                ;
            }
            else {
                selectedValue.fieldAccessHide ?
                    fieldLevelDataControl.controls[index].get('fieldAccessRead').patchValue(false) :
                    fieldLevelDataControl.controls[index].get('fieldAccessRead').patchValue(true);
                ;
            }
        }
        else {
            if (selectedPrivilege === 'c' || selectedPrivilege === 'u') {
                fieldLevelDataControl.controls[index].get('fieldAccessRead').patchValue(true);
                fieldLevelDataControl.controls[index].get('fieldAccessHide').patchValue(false);
                selectedValue.fieldAccessCreate || selectedValue.fieldAccessUpdate
                    ? fieldLevelDataControl.controls[index].get('fieldAccessRead').disable()
                    : fieldLevelDataControl.controls[index].get('fieldAccessRead').enable();
            }
            else if (selectedPrivilege === 'r') {
                selectedValue.fieldAccessRead ?
                    fieldLevelDataControl.controls[index].get('fieldAccessHide').patchValue(false) :
                    fieldLevelDataControl.controls[index].get('fieldAccessHide').patchValue(true);
                ;
            }
            else {
                selectedValue.fieldAccessHide ?
                    fieldLevelDataControl.controls[index].get('fieldAccessRead').patchValue(false) :
                    fieldLevelDataControl.controls[index].get('fieldAccessRead').patchValue(true);
                ;
                fieldLevelDataControl.controls[index].get('fieldAccessCreate').patchValue(false);
                fieldLevelDataControl.controls[index].get('fieldAccessUpdate').patchValue(false);
                fieldLevelDataControl.controls[index].get('fieldAccessRead').enable();
            }
        }
        // const pageIndex = this.rbacForm
        //   .get('pageLevelData')
        //   .value.findIndex(el => el.pageid === this.rbacForm.get('fieldLevelData').value[0].pageId);
        // if (pageIndex > -1) {
        //   accessArray.push(
        //     new FormGroup({
        //       pageName: new FormControl(this.rbacForm.get('pageLevelData').value[pageIndex].pageName),
        //       pageid: new FormControl(this.rbacForm.get('pageLevelData').value[pageIndex].pageid),
        //       validity: new FormControl(this.rbacForm.get('pageLevelData').value[pageIndex].validity),
        //       fallbackTo: new FormControl(this.rbacForm.get('pageLevelData').value[pageIndex].fallbackTo),
        //       condition: new FormControl(this.rbacForm.get('pageLevelData').value[pageIndex].condition),
        //       pageAccessCreate: new FormControl(this.rbacForm.get('pageLevelData').value[pageIndex].pageAccessCreate),
        //       pageAccessRead: new FormControl(this.rbacForm.get('pageLevelData').value[pageIndex].pageAccessRead),
        //       pageAccessUpdate: new FormControl(this.rbacForm.get('pageLevelData').value[pageIndex].pageAccessUpdate),
        //       pageAccessDelete: new FormControl(this.rbacForm.get('pageLevelData').value[pageIndex].pageAccessDelete),
        //       pageAccessNone: new FormControl(this.rbacForm.get('pageLevelData').value[pageIndex].pageAccessNone),
        //     })
        //   );
        //   accessArray.removeAt(pageIndex);
        //   const isExist = this.selectedPageAccessChanges.findIndex(
        //     el => el.pageid === this.rbacForm.get('pageLevelData').value[pageIndex].pageid
        //   );
        //   if (isExist > -1) {
        //     this.selectedPageAccessChanges.splice(isExist, 1);
        //   }
        // }
    }
    changePageAccess(index, selectedPrivilege) {
        const pageLevelData = this.rbacForm.get('pageLevelData');
        const selectedValue = pageLevelData.at(index).value;
        const pageName = this.loadedPagesList.filter(key => key.id === selectedValue.pageid);
        if (pageName[0]?.activeVersion?.templatejson) {
            /*delete will be disabled for Business Driven Page */
            pageLevelData.controls[index].get('pageAccessDelete').disable();
            if (selectedPrivilege === 'c' || selectedPrivilege === 'u') {
                pageLevelData.controls[index].get('pageAccessRead').patchValue(true);
                selectedValue.pageAccessUpdate || selectedValue.pageAccessCreate
                    ? pageLevelData.controls[index].get('pageAccessRead').disable()
                    : pageLevelData.controls[index].get('pageAccessRead').enable();
                pageLevelData.controls[index].get('pageAccessNone').patchValue(false);
            }
            else if (selectedPrivilege === 'r') {
                selectedValue.pageAccessRead ?
                    pageLevelData.controls[index].get('pageAccessNone').patchValue(false) :
                    pageLevelData.controls[index].get('pageAccessNone').patchValue(true);
                ;
            }
            else {
                selectedValue.pageAccessNone
                    ? pageLevelData.controls[index].get('pageAccessRead').patchValue(false)
                    : pageLevelData.controls[index].get('pageAccessRead').patchValue(true);
                pageLevelData.controls[index].get('pageAccessCreate').patchValue(false);
                pageLevelData.controls[index].get('pageAccessUpdate').patchValue(false);
                pageLevelData.controls[index].get('pageAccessRead').enable();
            }
        }
        else {
            if (selectedPrivilege === 'c' || selectedPrivilege === 'u' || selectedPrivilege === 'd') {
                pageLevelData.controls[index].get('pageAccessRead').patchValue(true);
                selectedValue.pageAccessUpdate || selectedValue.pageAccessCreate || selectedValue.pageAccessDelete
                    ? pageLevelData.controls[index].get('pageAccessRead').disable()
                    : pageLevelData.controls[index].get('pageAccessRead').enable();
                pageLevelData.controls[index].get('pageAccessNone').patchValue(false);
            }
            else if (selectedPrivilege === 'r') {
                selectedValue.pageAccessRead ?
                    pageLevelData.controls[index].get('pageAccessNone').patchValue(false) :
                    pageLevelData.controls[index].get('pageAccessNone').patchValue(true);
                ;
            }
            else {
                selectedValue.pageAccessNone
                    ? pageLevelData.controls[index].get('pageAccessRead').patchValue(false)
                    : pageLevelData.controls[index].get('pageAccessRead').patchValue(true);
                pageLevelData.controls[index].get('pageAccessCreate').patchValue(false);
                pageLevelData.controls[index].get('pageAccessUpdate').patchValue(false);
                pageLevelData.controls[index].get('pageAccessDelete').patchValue(false);
                pageLevelData.controls[index].get('pageAccessRead').enable();
            }
        }
        const isExist = this.selectedPageAccessChanges?.findIndex(el => el?.pageid === selectedValue.pageid);
        if (isExist > -1) {
            this.selectedPageAccessChanges[isExist].pageAccess = selectedValue.pageAccess;
        }
        else {
            this.selectedPageAccessChanges.push(selectedValue);
        }
        if (selectedValue.pageAccess === '4') {
            this.setDefaultPageAccess(pageLevelData, index);
        }
        if (this.permissionUpdatedPages.some(pageId => pageId === selectedValue.pageid)) {
            this.permissionUpdatedPages = this.permissionUpdatedPages.filter(pageId => pageId !== selectedValue.pageid);
        }
        this.permissionUpdatedPages.push(selectedValue.pageid);
    }
    setDefaultPageAccess(pageAccessData, i) {
        pageAccessData.at(i).get('condition').setValue('always');
        pageAccessData.at(i).get('validity').setValue('1');
        // pageAccessData.at(i).get('accessdata').setValue('all');
        pageAccessData.at(i).get('fallbackTo').setValue('n');
    }
    checkObjectType(schema, table) {
        return new Promise((resolve) => {
            this.pageAccessService.checkObjectType(schema, table).subscribe(res => {
                resolve(res.data);
            });
        });
    }
    showPopup() {
        this.modalService.open(this.validationPopup);
    }
    static fac = i0.ngDeclareFactory({ minVersion: "12.0.0", version: "16.2.12", ngImport: i0, type: PageaccessComponent, deps: [{ token: i0.Injector }, { token: i1.FormBuilder }, { token: i0.ChangeDetectorRef }, { token: i2.DataStoreService }, { token: i3.Router }, { token: i4.AlertService }], target: i0.FactoryTarget.Component });
    static cmp = i0.ngDeclareComponent({ minVersion: "14.0.0", version: "16.2.12", type: PageaccessComponent, selector: "lib-pageaccess", viewQueries: [{ propertyName: "AddComponent", first: true, predicate: ManageAccessRadioComponent, descendants: true }, { propertyName: "validationPopup", first: true, predicate: ["validationPopup"], descendants: true }], ngImport: i0, template: "<app-alert></app-alert>\r\n<div class=\"row rbac-card\">\r\n  <div class=\"col-12\">\r\n    <mat-card class=\"mat-card\">\r\n      <mat-card-content class=\"p-2\">\r\n        <form [formGroup]=\"rbacForm\">\r\n          <app-manage-access-radio (accessBy)=\"accessBy($event)\" (userDropdown)=\"userDropdown($event)\"\r\n            (roleDropdown)=\"roleDropdown($event)\" (policyDropdown)=\"policyDropdown($event)\"\r\n            (dropDownSelectedValues)=\"dropDownSelectedValues($event)\"></app-manage-access-radio>\r\n          <h3 class=\"radio-title mt-1 mb-2 pa-title\">Page Access Management</h3>\r\n          <mat-card class=\"mat-card\">\r\n            <mat-card-content class=\"p-2\">\r\n              <div class=\"row\">\r\n                <div class=\"col-lg-3 col-md-6 col-12 mb-3\" *ngIf=\"false\">\r\n                  <label class=\"radio-title\">Modules</label>\r\n                  <!-- <angular2-multiselect [data]=\"moduleList\" [settings]=\"moduleDropdownSettings\"\r\n                    onSelect=\"loadSubModule('click')\" onDeSelect=\"removeSubModule($event)\"\r\n                    onSelectAll=\"loadSubModule('click')\" onDeSelectAll=\"removeAllSubModule()\"\r\n                    formControlName=\"module\"></angular2-multiselect> -->\r\n                </div>\r\n                <div class=\"col-lg-3 col-md-6 col-12 mb-3\" *ngIf=\"false\">\r\n                  <label class=\"radio-title\">Sub Modules</label>\r\n                  <!-- <angular2-multiselect [data]=\"subModuleList\" [settings]=\"submoduleDropdownSettings\"\r\n                    onSelect=\"loadSubModulePage('click')\" onDeSelect=\"removeSubModulePage($event, 'submodule')\"\r\n                    onSelectAll=\"loadSubModulePage('click')\" onDeSelectAll=\"removeAllSubModulePage()\"\r\n                    formControlName=\"submodule\">\r\n                  </angular2-multiselect> -->\r\n                </div>\r\n\r\n                <div class=\"col-lg-7 mb-3\">\r\n                  <p-accordion class=\"w-full policygroup-accordion\" iconPos=\"endVal\">\r\n                    <p-accordionTab>\r\n                      <ng-template pTemplate=\"header\">\r\n                        <span class=\"flex align-items-center head-text gap-2 w-full\">\r\n                          <span class=\"font-bold\">\r\n                            <label aria-labelledby=\"policyGroupList\" for=\"policyGroupList\"\r\n                              class=\"mb-0 referral-form-labels\">Pages\r\n\r\n                              <span *ngIf=\"selectedPageData.length > 0\"\r\n                                class=\"pg-count ml-2\">{{selectedPageData.length}}</span>\r\n                            </label>\r\n                          </span>\r\n                        </span>\r\n                      </ng-template>\r\n                      <!-- <angular2-multiselect [data]=\"pagesList\" [settings]=\"pageDropdownSettings\"\r\n                        (onSelect)=\"populatePage('click',true,$event)\" fieldKey=\"SETTINGS_PAG_ACC_PAGE\"\r\n                        (onDeSelect)=\"populatePage('click',false,$event)\"\r\n                        (onSelectAll)=\"populatePage('click',true,$event)\" (onDeSelectAll)=\"removeAllPopulatePage()\"\r\n                        formControlName=\"pageList\"></angular2-multiselect> -->\r\n                      <p-multiSelect [options]=\"pagesList\" formControlName=\"pageList\" fieldKey=\"SETTINGS_PAG_ACC_PAGE\"\r\n                        defaultLabel=\"Select Pages\" display=\"chip\" optionLabel=\"pagename\" [autoDisplayFirst]=\"false\"\r\n                        styleClass=\"policygroup-v2 w-100\" (onChange)=\"populatePage('click',true,$event)\" [resetFilterOnHide]=\"true\"\r\n                        (onFilter)= \"onFilterPages($event)\">\r\n                        <ng-template let-value pTemplate=\"selectedItems\">\r\n                          <div *ngFor=\"let option of value\">\r\n                            <div #selectedpg class=\"p-multiselect-token\" [ngClass]=\"option.disabled ? 'disabled' : '' \"\r\n                              id=\"{{option.id}}\">\r\n                              <span class=\"policygroupname\" pTooltip=\"{{option?.pagename}}\" tooltipPosition=\"top\">\r\n                                {{ option.pagename }}\r\n                              </span>\r\n                              <em class=\"pi pi-times-circle ml-2 clear-icon right-sec\" *ngIf=\"!option.disabled\"\r\n                                role=\"button\" (click)=\"removeValue($event, selectedpg)\"></em>\r\n                            </div>\r\n                          </div>\r\n                          <div *ngIf=\"!value || value.length === 0\">Select Pages</div>\r\n                        </ng-template>\r\n                      </p-multiSelect>\r\n                    </p-accordionTab>\r\n                  </p-accordion>\r\n                </div>\r\n\r\n                <div class=\"col-lg-3 col-md-12 col-12 mb-3\">\r\n                  <label class=\"radio-title d-block required\">Provide Access by </label>\r\n                  <mat-radio-group formControlName=\"provideAccess\" (change)=\"showLevelAccess($event.value)\">\r\n                    <mat-radio-button value=\"1\" fieldKey=\"SETTINGS_PAG_ACC_PAGE_PAGE_LEVEL\">Page\r\n                      Level&nbsp;&nbsp;</mat-radio-button>\r\n                    <mat-radio-button value=\"2\" fieldKey=\"SETTINGS_PAG_ACC_PAG_FIELD_LEVEL\">Field\r\n                      Level</mat-radio-button>\r\n                  </mat-radio-group>\r\n                </div>\r\n                <div class=\"col-lg-2 col-md-6 col-12 mb-3\" *ngIf=\"fieldLevelAccess\">\r\n                  <label class=\"radio-title\">Select Page</label>\r\n                  <br />\r\n                  <p-dropdown id=\"selectpage\" ariaLabelledBy=\"selectpage\" [options]=\"selectedPageDataFilter\"\r\n                    fieldKey=\"SETTINGS_PAG_ACC_PAGE\" [filter]=\"true\"\r\n                    [showClear]=\"fieldLevelCheckCount && fieldLevelCheckCount?.length\" [resetFilterOnHide]=\"true\"\r\n                    (onChange)=\"getFieldLevelList('click')\" formControlName=\"fpages\" optionLabel=\"pagename\"\r\n                    optionValue=\"id\" placeholder=\"Select a page\" class=\"dd-stand-size\">\r\n                    <ng-template let-item pTemplate=\"selectedItem\">\r\n                      <div pTooltip=\"{{item?.pagename}}\" tooltipPosition=\"top\" class=\"text-truncate\"> {{ item?.pagename\r\n                        }}</div>\r\n                    </ng-template>\r\n                    <ng-template let-object pTemplate=\"item\">\r\n                      {{ object.pagename }}\r\n                    </ng-template>\r\n                  </p-dropdown>\r\n                </div>\r\n              </div>\r\n\r\n              <div *ngIf=\"pageLevelAccess\" class=\"row\">\r\n                <div class=\"col-12 mt-3 pageLevelAccessTable\">\r\n                  <table aria-describedby=\"pageLevelAccessTable\" class=\"table table-bordered\">\r\n                    <col />\r\n                    <col style=\"width: 120px\" />\r\n                    <col style=\"width: 120px\" />\r\n                    <col style=\"width: 120px\" />\r\n                    <col style=\"width: 120px\" />\r\n                    <col style=\"width: 120px\" />\r\n                    <col style=\"width: 25%\" *ngIf=\"false\" />\r\n                    <col style=\"width: 20%\" />\r\n                    <thead>\r\n                      <th class=\"text-left\">Page Name</th>\r\n                      <th scope=\"col\" class=\"text-center\">Create</th>\r\n                      <th scope=\"col\" class=\"text-center\">Read</th>\r\n                      <th scope=\"col\" class=\"text-center\">Update1</th>\r\n                      <th scope=\"col\" class=\"text-center\">Delete</th>\r\n                      <th scope=\"col\" class=\"text-center\">None</th>\r\n                      <th class=\"text-center\" *ngIf=\"false\">Validity</th>\r\n                      <th class=\"text-center\">Data Access</th>\r\n                    </thead>\r\n                    <tbody>\r\n                      <ng-container formArrayName=\"pageLevelData\"\r\n                        *ngFor=\"let fAccess of rbacForm.get('pageLevelData')['controls']; let i = index\">\r\n                        <tr [formGroup]=\"rbacForm.get('pageLevelData')['controls'][i]\">\r\n                          <td class=\"text-left\">\r\n                            <input style=\"border: none; pointer-events: none; width: 360px\" type=\"text\"\r\n                              formControlName=\"pageName\" placeholder=\"pageleveldata\" />\r\n                          </td>\r\n                          <td class=\"text-center\">\r\n                            <label class=\"g-checkbox\">\r\n                              <input (change)=\"changePageAccess(i,'c')\"\r\n                                formControlName=\"pageAccessCreate\" type=\"checkbox\" value=\"1\"\r\n                                fieldKey=\"SETTINGS_PAG_ACC_PAGE_PAGE_LEVEL_READ_WRITE\">\r\n                            </label>\r\n                          </td>\r\n                          <td class=\"text-center\">\r\n                            <label class=\"g-checkbox\">\r\n                              <input (change)=\"changePageAccess(i,'r')\" formControlName=\"pageAccessRead\"\r\n                                fieldKey=\"SETTINGS_PAG_ACC_PAGE_PAGE_LEVEL_READ\" type=\"checkbox\" value=\"2\">\r\n                            </label>\r\n                          </td>\r\n                          <td class=\"text-center\">\r\n                            <label class=\"g-checkbox\">\r\n                              <input (change)=\"changePageAccess(i,'u')\"\r\n                                formControlName=\"pageAccessUpdate\"\r\n                                fieldKey=\"SETTINGS_PAG_ACC_PAGE_PAGE_LEVEL_READ_WRITE\" type=\"checkbox\" value=\"5\">\r\n                                <a href=\"javascript:void(0)\" (click) = \"showPopup()\" >Conditional</a>\r\n                            </label>\r\n                          </td>\r\n                          <td class=\"text-center\">\r\n                            <label class=\"g-checkbox\">\r\n                              <input (change)=\"changePageAccess(i,'d')\"\r\n                                formControlName=\"pageAccessDelete\"\r\n                                fieldKey=\"SETTINGS_PAG_ACC_PAGE_PAGE_LEVEL_READ_WRITE_DELETE\" type=\"checkbox\" value=\"6\">\r\n                            </label>\r\n                          </td>\r\n                          <td class=\"text-center\">\r\n                            <label class=\"g-checkbox\">\r\n                              <input (change)=\"changePageAccess(i,'n')\" formControlName=\"pageAccessNone\"\r\n                                fieldKey=\"SETTINGS_PAG_ACC_PAGE_PAGE_LEVEL_NONE\" type=\"checkbox\" value=\"4\">\r\n                            </label>\r\n                          </td>\r\n                          <td class=\"text-center\" *ngIf=\"false\" >\r\n                            <ng-container *ngIf=\"\r\n                                  rbacForm.get('pageList')?.value[i]?.activeVersion?.gridconfig ||\r\n                                  rbacForm.get('pageList')?.value[i]?.gridconfig\r\n                                \">\r\n                              <p-dropdown [options]=\"conditions\" styleClass=\"condition\" formControlName=\"condition\"\r\n                                placeholder=\"Select a condition\" [disabled]=\"fAccess?.value?.pageAccess === '4'\"\r\n                                optionLabel=\"name\" optionValue=\"key\">\r\n                              </p-dropdown>\r\n                              <p-inputNumber type=\"number\" class=\"validity\"\r\n                                *ngIf=\"fAccess?.value?.condition !== 'always'\"\r\n                                [readonly]=\"fAccess?.value?.pageAccess === '4'\" [min]=\"1\"\r\n                                fieldKey=\"SETTINGS_PAG_ACC_PAGE_PAGE_LEVEL_VALIDITY\" formControlName=\"validity\"\r\n                                mode=\"decimal\"></p-inputNumber>\r\n                              <p-dropdown [options]=\"getFallbackPermission(fAccess)\" styleClass=\"condition\"\r\n                                formControlName=\"fallbackTo\" *ngIf=\"fAccess?.value?.condition !== 'always'\"\r\n                                placeholder=\"Select a permission\"\r\n                                [disabled]=\"fAccess?.value?.pageAccess === '3' || fAccess?.value?.pageAccess === '4'\"\r\n                                optionLabel=\"name\" optionValue=\"key\" [style]=\"{ 'margin-left': '15px' }\">\r\n                              </p-dropdown>\r\n                            </ng-container>\r\n                          </td>\r\n                          <td class=\"text-center\" >\r\n                            <ng-container *ngIf=\"\r\n                              rbacForm.get('pageList')?.value[i]?.activeVersion?.gridconfig ||\r\n                              rbacForm.get('pageList')?.value[i]?.gridconfig\r\n                              \">\r\n                              <p-dropdown [options]=\"dataAccess\" styleClass=\"condition\"\r\n                                formControlName=\"accessdata\"\r\n                                placeholder=\"Select a permission\"\r\n                                optionLabel=\"name\" optionValue=\"key\">\r\n                              </p-dropdown>\r\n                            </ng-container>\r\n                          </td>\r\n                        </tr>\r\n                      </ng-container>\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n              </div>\r\n              <div class=\"row\"\r\n                *ngIf=\"showFieldGrid && fieldLevelCheckCount?.length > 0 && fieldLevelAccess && fieldPageLevel?.length > 0\">\r\n                <div class=\"col-12\">\r\n                  <div class=\"table-responsive\">\r\n                    <table aria-describedby=\"fieldLevelAccessTable\" class=\"table table-bordered\">\r\n                      <col />\r\n                      <col style=\"width: 120px\" />\r\n                      <col style=\"width: 120px\" />\r\n                      <col style=\"width: 120px\" />\r\n                      <col style=\"width: 120px\" />\r\n                      <col *ngIf=\"false\" />\r\n                      <col />\r\n                      <thead>\r\n                        <th class=\"text-left\">Field Name</th>\r\n                        <th class=\"text-center\">Create</th>\r\n                        <th class=\"text-center\">Read</th>\r\n                        <th class=\"text-center\">Update</th>\r\n                        <th class=\"text-center\">None</th>\r\n                        <th class=\"text-center\" *ngIf=\"showFieldValidity && false\">Validity</th>\r\n                      </thead>\r\n                      <tbody>\r\n                        <ng-container formArrayName=\"fieldLevelData\"\r\n                          *ngFor=\"let fAccess of rbacForm.get('fieldLevelData')['controls']; let i = index\">\r\n                          <tr [formGroupName]=\"i\">\r\n                            <td class=\"text-left\">\r\n                              {{ fData[i]['displayname'] }}\r\n                              <span class=\"pi pi-info-circle asset-path-info\" pTooltip=\"Asset Path: {{ fData[i]['assetpath'] }}\" tooltipPosition=\"right\" ></span>\r\n                              <input type=\"hidden\" formControlName=\"assetid\" value=\"{{ fData[i]['id'] }}\" />\r\n                              <input type=\"hidden\" formControlName=\"pageId\" />\r\n                            </td>\r\n                            <td class=\"text-center\">\r\n                              <label class=\"g-checkbox\">\r\n                                <input formControlName=\"fieldAccessCreate\" (change)=\"changeFieldAccess($event, i, 'c')\"\r\n                                  type=\"checkbox\" value=\"3\">\r\n                              </label>\r\n                            </td>\r\n                            <td class=\"text-center\">\r\n                              <label class=\"g-checkbox\">\r\n                                <input formControlName=\"fieldAccessRead\" (change)=\"changeFieldAccess($event, i, 'r')\"\r\n                                  type=\"checkbox\" value=\"2\">\r\n                              </label>\r\n                            </td>\r\n                            <td class=\"text-center\">\r\n                              <label class=\"g-checkbox\">\r\n                                <input formControlName=\"fieldAccessUpdate\" (change)=\"changeFieldAccess($event, i, 'u')\"\r\n                                  type=\"checkbox\" value=\"\">\r\n                              </label>\r\n                            </td>\r\n                            <td class=\"text-center\">\r\n                              <label class=\"g-checkbox\">\r\n                                <input formControlName=\"fieldAccessHide\" (change)=\"changeFieldAccess($event, i, 'h')\"\r\n                                  type=\"checkbox\" value=\"4\">\r\n                              </label>\r\n                            </td>\r\n                            <td class=\"text-center\" *ngIf=\"showFieldValidity && false\">\r\n                              <p-dropdown [options]=\"conditions\" styleClass=\"condition\"\r\n                                [disabled]=\"fAccess?.value?.access === '4'\" formControlName=\"condition\"\r\n                                placeholder=\"Select a condition\" optionLabel=\"name\" optionValue=\"key\">\r\n                              </p-dropdown>\r\n                              <input type=\"number\" class=\"validity\" *ngIf=\"fAccess?.value?.condition !== 'always'\"\r\n                                [min]=\"1\" formControlName=\"validity\" [readonly]=\"fAccess?.value?.access === '4'\"\r\n                                style=\"width: 50px; margin-left: 15px\" pInputText />\r\n                              <p-dropdown [options]=\"getFallbackPermission(fAccess)\" styleClass=\"condition\"\r\n                                formControlName=\"fallbackTo\" *ngIf=\"fAccess?.value?.condition !== 'always'\"\r\n                                placeholder=\"Select a permission\"\r\n                                [disabled]=\"fAccess?.value?.access === '4' || fAccess?.value?.access === '3'\"\r\n                                optionLabel=\"name\" optionValue=\"key\" [style]=\"{ 'margin-left': '15px' }\">\r\n                              </p-dropdown>\r\n                            </td>\r\n                          </tr>\r\n                        </ng-container>\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <!-- This code for field access for grid page -->\r\n              <div class=\"row\"\r\n                *ngIf=\"showFieldGrid && fieldLevelCheckCount?.length > 0 && fieldLevelAccess && fieldPageLevel?.length === 0\">\r\n                <div class=\"col-12\">\r\n                  <div class=\"table-responsive\">\r\n                    <table aria-describedby=\"fieldLevelAccessTable\" class=\"table table-bordered\">\r\n                      <col />\r\n                      <col style=\"width: 120px\" />\r\n                      <col style=\"width: 120px\" />\r\n                      <col *ngIf=\"false\" />\r\n                      <thead>\r\n                        <tr>\r\n                          <th class=\"text-left\">Field Name</th>\r\n                          <th class=\"text-center\">Read</th>\r\n                          <!-- <th class=\"text-center\">Write</th> -->\r\n                          <th class=\"text-center\">None</th>\r\n                          <th class=\"text-center\" *ngIf=\"showFieldValidity && false\">Validity</th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        <ng-container formArrayName=\"fieldLevelData\"\r\n                          *ngFor=\"let fAccess of rbacForm.get('fieldLevelData')['controls']; let i = index\">\r\n                          <tr [formGroupName]=\"i\">\r\n                            <td class=\"text-left\">\r\n                              {{ fData[i]['displayname'] }}\r\n                              <input type=\"hidden\" formControlName=\"assetid\" value=\"{{ fData[i]['id'] }}\" />\r\n                              <input type=\"hidden\" formControlName=\"pageId\" name=\"permissiongroup_{{i}}\" />\r\n                            </td>\r\n                            <td class=\"text-center\">\r\n                              <label class=\"g-checkbox\">\r\n                                <input formControlName=\"fieldAccessRead\" (change)=\"changeFieldAccess($event, i,'r')\" type=\"checkbox\">\r\n                              </label>\r\n                            </td>\r\n                            <!-- <td class=\"text-center\">\r\n                              <input formControlName=\"access\" (change)=\"changeFieldAccess($event)\" type=\"radio\" value=\"2\" />\r\n                            </td> -->\r\n                            <td class=\"text-center\">\r\n                              <label class=\"g-checkbox\">\r\n                                <input formControlName=\"fieldAccessHide\" (change)=\"changeFieldAccess($event, i, 'h')\" type=\"checkbox\">\r\n                              </label>\r\n                            </td>\r\n                            <td class=\"text-center\" *ngIf=\"showFieldValidity && false\">\r\n                              <p-dropdown [options]=\"conditions\" styleClass=\"condition\"\r\n                                [disabled]=\"fAccess?.value?.access === '4'\" formControlName=\"condition\"\r\n                                placeholder=\"Select a condition\" optionLabel=\"name\" optionValue=\"key\">\r\n                              </p-dropdown>\r\n                              <input type=\"number\" class=\"validity\" *ngIf=\"fAccess?.value?.condition !== 'always'\"\r\n                                [min]=\"1\" formControlName=\"validity\" [readonly]=\"fAccess?.value?.access === '4'\"\r\n                                style=\"width: 50px; margin-left: 15px\" pInputText />\r\n                              <p-dropdown [options]=\"getFallbackPermission(fAccess)\" styleClass=\"condition\"\r\n                                formControlName=\"fallbackTo\" *ngIf=\"fAccess?.value?.condition !== 'always'\"\r\n                                placeholder=\"Select a permission\"\r\n                                [disabled]=\"fAccess?.value?.access === '4' || fAccess?.value?.access === '3'\"\r\n                                optionLabel=\"name\" optionValue=\"key\" [style]=\"{ 'margin-left': '15px' }\">\r\n                              </p-dropdown>\r\n                            </td>\r\n                          </tr>\r\n                        </ng-container>\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </mat-card-content>\r\n          </mat-card>\r\n        </form>\r\n        <div class=\"mt-3\" *ngIf=\"policyGroupPages.length && !fieldLevelAccess && selectedAccess === 'role'\">\r\n          <p-accordion class=\"w-full dynamic-search\" iconPos=\"endVal\">\r\n            <p-accordionTab>\r\n              <ng-template pTemplate=\"header\">\r\n                <span class=\"flex align-items-center head-text gap-2 w-full\">\r\n                  <span class=\"font-bold\">Policy Groups associated with {{ selectedName }} Role</span>\r\n                </span>\r\n              </ng-template>\r\n              <mat-card class=\"mt-2\">\r\n                <mat-card-content>\r\n                  <div class=\"row\">\r\n                    <div class=\"col-12 mt-1\" *ngFor=\"let policyGroup of policyGroupPages\">\r\n                      <div class=\"radio-title mb-2\">Policy Group: {{ policyGroup?.policygroup?.policygroupname }}</div>\r\n                      <!-- It shows associated Roles -->\r\n                      <div class=\"table-responsive\">\r\n                        <table id=\"policyGroupTable\" aria-describedby=\"policyGroupTable\" class=\"table table-bordered\">\r\n                          <col />\r\n                          <col style=\"width: 100px\" />\r\n                          <col style=\"width: 100px\" />\r\n                          <col style=\"width: 100px\" />\r\n                          <col style=\"width: 100px\" />\r\n                          <col style=\"width: 100px\" />\r\n                          <thead>\r\n                            <tr>\r\n                              <th scope=\"col\" class=\"text-left\">Page Name</th>\r\n                              <th scope=\"col\" class=\"text-center\">Create</th>\r\n                              <th scope=\"col\" class=\"text-center\">Read</th>\r\n                              <th scope=\"col\" class=\"text-center\">Update</th>\r\n                              <th scope=\"col\" class=\"text-center\">Delete</th>\r\n                              <th scope=\"col\" class=\"text-center\">None</th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                            <ng-container *ngFor=\"let page of policyGroup?.policygrouppage\">\r\n                              <tr>\r\n                                <td class=\"text-left\">\r\n                                  <input style=\"border: none; pointer-events: none; width: 360px\" type=\"text\"\r\n                                    title=\"page?.page?.activeVersion?.pagename\"\r\n                                    [value]=\"page?.page[0]?.activeVersion?.pagename\" />\r\n                                </td>\r\n\r\n                                <td class=\"text-center\">\r\n                                  <label class=\"g-checkbox\">\r\n                                    <input disabled [checked]=\"page?.c\" type=\"checkbox\">\r\n                                  </label>\r\n                                </td>\r\n                                <td class=\"text-center\">\r\n                                  <label class=\"g-checkbox\">\r\n                                    <input disabled [checked]=\"page?.r\" type=\"checkbox\">\r\n                                  </label>\r\n                                </td>\r\n                                <td class=\"text-center\">\r\n                                  <label class=\"g-checkbox\">\r\n                                    <input disabled [checked]=\"page?.u\" type=\"checkbox\">\r\n                                  </label>\r\n                                </td>\r\n                                <td class=\"text-center\">\r\n                                  <label class=\"g-checkbox\">\r\n                                    <input disabled [checked]=\"page?.d\" type=\"checkbox\">\r\n                                  </label>\r\n                                </td>\r\n                                <td class=\"text-center\">\r\n                                  <label class=\"g-checkbox\">\r\n                                    <input disabled [checked]=\"page?.hide\" type=\"checkbox\">\r\n                                  </label>\r\n                                </td>\r\n                              </tr>\r\n                            </ng-container>\r\n                            <ng-container *ngIf=\"policyGroupPages?.length === 0\">\r\n                              <tr>\r\n                                <td class=\"text-center\" colspan=\"4\">No pages associated with Policy Group.</td>\r\n                              </tr>\r\n                            </ng-container>\r\n                          </tbody>\r\n                        </table>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </mat-card-content>\r\n              </mat-card>\r\n            </p-accordionTab>\r\n          </p-accordion>\r\n\r\n        </div>\r\n        <div class=\"mt-3\" *ngIf=\"policyGroupRolePages.length && !fieldLevelAccess && selectedAccess === 'policygroup'\">\r\n          <p-accordion class=\"w-full dynamic-search\" iconPos=\"endVal\">\r\n            <p-accordionTab>\r\n              <ng-template pTemplate=\"header\">\r\n                <span class=\"flex align-items-center head-text gap-2 w-full\">\r\n                  <span class=\"font-bold\">Roles associated with {{ selectedName }} Policy Group</span>\r\n                </span>\r\n              </ng-template>\r\n              <mat-card class=\"mt-2\">\r\n                <mat-card-content>\r\n                  <div class=\"row\">\r\n                    <div class=\"col-12 mt-1\" *ngFor=\"let role of policyGroupRolePages\">\r\n                      <div class=\"radio-title mb-2\">Role: {{ role?.role?.name }}</div>\r\n                      <!-- It shows associated policygroups -->\r\n                      <div class=\"table-responsive\">\r\n                        <table id=\"policyGroupTable\" aria-describedby=\"policyGroupTable\" class=\"table table-bordered\">\r\n                          <col />\r\n                          <col style=\"width: 100px\" />\r\n                          <col style=\"width: 100px\" />\r\n                          <col style=\"width: 100px\" />\r\n                          <col style=\"width: 100px\" />\r\n                          <col style=\"width: 100px\" />\r\n                          <thead>\r\n                            <tr>\r\n                              <th scope=\"col\" class=\"text-left\">Page Name</th>\r\n                              <th scope=\"col\" class=\"text-center\">Create</th>\r\n                              <th scope=\"col\" class=\"text-center\">Read</th>\r\n                              <th scope=\"col\" class=\"text-center\">Update</th>\r\n                              <th scope=\"col\" class=\"text-center\">Delete</th>\r\n                              <th scope=\"col\" class=\"text-center\">None</th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                            <ng-container *ngFor=\"let page of role?.rolepage\">\r\n                              <tr>\r\n                                <td class=\"text-left\">\r\n                                  <input style=\"border: none; pointer-events: none; width: 360px\" type=\"text\"\r\n                                    title=\"page?.page?.activeVersion?.pagename\"\r\n                                    [value]=\"page?.page[0]?.activeVersion?.pagename\" />\r\n                                </td>\r\n\r\n                                <td class=\"text-center\">\r\n                                  <label class=\"g-checkbox\">\r\n                                    <input disabled [checked]=\"page?.c\" type=\"checkbox\">\r\n                                  </label>\r\n                                </td>\r\n                                <td class=\"text-center\">\r\n                                  <label class=\"g-checkbox\">\r\n                                    <input disabled [checked]=\"page?.r\" type=\"checkbox\">\r\n                                  </label>\r\n                                </td>\r\n                                <td class=\"text-center\">\r\n                                  <label class=\"g-checkbox\">\r\n                                    <input disabled [checked]=\"page?.u\" type=\"checkbox\">\r\n                                  </label>\r\n                                </td>\r\n                                <td class=\"text-center\">\r\n                                  <label class=\"g-checkbox\">\r\n                                    <input disabled [checked]=\"page?.d\" type=\"checkbox\">\r\n                                  </label>\r\n                                </td>\r\n                                <td class=\"text-center\">\r\n                                  <label class=\"g-checkbox\">\r\n                                    <input disabled [checked]=\"page?.hide\" type=\"checkbox\">\r\n                                  </label>\r\n                                </td>\r\n                              </tr>\r\n                            </ng-container>\r\n                            <ng-container *ngIf=\"policyGroupRolePages?.length === 0\">\r\n                              <tr>\r\n                                <td class=\"text-center\" colspan=\"4\">No pages associated with Role.</td>\r\n                              </tr>\r\n                            </ng-container>\r\n                          </tbody>\r\n                        </table>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </mat-card-content>\r\n              </mat-card>\r\n            </p-accordionTab>\r\n          </p-accordion>\r\n\r\n        </div>\r\n        <div class=\"text-right mt-3\" *ngIf=\"multiPageAccess\">\r\n          <!-- <button class=\"btn btn-primary mr-2\" fieldKey=\"SETTINGS_PAG_ACC_BACK\" (click)=\"redirectList()\">Back</button> -->\r\n          <!-- <button class=\"btn btn-cancel mr-2\" fieldKey=\"SETTINGS_PAG_ACC_CLEAR\" (click)=\"resetForm()\">Clear</button> -->\r\n          <button class=\"btn btn-primary\" fieldKey=\"SETTINGS_PAG_ACC_SAVE\" (click)=\"submitAlert()\"\r\n            [disabled]=\"(pagelevelaccesssavedisable && pagelevelaccesscountdisable) || (enablesave && pagelevelaccesscount && pagelevelaccesscount?.length > 0)\">Save</button>\r\n        </div>\r\n        <div class=\"text-right mt-3\" *ngIf=\"!multiPageAccess\">\r\n          <!-- <button class=\"btn btn-primary mr-2\" fieldKey=\"SETTINGS_PAG_ACC_BACK\" (click)=\"redirectList()\">Back</button> -->\r\n          <!-- <button class=\"btn btn-cancel mr-2\" fieldKey=\"SETTINGS_PAG_ACC_CLEAR\" (click)=\"resetForm()\">Clear</button> -->\r\n          <button class=\"btn btn-primary\" fieldKey=\"SETTINGS_PAG_ACC_SAVE\" (click)=\"submitAlert()\"\r\n            [disabled]=\"((multiPageAccess) || (fieldLevelCheckCount && fieldLevelCheckCount?.length === 0) || (enablesave && fieldLevelCheckCount && fieldLevelCheckCount?.length > 0) || (!pagelevelaccesscount || pagelevelaccesscount?.length === 0))\">Save</button>\r\n        </div>\r\n      </mat-card-content>\r\n    </mat-card>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"modal\" id=\"submitAlert\" tabindex=\"-1\" role=\"dialog\">\r\n  <div class=\"modal-dialog modal-lg\" role=\"document\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-body\">\r\n        <p>Field Level Access is already present for this Page. Modifying the Page Level Access will remove all Field\r\n          Level\r\n          Access. Do you want to proceed?</p>\r\n        <div class=\"clearfix\"></div>\r\n        <div class=\"mt-2\">\r\n          <button class=\"pull-right mb-2 btn btn-primary btncommon delete\" data-dismiss=\"modal\" (click)=\"saveRbac()\">\r\n            Yes\r\n          </button>\r\n          <button class=\"pull-right mb-2 mr-2 btn bg-white text-primary btncancel\" data-dismiss=\"modal\"\r\n            (click)=\"getSelectedPages()\">Cancel</button>\r\n        </div>\r\n        <div class=\"clearfix\"></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<ng-template #validationPopup let-modal>\r\n  <div class=\"modal-body p-3\">\r\n    <div class=\"reset-password-div\">\r\n      <textarea rows=\"3\" cols=\"30\" pInputTextarea\r\n        placeholder=\"Add Condition\" maxlength=\"4000\" class=\"form-control no-resize\"\r\n        [(ngModel)]=\"additionalConditions\">\r\n      </textarea>\r\n    </div>\r\n  </div>\r\n  <div class=\"modal-footer p-3\">\r\n    <p-button label=\"Save\" styleClass=\"btn px-3 py-1 mr-2 \"> </p-button>\r\n    <p-button label=\"Cancel\" styleClass=\"btn px-3 py-1 mr-2 \"> </p-button>\r\n  </div>\r\n</ng-template>\r\n", styles: [".mat-card-content .mat-radio-group .mat-radio-button{padding-right:10px;font-family:Roboto,sans-serif!important}.toggleleft{font-size:var(--font-14);font-weight:600;display:block;padding-bottom:13px}:host ::ng-deep .p-dropdown.nobg{background-color:transparent;border:none}:host ::ng-deep .p-dropdown.nobg:hover,:host ::ng-deep .p-dropdown.nobg:focus{background-color:transparent!important;border:none!important}.pageLevelAccessTable table thead tr th,.pageLevelAccessTable table tbody tr td{vertical-align:middle;color:var(--text-dark)}.pageLevelAccessTable table thead tr th input,.pageLevelAccessTable table tbody tr td input{background:var(--bg-light);color:var(--text-dark);font-size:var(--font-15)!important}.pageLevelAccessTable table thead tr th a:hover,.pageLevelAccessTable table tbody tr td a:hover{text-decoration:none}:host ::ng-deep .p-inputnumber-input{width:50px;margin-left:15px}@media screen and (max-width: 990px){:host ::ng-deep .selected-list .c-list{width:calc(100% - 35px)!important}.pageLevelAccessTable{width:100%;overflow:auto}.pageLevelAccessTable .table{margin-bottom:60px}}:host ::ng-deep .dynamic-search .p-component{font-size:var(--font-13)}:host ::ng-deep .dynamic-search .p-component .p-accordion-toggle-icon{margin-top:-8px;position:absolute;right:.5em;top:50%;font-size:var(--font-13);color:var(--primary)}:host ::ng-deep .dynamic-search .p-component .head-text span{color:var(--primary);font-size:var(--font-16);font-weight:400}:host ::ng-deep .dynamic-search .error-text{font-size:var(--font-12)}:host ::ng-deep .policygroup-v2 .selected-list .c-list .c-token{background-color:#f6fcff;color:#000;border:1px solid #D9D9D9;width:100%;margin:3px 0}:host ::ng-deep .policygroup-v2 .selected-list .c-list .c-token .c-remove{position:absolute;right:12px;top:50%;transform:translateY(-50%);width:10px;height:10px;margin-top:-5px;opacity:.8}:host ::ng-deep .policygroup-v2 .selected-list .c-list .c-token .c-remove svg{fill:#000;border:1px solid #000;border-radius:100%;width:14px;height:14px;padding:2px}:host ::ng-deep .policygroup-v2 .clear-all{display:none}:host ::ng-deep .rbac-card .dd-stand-size .p-dropdown{width:100%!important}:host ::ng-deep .pa-title{margin-top:-5px}.radio-button-container{position:relative;cursor:pointer;-webkit-user-select:none;user-select:none}.radio-button-container input{position:absolute;opacity:0;cursor:pointer;text-indent:-9000px}.checkmark{position:absolute;top:0;left:-10.5px;height:18px;width:18px;background-color:#0000;border-radius:50%;border:2px solid #D6D5D5;transition:all .3s}.radio-button-container:hover input~.checkmark{border-color:var(--primary)}.radio-button-container:focus input~.checkmark{outline:0;box-shadow:0 0 0 .2rem #0086d1}.radio-button-container input:checked~.checkmark{background-color:#0000;border-color:var(--primary)}.checkmark:after{content:\"\";position:absolute;display:none}.radio-button-container input:checked~.checkmark:after{display:block}.radio-button-container .checkmark:after{top:3px;left:3px;width:8px;height:8px;border-radius:50%;background:var(--primary)}.radio-button-container input[type=radio]:disabled+span.checkmark{opacity:.8;pointer-events:none}.g-checkbox{margin-bottom:0}:host ::ng-deep .p-multiselect-label>div{width:calc(33% - 5px);display:inline-block;margin:0 5px 0 0}.asset-path-info{position:relative;top:2px;cursor:default;margin-left:3px}\n"], dependencies: [{ kind: "directive", type: i5.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { kind: "directive", type: i5.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i5.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "directive", type: i1.NgNoValidate, selector: "form:not([ngNoForm]):not([ngNativeValidate])" }, { kind: "directive", type: i1.DefaultValueAccessor, selector: "input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]" }, { kind: "directive", type: i1.NumberValueAccessor, selector: "input[type=number][formControlName],input[type=number][formControl],input[type=number][ngModel]" }, { kind: "directive", type: i1.CheckboxControlValueAccessor, selector: "input[type=checkbox][formControlName],input[type=checkbox][formControl],input[type=checkbox][ngModel]" }, { kind: "directive", type: i1.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { kind: "directive", type: i1.NgControlStatusGroup, selector: "[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]" }, { kind: "directive", type: i1.MaxLengthValidator, selector: "[maxlength][formControlName],[maxlength][formControl],[maxlength][ngModel]", inputs: ["maxlength"] }, { kind: "directive", type: i1.MinValidator, selector: "input[type=number][min][formControlName],input[type=number][min][formControl],input[type=number][min][ngModel]", inputs: ["min"] }, { kind: "directive", type: i1.NgModel, selector: "[ngModel]:not([formControlName]):not([formControl])", inputs: ["name", "disabled", "ngModel", "ngModelOptions"], outputs: ["ngModelChange"], exportAs: ["ngModel"] }, { kind: "directive", type: i1.FormGroupDirective, selector: "[formGroup]", inputs: ["formGroup"], outputs: ["ngSubmit"], exportAs: ["ngForm"] }, { kind: "directive", type: i1.FormControlName, selector: "[formControlName]", inputs: ["formControlName", "disabled", "ngModel"], outputs: ["ngModelChange"] }, { kind: "directive", type: i1.FormGroupName, selector: "[formGroupName]", inputs: ["formGroupName"] }, { kind: "directive", type: i1.FormArrayName, selector: "[formArrayName]", inputs: ["formArrayName"] }, { kind: "directive", type: i6.PrimeTemplate, selector: "[pTemplate]", inputs: ["type", "pTemplate"] }, { kind: "directive", type: i7.Tooltip, selector: "[pTooltip]", inputs: ["tooltipPosition", "tooltipEvent", "appendTo", "positionStyle", "tooltipStyleClass", "tooltipZIndex", "escape", "showDelay", "hideDelay", "life", "positionTop", "positionLeft", "autoHide", "fitContent", "hideOnEscape", "pTooltip", "tooltipDisabled", "tooltipOptions"] }, { kind: "component", type: i8.Dropdown, selector: "p-dropdown", inputs: ["id", "scrollHeight", "filter", "name", "style", "panelStyle", "styleClass", "panelStyleClass", "readonly", "required", "editable", "appendTo", "tabindex", "placeholder", "filterPlaceholder", "filterLocale", "inputId", "dataKey", "filterBy", "filterFields", "autofocus", "resetFilterOnHide", "dropdownIcon", "optionLabel", "optionValue", "optionDisabled", "optionGroupLabel", "optionGroupChildren", "autoDisplayFirst", "group", "showClear", "emptyFilterMessage", "emptyMessage", "lazy", "virtualScroll", "virtualScrollItemSize", "virtualScrollOptions", "overlayOptions", "ariaFilterLabel", "ariaLabel", "ariaLabelledBy", "filterMatchMode", "maxlength", "tooltip", "tooltipPosition", "tooltipPositionStyle", "tooltipStyleClass", "focusOnHover", "selectOnFocus", "autoOptionFocus", "autofocusFilter", "disabled", "itemSize", "autoZIndex", "baseZIndex", "showTransitionOptions", "hideTransitionOptions", "filterValue", "options"], outputs: ["onChange", "onFilter", "onFocus", "onBlur", "onClick", "onShow", "onHide", "onClear", "onLazyLoad"] }, { kind: "component", type: i9.Button, selector: "p-button", inputs: ["type", "iconPos", "icon", "badge", "label", "disabled", "loading", "loadingIcon", "raised", "rounded", "text", "plain", "severity", "outlined", "link", "size", "style", "styleClass", "badgeClass", "ariaLabel"], outputs: ["onClick", "onFocus", "onBlur"] }, { kind: "component", type: i10.Accordion, selector: "p-accordion", inputs: ["multiple", "style", "styleClass", "expandIcon", "collapseIcon", "activeIndex", "selectOnFocus", "headerAriaLevel"], outputs: ["onClose", "onOpen", "activeIndexChange"] }, { kind: "component", type: i10.AccordionTab, selector: "p-accordionTab", inputs: ["id", "header", "headerStyle", "tabStyle", "contentStyle", "tabStyleClass", "headerStyleClass", "contentStyleClass", "disabled", "cache", "transitionOptions", "iconPos", "selected", "headerAriaLevel"], outputs: ["selectedChange"] }, { kind: "directive", type: i11.InputText, selector: "[pInputText]" }, { kind: "component", type: i12.InputNumber, selector: "p-inputNumber", inputs: ["showButtons", "format", "buttonLayout", "inputId", "styleClass", "style", "placeholder", "size", "maxlength", "tabindex", "title", "ariaLabelledBy", "ariaLabel", "ariaRequired", "name", "required", "autocomplete", "min", "max", "incrementButtonClass", "decrementButtonClass", "incrementButtonIcon", "decrementButtonIcon", "readonly", "step", "allowEmpty", "locale", "localeMatcher", "mode", "currency", "currencyDisplay", "useGrouping", "minFractionDigits", "maxFractionDigits", "prefix", "suffix", "inputStyle", "inputStyleClass", "showClear", "disabled"], outputs: ["onInput", "onFocus", "onBlur", "onKeyDown", "onClear"] }, { kind: "directive", type: i13.InputTextarea, selector: "[pInputTextarea]", inputs: ["autoResize"], outputs: ["onResize"] }, { kind: "component", type: i14.MultiSelect, selector: "p-multiSelect", inputs: ["id", "ariaLabel", "style", "styleClass", "panelStyle", "panelStyleClass", "inputId", "disabled", "readonly", "group", "filter", "filterPlaceHolder", "filterLocale", "overlayVisible", "tabindex", "appendTo", "dataKey", "name", "ariaLabelledBy", "displaySelectedLabel", "maxSelectedLabels", "selectionLimit", "selectedItemsLabel", "showToggleAll", "emptyFilterMessage", "emptyMessage", "resetFilterOnHide", "dropdownIcon", "optionLabel", "optionValue", "optionDisabled", "optionGroupLabel", "optionGroupChildren", "showHeader", "filterBy", "scrollHeight", "lazy", "virtualScroll", "virtualScrollItemSize", "virtualScrollOptions", "overlayOptions", "ariaFilterLabel", "filterMatchMode", "tooltip", "tooltipPosition", "tooltipPositionStyle", "tooltipStyleClass", "autofocusFilter", "display", "autocomplete", "showClear", "autoZIndex", "baseZIndex", "showTransitionOptions", "hideTransitionOptions", "defaultLabel", "placeholder", "options", "filterValue", "itemSize", "selectAll", "focusOnHover", "filterFields", "selectOnFocus", "autoOptionFocus"], outputs: ["onChange", "onFilter", "onFocus", "onBlur", "onClick", "onClear", "onPanelShow", "onPanelHide", "onLazyLoad", "onRemove", "onSelectAllChange"] }, { kind: "directive", type: i15.PermissionDirective, selector: "[fieldKey]", inputs: ["fieldKey"] }, { kind: "component", type: i16.AlertComponent, selector: "app-alert" }, { kind: "component", type: i17.MatCard, selector: "mat-card", inputs: ["appearance"], exportAs: ["matCard"] }, { kind: "directive", type: i17.MatCardContent, selector: "mat-card-content" }, { kind: "directive", type: i18.MatRadioGroup, selector: "mat-radio-group", exportAs: ["matRadioGroup"] }, { kind: "component", type: i18.MatRadioButton, selector: "mat-radio-button", inputs: ["disableRipple", "tabIndex"], exportAs: ["matRadioButton"] }, { kind: "component", type: i19.ManageAccessRadioComponent, selector: "app-manage-access-radio", inputs: ["reloadForm"], outputs: ["accessBy", "policyDropdown", "roleDropdown", "userDropdown", "dropDownSelectedValues"] }] });
}
i0.ngDeclareClassMetadata({ minVersion: "12.0.0", version: "16.2.12", ngImport: i0, type: PageaccessComponent, decorators: [{
            type: Component,
            args: [{ selector: 'lib-pageaccess', template: "<app-alert></app-alert>\r\n<div class=\"row rbac-card\">\r\n  <div class=\"col-12\">\r\n    <mat-card class=\"mat-card\">\r\n      <mat-card-content class=\"p-2\">\r\n        <form [formGroup]=\"rbacForm\">\r\n          <app-manage-access-radio (accessBy)=\"accessBy($event)\" (userDropdown)=\"userDropdown($event)\"\r\n            (roleDropdown)=\"roleDropdown($event)\" (policyDropdown)=\"policyDropdown($event)\"\r\n            (dropDownSelectedValues)=\"dropDownSelectedValues($event)\"></app-manage-access-radio>\r\n          <h3 class=\"radio-title mt-1 mb-2 pa-title\">Page Access Management</h3>\r\n          <mat-card class=\"mat-card\">\r\n            <mat-card-content class=\"p-2\">\r\n              <div class=\"row\">\r\n                <div class=\"col-lg-3 col-md-6 col-12 mb-3\" *ngIf=\"false\">\r\n                  <label class=\"radio-title\">Modules</label>\r\n                  <!-- <angular2-multiselect [data]=\"moduleList\" [settings]=\"moduleDropdownSettings\"\r\n                    onSelect=\"loadSubModule('click')\" onDeSelect=\"removeSubModule($event)\"\r\n                    onSelectAll=\"loadSubModule('click')\" onDeSelectAll=\"removeAllSubModule()\"\r\n                    formControlName=\"module\"></angular2-multiselect> -->\r\n                </div>\r\n                <div class=\"col-lg-3 col-md-6 col-12 mb-3\" *ngIf=\"false\">\r\n                  <label class=\"radio-title\">Sub Modules</label>\r\n                  <!-- <angular2-multiselect [data]=\"subModuleList\" [settings]=\"submoduleDropdownSettings\"\r\n                    onSelect=\"loadSubModulePage('click')\" onDeSelect=\"removeSubModulePage($event, 'submodule')\"\r\n                    onSelectAll=\"loadSubModulePage('click')\" onDeSelectAll=\"removeAllSubModulePage()\"\r\n                    formControlName=\"submodule\">\r\n                  </angular2-multiselect> -->\r\n                </div>\r\n\r\n                <div class=\"col-lg-7 mb-3\">\r\n                  <p-accordion class=\"w-full policygroup-accordion\" iconPos=\"endVal\">\r\n                    <p-accordionTab>\r\n                      <ng-template pTemplate=\"header\">\r\n                        <span class=\"flex align-items-center head-text gap-2 w-full\">\r\n                          <span class=\"font-bold\">\r\n                            <label aria-labelledby=\"policyGroupList\" for=\"policyGroupList\"\r\n                              class=\"mb-0 referral-form-labels\">Pages\r\n\r\n                              <span *ngIf=\"selectedPageData.length > 0\"\r\n                                class=\"pg-count ml-2\">{{selectedPageData.length}}</span>\r\n                            </label>\r\n                          </span>\r\n                        </span>\r\n                      </ng-template>\r\n                      <!-- <angular2-multiselect [data]=\"pagesList\" [settings]=\"pageDropdownSettings\"\r\n                        (onSelect)=\"populatePage('click',true,$event)\" fieldKey=\"SETTINGS_PAG_ACC_PAGE\"\r\n                        (onDeSelect)=\"populatePage('click',false,$event)\"\r\n                        (onSelectAll)=\"populatePage('click',true,$event)\" (onDeSelectAll)=\"removeAllPopulatePage()\"\r\n                        formControlName=\"pageList\"></angular2-multiselect> -->\r\n                      <p-multiSelect [options]=\"pagesList\" formControlName=\"pageList\" fieldKey=\"SETTINGS_PAG_ACC_PAGE\"\r\n                        defaultLabel=\"Select Pages\" display=\"chip\" optionLabel=\"pagename\" [autoDisplayFirst]=\"false\"\r\n                        styleClass=\"policygroup-v2 w-100\" (onChange)=\"populatePage('click',true,$event)\" [resetFilterOnHide]=\"true\"\r\n                        (onFilter)= \"onFilterPages($event)\">\r\n                        <ng-template let-value pTemplate=\"selectedItems\">\r\n                          <div *ngFor=\"let option of value\">\r\n                            <div #selectedpg class=\"p-multiselect-token\" [ngClass]=\"option.disabled ? 'disabled' : '' \"\r\n                              id=\"{{option.id}}\">\r\n                              <span class=\"policygroupname\" pTooltip=\"{{option?.pagename}}\" tooltipPosition=\"top\">\r\n                                {{ option.pagename }}\r\n                              </span>\r\n                              <em class=\"pi pi-times-circle ml-2 clear-icon right-sec\" *ngIf=\"!option.disabled\"\r\n                                role=\"button\" (click)=\"removeValue($event, selectedpg)\"></em>\r\n                            </div>\r\n                          </div>\r\n                          <div *ngIf=\"!value || value.length === 0\">Select Pages</div>\r\n                        </ng-template>\r\n                      </p-multiSelect>\r\n                    </p-accordionTab>\r\n                  </p-accordion>\r\n                </div>\r\n\r\n                <div class=\"col-lg-3 col-md-12 col-12 mb-3\">\r\n                  <label class=\"radio-title d-block required\">Provide Access by </label>\r\n                  <mat-radio-group formControlName=\"provideAccess\" (change)=\"showLevelAccess($event.value)\">\r\n                    <mat-radio-button value=\"1\" fieldKey=\"SETTINGS_PAG_ACC_PAGE_PAGE_LEVEL\">Page\r\n                      Level&nbsp;&nbsp;</mat-radio-button>\r\n                    <mat-radio-button value=\"2\" fieldKey=\"SETTINGS_PAG_ACC_PAG_FIELD_LEVEL\">Field\r\n                      Level</mat-radio-button>\r\n                  </mat-radio-group>\r\n                </div>\r\n                <div class=\"col-lg-2 col-md-6 col-12 mb-3\" *ngIf=\"fieldLevelAccess\">\r\n                  <label class=\"radio-title\">Select Page</label>\r\n                  <br />\r\n                  <p-dropdown id=\"selectpage\" ariaLabelledBy=\"selectpage\" [options]=\"selectedPageDataFilter\"\r\n                    fieldKey=\"SETTINGS_PAG_ACC_PAGE\" [filter]=\"true\"\r\n                    [showClear]=\"fieldLevelCheckCount && fieldLevelCheckCount?.length\" [resetFilterOnHide]=\"true\"\r\n                    (onChange)=\"getFieldLevelList('click')\" formControlName=\"fpages\" optionLabel=\"pagename\"\r\n                    optionValue=\"id\" placeholder=\"Select a page\" class=\"dd-stand-size\">\r\n                    <ng-template let-item pTemplate=\"selectedItem\">\r\n                      <div pTooltip=\"{{item?.pagename}}\" tooltipPosition=\"top\" class=\"text-truncate\"> {{ item?.pagename\r\n                        }}</div>\r\n                    </ng-template>\r\n                    <ng-template let-object pTemplate=\"item\">\r\n                      {{ object.pagename }}\r\n                    </ng-template>\r\n                  </p-dropdown>\r\n                </div>\r\n              </div>\r\n\r\n              <div *ngIf=\"pageLevelAccess\" class=\"row\">\r\n                <div class=\"col-12 mt-3 pageLevelAccessTable\">\r\n                  <table aria-describedby=\"pageLevelAccessTable\" class=\"table table-bordered\">\r\n                    <col />\r\n                    <col style=\"width: 120px\" />\r\n                    <col style=\"width: 120px\" />\r\n                    <col style=\"width: 120px\" />\r\n                    <col style=\"width: 120px\" />\r\n                    <col style=\"width: 120px\" />\r\n                    <col style=\"width: 25%\" *ngIf=\"false\" />\r\n                    <col style=\"width: 20%\" />\r\n                    <thead>\r\n                      <th class=\"text-left\">Page Name</th>\r\n                      <th scope=\"col\" class=\"text-center\">Create</th>\r\n                      <th scope=\"col\" class=\"text-center\">Read</th>\r\n                      <th scope=\"col\" class=\"text-center\">Update1</th>\r\n                      <th scope=\"col\" class=\"text-center\">Delete</th>\r\n                      <th scope=\"col\" class=\"text-center\">None</th>\r\n                      <th class=\"text-center\" *ngIf=\"false\">Validity</th>\r\n                      <th class=\"text-center\">Data Access</th>\r\n                    </thead>\r\n                    <tbody>\r\n                      <ng-container formArrayName=\"pageLevelData\"\r\n                        *ngFor=\"let fAccess of rbacForm.get('pageLevelData')['controls']; let i = index\">\r\n                        <tr [formGroup]=\"rbacForm.get('pageLevelData')['controls'][i]\">\r\n                          <td class=\"text-left\">\r\n                            <input style=\"border: none; pointer-events: none; width: 360px\" type=\"text\"\r\n                              formControlName=\"pageName\" placeholder=\"pageleveldata\" />\r\n                          </td>\r\n                          <td class=\"text-center\">\r\n                            <label class=\"g-checkbox\">\r\n                              <input (change)=\"changePageAccess(i,'c')\"\r\n                                formControlName=\"pageAccessCreate\" type=\"checkbox\" value=\"1\"\r\n                                fieldKey=\"SETTINGS_PAG_ACC_PAGE_PAGE_LEVEL_READ_WRITE\">\r\n                            </label>\r\n                          </td>\r\n                          <td class=\"text-center\">\r\n                            <label class=\"g-checkbox\">\r\n                              <input (change)=\"changePageAccess(i,'r')\" formControlName=\"pageAccessRead\"\r\n                                fieldKey=\"SETTINGS_PAG_ACC_PAGE_PAGE_LEVEL_READ\" type=\"checkbox\" value=\"2\">\r\n                            </label>\r\n                          </td>\r\n                          <td class=\"text-center\">\r\n                            <label class=\"g-checkbox\">\r\n                              <input (change)=\"changePageAccess(i,'u')\"\r\n                                formControlName=\"pageAccessUpdate\"\r\n                                fieldKey=\"SETTINGS_PAG_ACC_PAGE_PAGE_LEVEL_READ_WRITE\" type=\"checkbox\" value=\"5\">\r\n                                <a href=\"javascript:void(0)\" (click) = \"showPopup()\" >Conditional</a>\r\n                            </label>\r\n                          </td>\r\n                          <td class=\"text-center\">\r\n                            <label class=\"g-checkbox\">\r\n                              <input (change)=\"changePageAccess(i,'d')\"\r\n                                formControlName=\"pageAccessDelete\"\r\n                                fieldKey=\"SETTINGS_PAG_ACC_PAGE_PAGE_LEVEL_READ_WRITE_DELETE\" type=\"checkbox\" value=\"6\">\r\n                            </label>\r\n                          </td>\r\n                          <td class=\"text-center\">\r\n                            <label class=\"g-checkbox\">\r\n                              <input (change)=\"changePageAccess(i,'n')\" formControlName=\"pageAccessNone\"\r\n                                fieldKey=\"SETTINGS_PAG_ACC_PAGE_PAGE_LEVEL_NONE\" type=\"checkbox\" value=\"4\">\r\n                            </label>\r\n                          </td>\r\n                          <td class=\"text-center\" *ngIf=\"false\" >\r\n                            <ng-container *ngIf=\"\r\n                                  rbacForm.get('pageList')?.value[i]?.activeVersion?.gridconfig ||\r\n                                  rbacForm.get('pageList')?.value[i]?.gridconfig\r\n                                \">\r\n                              <p-dropdown [options]=\"conditions\" styleClass=\"condition\" formControlName=\"condition\"\r\n                                placeholder=\"Select a condition\" [disabled]=\"fAccess?.value?.pageAccess === '4'\"\r\n                                optionLabel=\"name\" optionValue=\"key\">\r\n                              </p-dropdown>\r\n                              <p-inputNumber type=\"number\" class=\"validity\"\r\n                                *ngIf=\"fAccess?.value?.condition !== 'always'\"\r\n                                [readonly]=\"fAccess?.value?.pageAccess === '4'\" [min]=\"1\"\r\n                                fieldKey=\"SETTINGS_PAG_ACC_PAGE_PAGE_LEVEL_VALIDITY\" formControlName=\"validity\"\r\n                                mode=\"decimal\"></p-inputNumber>\r\n                              <p-dropdown [options]=\"getFallbackPermission(fAccess)\" styleClass=\"condition\"\r\n                                formControlName=\"fallbackTo\" *ngIf=\"fAccess?.value?.condition !== 'always'\"\r\n                                placeholder=\"Select a permission\"\r\n                                [disabled]=\"fAccess?.value?.pageAccess === '3' || fAccess?.value?.pageAccess === '4'\"\r\n                                optionLabel=\"name\" optionValue=\"key\" [style]=\"{ 'margin-left': '15px' }\">\r\n                              </p-dropdown>\r\n                            </ng-container>\r\n                          </td>\r\n                          <td class=\"text-center\" >\r\n                            <ng-container *ngIf=\"\r\n                              rbacForm.get('pageList')?.value[i]?.activeVersion?.gridconfig ||\r\n                              rbacForm.get('pageList')?.value[i]?.gridconfig\r\n                              \">\r\n                              <p-dropdown [options]=\"dataAccess\" styleClass=\"condition\"\r\n                                formControlName=\"accessdata\"\r\n                                placeholder=\"Select a permission\"\r\n                                optionLabel=\"name\" optionValue=\"key\">\r\n                              </p-dropdown>\r\n                            </ng-container>\r\n                          </td>\r\n                        </tr>\r\n                      </ng-container>\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n              </div>\r\n              <div class=\"row\"\r\n                *ngIf=\"showFieldGrid && fieldLevelCheckCount?.length > 0 && fieldLevelAccess && fieldPageLevel?.length > 0\">\r\n                <div class=\"col-12\">\r\n                  <div class=\"table-responsive\">\r\n                    <table aria-describedby=\"fieldLevelAccessTable\" class=\"table table-bordered\">\r\n                      <col />\r\n                      <col style=\"width: 120px\" />\r\n                      <col style=\"width: 120px\" />\r\n                      <col style=\"width: 120px\" />\r\n                      <col style=\"width: 120px\" />\r\n                      <col *ngIf=\"false\" />\r\n                      <col />\r\n                      <thead>\r\n                        <th class=\"text-left\">Field Name</th>\r\n                        <th class=\"text-center\">Create</th>\r\n                        <th class=\"text-center\">Read</th>\r\n                        <th class=\"text-center\">Update</th>\r\n                        <th class=\"text-center\">None</th>\r\n                        <th class=\"text-center\" *ngIf=\"showFieldValidity && false\">Validity</th>\r\n                      </thead>\r\n                      <tbody>\r\n                        <ng-container formArrayName=\"fieldLevelData\"\r\n                          *ngFor=\"let fAccess of rbacForm.get('fieldLevelData')['controls']; let i = index\">\r\n                          <tr [formGroupName]=\"i\">\r\n                            <td class=\"text-left\">\r\n                              {{ fData[i]['displayname'] }}\r\n                              <span class=\"pi pi-info-circle asset-path-info\" pTooltip=\"Asset Path: {{ fData[i]['assetpath'] }}\" tooltipPosition=\"right\" ></span>\r\n                              <input type=\"hidden\" formControlName=\"assetid\" value=\"{{ fData[i]['id'] }}\" />\r\n                              <input type=\"hidden\" formControlName=\"pageId\" />\r\n                            </td>\r\n                            <td class=\"text-center\">\r\n                              <label class=\"g-checkbox\">\r\n                                <input formControlName=\"fieldAccessCreate\" (change)=\"changeFieldAccess($event, i, 'c')\"\r\n                                  type=\"checkbox\" value=\"3\">\r\n                              </label>\r\n                            </td>\r\n                            <td class=\"text-center\">\r\n                              <label class=\"g-checkbox\">\r\n                                <input formControlName=\"fieldAccessRead\" (change)=\"changeFieldAccess($event, i, 'r')\"\r\n                                  type=\"checkbox\" value=\"2\">\r\n                              </label>\r\n                            </td>\r\n                            <td class=\"text-center\">\r\n                              <label class=\"g-checkbox\">\r\n                                <input formControlName=\"fieldAccessUpdate\" (change)=\"changeFieldAccess($event, i, 'u')\"\r\n                                  type=\"checkbox\" value=\"\">\r\n                              </label>\r\n                            </td>\r\n                            <td class=\"text-center\">\r\n                              <label class=\"g-checkbox\">\r\n                                <input formControlName=\"fieldAccessHide\" (change)=\"changeFieldAccess($event, i, 'h')\"\r\n                                  type=\"checkbox\" value=\"4\">\r\n                              </label>\r\n                            </td>\r\n                            <td class=\"text-center\" *ngIf=\"showFieldValidity && false\">\r\n                              <p-dropdown [options]=\"conditions\" styleClass=\"condition\"\r\n                                [disabled]=\"fAccess?.value?.access === '4'\" formControlName=\"condition\"\r\n                                placeholder=\"Select a condition\" optionLabel=\"name\" optionValue=\"key\">\r\n                              </p-dropdown>\r\n                              <input type=\"number\" class=\"validity\" *ngIf=\"fAccess?.value?.condition !== 'always'\"\r\n                                [min]=\"1\" formControlName=\"validity\" [readonly]=\"fAccess?.value?.access === '4'\"\r\n                                style=\"width: 50px; margin-left: 15px\" pInputText />\r\n                              <p-dropdown [options]=\"getFallbackPermission(fAccess)\" styleClass=\"condition\"\r\n                                formControlName=\"fallbackTo\" *ngIf=\"fAccess?.value?.condition !== 'always'\"\r\n                                placeholder=\"Select a permission\"\r\n                                [disabled]=\"fAccess?.value?.access === '4' || fAccess?.value?.access === '3'\"\r\n                                optionLabel=\"name\" optionValue=\"key\" [style]=\"{ 'margin-left': '15px' }\">\r\n                              </p-dropdown>\r\n                            </td>\r\n                          </tr>\r\n                        </ng-container>\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <!-- This code for field access for grid page -->\r\n              <div class=\"row\"\r\n                *ngIf=\"showFieldGrid && fieldLevelCheckCount?.length > 0 && fieldLevelAccess && fieldPageLevel?.length === 0\">\r\n                <div class=\"col-12\">\r\n                  <div class=\"table-responsive\">\r\n                    <table aria-describedby=\"fieldLevelAccessTable\" class=\"table table-bordered\">\r\n                      <col />\r\n                      <col style=\"width: 120px\" />\r\n                      <col style=\"width: 120px\" />\r\n                      <col *ngIf=\"false\" />\r\n                      <thead>\r\n                        <tr>\r\n                          <th class=\"text-left\">Field Name</th>\r\n                          <th class=\"text-center\">Read</th>\r\n                          <!-- <th class=\"text-center\">Write</th> -->\r\n                          <th class=\"text-center\">None</th>\r\n                          <th class=\"text-center\" *ngIf=\"showFieldValidity && false\">Validity</th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        <ng-container formArrayName=\"fieldLevelData\"\r\n                          *ngFor=\"let fAccess of rbacForm.get('fieldLevelData')['controls']; let i = index\">\r\n                          <tr [formGroupName]=\"i\">\r\n                            <td class=\"text-left\">\r\n                              {{ fData[i]['displayname'] }}\r\n                              <input type=\"hidden\" formControlName=\"assetid\" value=\"{{ fData[i]['id'] }}\" />\r\n                              <input type=\"hidden\" formControlName=\"pageId\" name=\"permissiongroup_{{i}}\" />\r\n                            </td>\r\n                            <td class=\"text-center\">\r\n                              <label class=\"g-checkbox\">\r\n                                <input formControlName=\"fieldAccessRead\" (change)=\"changeFieldAccess($event, i,'r')\" type=\"checkbox\">\r\n                              </label>\r\n                            </td>\r\n                            <!-- <td class=\"text-center\">\r\n                              <input formControlName=\"access\" (change)=\"changeFieldAccess($event)\" type=\"radio\" value=\"2\" />\r\n                            </td> -->\r\n                            <td class=\"text-center\">\r\n                              <label class=\"g-checkbox\">\r\n                                <input formControlName=\"fieldAccessHide\" (change)=\"changeFieldAccess($event, i, 'h')\" type=\"checkbox\">\r\n                              </label>\r\n                            </td>\r\n                            <td class=\"text-center\" *ngIf=\"showFieldValidity && false\">\r\n                              <p-dropdown [options]=\"conditions\" styleClass=\"condition\"\r\n                                [disabled]=\"fAccess?.value?.access === '4'\" formControlName=\"condition\"\r\n                                placeholder=\"Select a condition\" optionLabel=\"name\" optionValue=\"key\">\r\n                              </p-dropdown>\r\n                              <input type=\"number\" class=\"validity\" *ngIf=\"fAccess?.value?.condition !== 'always'\"\r\n                                [min]=\"1\" formControlName=\"validity\" [readonly]=\"fAccess?.value?.access === '4'\"\r\n                                style=\"width: 50px; margin-left: 15px\" pInputText />\r\n                              <p-dropdown [options]=\"getFallbackPermission(fAccess)\" styleClass=\"condition\"\r\n                                formControlName=\"fallbackTo\" *ngIf=\"fAccess?.value?.condition !== 'always'\"\r\n                                placeholder=\"Select a permission\"\r\n                                [disabled]=\"fAccess?.value?.access === '4' || fAccess?.value?.access === '3'\"\r\n                                optionLabel=\"name\" optionValue=\"key\" [style]=\"{ 'margin-left': '15px' }\">\r\n                              </p-dropdown>\r\n                            </td>\r\n                          </tr>\r\n                        </ng-container>\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </mat-card-content>\r\n          </mat-card>\r\n        </form>\r\n        <div class=\"mt-3\" *ngIf=\"policyGroupPages.length && !fieldLevelAccess && selectedAccess === 'role'\">\r\n          <p-accordion class=\"w-full dynamic-search\" iconPos=\"endVal\">\r\n            <p-accordionTab>\r\n              <ng-template pTemplate=\"header\">\r\n                <span class=\"flex align-items-center head-text gap-2 w-full\">\r\n                  <span class=\"font-bold\">Policy Groups associated with {{ selectedName }} Role</span>\r\n                </span>\r\n              </ng-template>\r\n              <mat-card class=\"mt-2\">\r\n                <mat-card-content>\r\n                  <div class=\"row\">\r\n                    <div class=\"col-12 mt-1\" *ngFor=\"let policyGroup of policyGroupPages\">\r\n                      <div class=\"radio-title mb-2\">Policy Group: {{ policyGroup?.policygroup?.policygroupname }}</div>\r\n                      <!-- It shows associated Roles -->\r\n                      <div class=\"table-responsive\">\r\n                        <table id=\"policyGroupTable\" aria-describedby=\"policyGroupTable\" class=\"table table-bordered\">\r\n                          <col />\r\n                          <col style=\"width: 100px\" />\r\n                          <col style=\"width: 100px\" />\r\n                          <col style=\"width: 100px\" />\r\n                          <col style=\"width: 100px\" />\r\n                          <col style=\"width: 100px\" />\r\n                          <thead>\r\n                            <tr>\r\n                              <th scope=\"col\" class=\"text-left\">Page Name</th>\r\n                              <th scope=\"col\" class=\"text-center\">Create</th>\r\n                              <th scope=\"col\" class=\"text-center\">Read</th>\r\n                              <th scope=\"col\" class=\"text-center\">Update</th>\r\n                              <th scope=\"col\" class=\"text-center\">Delete</th>\r\n                              <th scope=\"col\" class=\"text-center\">None</th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                            <ng-container *ngFor=\"let page of policyGroup?.policygrouppage\">\r\n                              <tr>\r\n                                <td class=\"text-left\">\r\n                                  <input style=\"border: none; pointer-events: none; width: 360px\" type=\"text\"\r\n                                    title=\"page?.page?.activeVersion?.pagename\"\r\n                                    [value]=\"page?.page[0]?.activeVersion?.pagename\" />\r\n                                </td>\r\n\r\n                                <td class=\"text-center\">\r\n                                  <label class=\"g-checkbox\">\r\n                                    <input disabled [checked]=\"page?.c\" type=\"checkbox\">\r\n                                  </label>\r\n                                </td>\r\n                                <td class=\"text-center\">\r\n                                  <label class=\"g-checkbox\">\r\n                                    <input disabled [checked]=\"page?.r\" type=\"checkbox\">\r\n                                  </label>\r\n                                </td>\r\n                                <td class=\"text-center\">\r\n                                  <label class=\"g-checkbox\">\r\n                                    <input disabled [checked]=\"page?.u\" type=\"checkbox\">\r\n                                  </label>\r\n                                </td>\r\n                                <td class=\"text-center\">\r\n                                  <label class=\"g-checkbox\">\r\n                                    <input disabled [checked]=\"page?.d\" type=\"checkbox\">\r\n                                  </label>\r\n                                </td>\r\n                                <td class=\"text-center\">\r\n                                  <label class=\"g-checkbox\">\r\n                                    <input disabled [checked]=\"page?.hide\" type=\"checkbox\">\r\n                                  </label>\r\n                                </td>\r\n                              </tr>\r\n                            </ng-container>\r\n                            <ng-container *ngIf=\"policyGroupPages?.length === 0\">\r\n                              <tr>\r\n                                <td class=\"text-center\" colspan=\"4\">No pages associated with Policy Group.</td>\r\n                              </tr>\r\n                            </ng-container>\r\n                          </tbody>\r\n                        </table>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </mat-card-content>\r\n              </mat-card>\r\n            </p-accordionTab>\r\n          </p-accordion>\r\n\r\n        </div>\r\n        <div class=\"mt-3\" *ngIf=\"policyGroupRolePages.length && !fieldLevelAccess && selectedAccess === 'policygroup'\">\r\n          <p-accordion class=\"w-full dynamic-search\" iconPos=\"endVal\">\r\n            <p-accordionTab>\r\n              <ng-template pTemplate=\"header\">\r\n                <span class=\"flex align-items-center head-text gap-2 w-full\">\r\n                  <span class=\"font-bold\">Roles associated with {{ selectedName }} Policy Group</span>\r\n                </span>\r\n              </ng-template>\r\n              <mat-card class=\"mt-2\">\r\n                <mat-card-content>\r\n                  <div class=\"row\">\r\n                    <div class=\"col-12 mt-1\" *ngFor=\"let role of policyGroupRolePages\">\r\n                      <div class=\"radio-title mb-2\">Role: {{ role?.role?.name }}</div>\r\n                      <!-- It shows associated policygroups -->\r\n                      <div class=\"table-responsive\">\r\n                        <table id=\"policyGroupTable\" aria-describedby=\"policyGroupTable\" class=\"table table-bordered\">\r\n                          <col />\r\n                          <col style=\"width: 100px\" />\r\n                          <col style=\"width: 100px\" />\r\n                          <col style=\"width: 100px\" />\r\n                          <col style=\"width: 100px\" />\r\n                          <col style=\"width: 100px\" />\r\n                          <thead>\r\n                            <tr>\r\n                              <th scope=\"col\" class=\"text-left\">Page Name</th>\r\n                              <th scope=\"col\" class=\"text-center\">Create</th>\r\n                              <th scope=\"col\" class=\"text-center\">Read</th>\r\n                              <th scope=\"col\" class=\"text-center\">Update</th>\r\n                              <th scope=\"col\" class=\"text-center\">Delete</th>\r\n                              <th scope=\"col\" class=\"text-center\">None</th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                            <ng-container *ngFor=\"let page of role?.rolepage\">\r\n                              <tr>\r\n                                <td class=\"text-left\">\r\n                                  <input style=\"border: none; pointer-events: none; width: 360px\" type=\"text\"\r\n                                    title=\"page?.page?.activeVersion?.pagename\"\r\n                                    [value]=\"page?.page[0]?.activeVersion?.pagename\" />\r\n                                </td>\r\n\r\n                                <td class=\"text-center\">\r\n                                  <label class=\"g-checkbox\">\r\n                                    <input disabled [checked]=\"page?.c\" type=\"checkbox\">\r\n                                  </label>\r\n                                </td>\r\n                                <td class=\"text-center\">\r\n                                  <label class=\"g-checkbox\">\r\n                                    <input disabled [checked]=\"page?.r\" type=\"checkbox\">\r\n                                  </label>\r\n                                </td>\r\n                                <td class=\"text-center\">\r\n                                  <label class=\"g-checkbox\">\r\n                                    <input disabled [checked]=\"page?.u\" type=\"checkbox\">\r\n                                  </label>\r\n                                </td>\r\n                                <td class=\"text-center\">\r\n                                  <label class=\"g-checkbox\">\r\n                                    <input disabled [checked]=\"page?.d\" type=\"checkbox\">\r\n                                  </label>\r\n                                </td>\r\n                                <td class=\"text-center\">\r\n                                  <label class=\"g-checkbox\">\r\n                                    <input disabled [checked]=\"page?.hide\" type=\"checkbox\">\r\n                                  </label>\r\n                                </td>\r\n                              </tr>\r\n                            </ng-container>\r\n                            <ng-container *ngIf=\"policyGroupRolePages?.length === 0\">\r\n                              <tr>\r\n                                <td class=\"text-center\" colspan=\"4\">No pages associated with Role.</td>\r\n                              </tr>\r\n                            </ng-container>\r\n                          </tbody>\r\n                        </table>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </mat-card-content>\r\n              </mat-card>\r\n            </p-accordionTab>\r\n          </p-accordion>\r\n\r\n        </div>\r\n        <div class=\"text-right mt-3\" *ngIf=\"multiPageAccess\">\r\n          <!-- <button class=\"btn btn-primary mr-2\" fieldKey=\"SETTINGS_PAG_ACC_BACK\" (click)=\"redirectList()\">Back</button> -->\r\n          <!-- <button class=\"btn btn-cancel mr-2\" fieldKey=\"SETTINGS_PAG_ACC_CLEAR\" (click)=\"resetForm()\">Clear</button> -->\r\n          <button class=\"btn btn-primary\" fieldKey=\"SETTINGS_PAG_ACC_SAVE\" (click)=\"submitAlert()\"\r\n            [disabled]=\"(pagelevelaccesssavedisable && pagelevelaccesscountdisable) || (enablesave && pagelevelaccesscount && pagelevelaccesscount?.length > 0)\">Save</button>\r\n        </div>\r\n        <div class=\"text-right mt-3\" *ngIf=\"!multiPageAccess\">\r\n          <!-- <button class=\"btn btn-primary mr-2\" fieldKey=\"SETTINGS_PAG_ACC_BACK\" (click)=\"redirectList()\">Back</button> -->\r\n          <!-- <button class=\"btn btn-cancel mr-2\" fieldKey=\"SETTINGS_PAG_ACC_CLEAR\" (click)=\"resetForm()\">Clear</button> -->\r\n          <button class=\"btn btn-primary\" fieldKey=\"SETTINGS_PAG_ACC_SAVE\" (click)=\"submitAlert()\"\r\n            [disabled]=\"((multiPageAccess) || (fieldLevelCheckCount && fieldLevelCheckCount?.length === 0) || (enablesave && fieldLevelCheckCount && fieldLevelCheckCount?.length > 0) || (!pagelevelaccesscount || pagelevelaccesscount?.length === 0))\">Save</button>\r\n        </div>\r\n      </mat-card-content>\r\n    </mat-card>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"modal\" id=\"submitAlert\" tabindex=\"-1\" role=\"dialog\">\r\n  <div class=\"modal-dialog modal-lg\" role=\"document\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-body\">\r\n        <p>Field Level Access is already present for this Page. Modifying the Page Level Access will remove all Field\r\n          Level\r\n          Access. Do you want to proceed?</p>\r\n        <div class=\"clearfix\"></div>\r\n        <div class=\"mt-2\">\r\n          <button class=\"pull-right mb-2 btn btn-primary btncommon delete\" data-dismiss=\"modal\" (click)=\"saveRbac()\">\r\n            Yes\r\n          </button>\r\n          <button class=\"pull-right mb-2 mr-2 btn bg-white text-primary btncancel\" data-dismiss=\"modal\"\r\n            (click)=\"getSelectedPages()\">Cancel</button>\r\n        </div>\r\n        <div class=\"clearfix\"></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<ng-template #validationPopup let-modal>\r\n  <div class=\"modal-body p-3\">\r\n    <div class=\"reset-password-div\">\r\n      <textarea rows=\"3\" cols=\"30\" pInputTextarea\r\n        placeholder=\"Add Condition\" maxlength=\"4000\" class=\"form-control no-resize\"\r\n        [(ngModel)]=\"additionalConditions\">\r\n      </textarea>\r\n    </div>\r\n  </div>\r\n  <div class=\"modal-footer p-3\">\r\n    <p-button label=\"Save\" styleClass=\"btn px-3 py-1 mr-2 \"> </p-button>\r\n    <p-button label=\"Cancel\" styleClass=\"btn px-3 py-1 mr-2 \"> </p-button>\r\n  </div>\r\n</ng-template>\r\n", styles: [".mat-card-content .mat-radio-group .mat-radio-button{padding-right:10px;font-family:Roboto,sans-serif!important}.toggleleft{font-size:var(--font-14);font-weight:600;display:block;padding-bottom:13px}:host ::ng-deep .p-dropdown.nobg{background-color:transparent;border:none}:host ::ng-deep .p-dropdown.nobg:hover,:host ::ng-deep .p-dropdown.nobg:focus{background-color:transparent!important;border:none!important}.pageLevelAccessTable table thead tr th,.pageLevelAccessTable table tbody tr td{vertical-align:middle;color:var(--text-dark)}.pageLevelAccessTable table thead tr th input,.pageLevelAccessTable table tbody tr td input{background:var(--bg-light);color:var(--text-dark);font-size:var(--font-15)!important}.pageLevelAccessTable table thead tr th a:hover,.pageLevelAccessTable table tbody tr td a:hover{text-decoration:none}:host ::ng-deep .p-inputnumber-input{width:50px;margin-left:15px}@media screen and (max-width: 990px){:host ::ng-deep .selected-list .c-list{width:calc(100% - 35px)!important}.pageLevelAccessTable{width:100%;overflow:auto}.pageLevelAccessTable .table{margin-bottom:60px}}:host ::ng-deep .dynamic-search .p-component{font-size:var(--font-13)}:host ::ng-deep .dynamic-search .p-component .p-accordion-toggle-icon{margin-top:-8px;position:absolute;right:.5em;top:50%;font-size:var(--font-13);color:var(--primary)}:host ::ng-deep .dynamic-search .p-component .head-text span{color:var(--primary);font-size:var(--font-16);font-weight:400}:host ::ng-deep .dynamic-search .error-text{font-size:var(--font-12)}:host ::ng-deep .policygroup-v2 .selected-list .c-list .c-token{background-color:#f6fcff;color:#000;border:1px solid #D9D9D9;width:100%;margin:3px 0}:host ::ng-deep .policygroup-v2 .selected-list .c-list .c-token .c-remove{position:absolute;right:12px;top:50%;transform:translateY(-50%);width:10px;height:10px;margin-top:-5px;opacity:.8}:host ::ng-deep .policygroup-v2 .selected-list .c-list .c-token .c-remove svg{fill:#000;border:1px solid #000;border-radius:100%;width:14px;height:14px;padding:2px}:host ::ng-deep .policygroup-v2 .clear-all{display:none}:host ::ng-deep .rbac-card .dd-stand-size .p-dropdown{width:100%!important}:host ::ng-deep .pa-title{margin-top:-5px}.radio-button-container{position:relative;cursor:pointer;-webkit-user-select:none;user-select:none}.radio-button-container input{position:absolute;opacity:0;cursor:pointer;text-indent:-9000px}.checkmark{position:absolute;top:0;left:-10.5px;height:18px;width:18px;background-color:#0000;border-radius:50%;border:2px solid #D6D5D5;transition:all .3s}.radio-button-container:hover input~.checkmark{border-color:var(--primary)}.radio-button-container:focus input~.checkmark{outline:0;box-shadow:0 0 0 .2rem #0086d1}.radio-button-container input:checked~.checkmark{background-color:#0000;border-color:var(--primary)}.checkmark:after{content:\"\";position:absolute;display:none}.radio-button-container input:checked~.checkmark:after{display:block}.radio-button-container .checkmark:after{top:3px;left:3px;width:8px;height:8px;border-radius:50%;background:var(--primary)}.radio-button-container input[type=radio]:disabled+span.checkmark{opacity:.8;pointer-events:none}.g-checkbox{margin-bottom:0}:host ::ng-deep .p-multiselect-label>div{width:calc(33% - 5px);display:inline-block;margin:0 5px 0 0}.asset-path-info{position:relative;top:2px;cursor:default;margin-left:3px}\n"] }]
        }], ctorParameters: function () { return [{ type: i0.Injector }, { type: i1.FormBuilder }, { type: i0.ChangeDetectorRef }, { type: i2.DataStoreService }, { type: i3.Router }, { type: i4.AlertService }]; }, propDecorators: { AddComponent: [{
                type: ViewChild,
                args: [ManageAccessRadioComponent]
            }], validationPopup: [{
                type: ViewChild,
                args: ['validationPopup', { static: false }]
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGFnZWFjY2Vzcy5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9waWNzLWNvcmUvcmJhYy1wYWdlYWNjZXNzL3NyYy9saWIvcGljcy1yYmFjLXBhZ2VhY2Nlc3MvcGFnZWFjY2Vzcy9wYWdlYWNjZXNzLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL3BpY3MtY29yZS9yYmFjLXBhZ2VhY2Nlc3Mvc3JjL2xpYi9waWNzLXJiYWMtcGFnZWFjY2Vzcy9wYWdlYWNjZXNzL3BhZ2VhY2Nlc3MuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFxQixTQUFTLEVBQW9CLFNBQVMsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUMxRixPQUFPLEVBQUUsU0FBUyxFQUFlLFdBQVcsRUFBRSxTQUFTLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUVoRixPQUFPLEVBQWdCLFFBQVEsRUFBRSxNQUFNLE1BQU0sQ0FBQztBQUM5QyxPQUFPLEVBQUUsR0FBRyxFQUFrQixNQUFNLGdCQUFnQixDQUFDO0FBQ3JELE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxrQ0FBa0MsQ0FBQztBQUVoRSxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sK0JBQStCLENBQUM7QUFHNUQsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0sbUNBQW1DLENBQUM7QUFDdEUsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLCtCQUErQixDQUFDO0FBQ3pELE9BQU8sRUFBRSwwQkFBMEIsRUFBRSxNQUFNLGdGQUFnRixDQUFDO0FBQzVILE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSw0QkFBNEIsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBUXRELE1BQU0sT0FBTyxtQkFBbUI7SUFtRnBCO0lBQ0Q7SUFDQztJQUNBO0lBQ0E7SUFyRlYsUUFBUSxDQUFZO0lBQ3BCLFFB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WUFBWTtzQkFBbEQsU0FBUzt1QkFBQywwQkFBMEI7Z0JBd0RvQixlQUFlO3NCQUF2RSxTQUFTO3VCQUFDLGlCQUFpQixFQUFFLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENoYW5nZURldGVjdG9yUmVmLCBDb21wb25lbnQsIEluamVjdG9yLCBPbkluaXQsIFZpZXdDaGlsZCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBGb3JtQXJyYXksIEZvcm1CdWlsZGVyLCBGb3JtQ29udHJvbCwgRm9ybUdyb3VwIH0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xyXG5pbXBvcnQgeyBSb3V0ZXIgfSBmcm9tICdAYW5ndWxhci9yb3V0ZXInO1xyXG5pbXBvcnQgeyBTdWJzY3JpcHRpb24sIGZvcmtKb2luIH0gZnJvbSAncnhqcyc7XHJcbmltcG9ydCB7IG1hcCwgc3dpdGNoTWFwLCB0YXAgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XHJcbmltcG9ydCB7IEFwcENvbnN0YW50cyB9IGZyb20gJy4uL0Bjb3JlL2NvbnN0YW50cy9hcHAtY29uc3RhbnRzJztcclxuaW1wb3J0IHsgQWxlcnRTZXJ2aWNlIH0gZnJvbSAnLi4vQGNvcmUvc2VydmljZS9hbGVydC5zZXJ2aWNlJztcclxuaW1wb3J0IHsgQXV0aFNlcnZpY2UgfSBmcm9tICcuLi9AY29yZS9zZXJ2aWNlL2F1dGguc2VydmljZSc7XHJcbmltcG9ydCB7IERhdGFTdG9yZVNlcnZpY2UgfSBmcm9tICcuLi9AY29yZS9zZXJ2aWNlL2RhdGEtc3RvcmUuc2VydmljZSc7XHJcbmltcG9ydCB7IEFzc2V0IH0gZnJvbSAnLi4vQGNvcmUvdXJscy9hY2Nlc3NfbWFuYWdlbWVudF9kYXRhbW9kZWwnO1xyXG5pbXBvcnQgeyBQYWdlQWNjZXNzU2VydmljZSB9IGZyb20gJy4uL0Bjb3JlL3VybHMvcGFnZS1hY2Nlc3Muc2VydmljZSc7XHJcbmltcG9ydCB7IFJCQUNJTkZPIH0gZnJvbSAnLi4vQGNvcmUvdXJscy9yYmFjLXVybC5jb25maWcnO1xyXG5pbXBvcnQgeyBNYW5hZ2VBY2Nlc3NSYWRpb0NvbXBvbmVudCB9IGZyb20gJy4uL0BzaGFyZWQvY29tbW9uLWNvbXBvbmVudHMvbWFuYWdlLWFjY2Vzcy1yYWRpby9tYW5hZ2UtYWNjZXNzLXJhZGlvLmNvbXBvbmVudCc7XHJcbmltcG9ydCB7IE5nYk1vZGFsIH0gZnJvbSAnQG5nLWJvb3RzdHJhcC9uZy1ib290c3RyYXAnO1xyXG5cclxuZGVjbGFyZSBjb25zdCAkOiBhbnk7XHJcbkBDb21wb25lbnQoe1xyXG4gIHNlbGVjdG9yOiAnbGliLXBhZ2VhY2Nlc3MnLFxyXG4gIHRlbXBsYXRlVXJsOiAnLi9wYWdlYWNjZXNzLmNvbXBvbmVudC5odG1sJyxcclxuICBzdHlsZVVybHM6IFsnLi9wYWdlYWNjZXNzLmNvbXBvbmVudC5zY3NzJ11cclxufSlcclxuZXhwb3J0IGNsYXNzIFBhZ2VhY2Nlc3NDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xyXG5cclxuICByYmFjRm9ybTogRm9ybUdyb3VwO1xyXG4gIHVzZXJMaXN0OiBhbnlbXSA9IFtdO1xyXG4gIHBvbGljeUdyb3VwRGF0YTogYW55W10gPSBbXTtcclxuICByb2xlQWRkZWREYXRhOiBhbnlbXSA9IFtdO1xyXG4gIGRhdGFMZXZlbEFjY2VzcyA9IGZhbHNlO1xyXG4gIHBhZ2VMZXZlbEFjY2VzcyA9IGZhbHNlO1xyXG4gIG11bHRpUGFnZUFjY2VzcyA9IGZhbHNlO1xyXG4gIGZpZWxkTGV2ZWxBY2Nlc3MgPSBmYWxzZTtcclxuICBtb2R1bGVMaXN0ID0gW107XHJcbiAgc3ViTW9kdWxlTGlzdCA9IFtdO1xyXG4gIHBhZ2VEYXRhID0gW107XHJcbiAgcGFnZXNMaXN0ID0gW107XHJcbiAgbG9hZGVkUGFnZXNMaXN0ID0gW107XHJcbiAgc2VsZWN0ZWRQYWdlRGF0YSA9IFtdO1xyXG4gIGZEYXRhID0gW107XHJcbiAgbW9kdWxlRHJvcGRvd25TZXR0aW5ncyA9IHt9O1xyXG4gIHN1Ym1vZHVsZURyb3Bkb3duU2V0dGluZ3MgPSB7fTtcclxuICBwYWdlRHJvcGRvd25TZXR0aW5ncyA9IHt9O1xyXG4gIHBhZ2VBY2Nlc3NEcm9wZG93blNldHRpbmdzID0ge307XHJcbiAgZmllbGRBY2Nlc3NEcm9wZG93blNldHRpbmdzID0ge307XHJcbiAgQFZpZXdDaGlsZChNYW5hZ2VBY2Nlc3NSYWRpb0NvbXBvbmVudCkgQWRkQ29tcG9uZW50O1xyXG4gIGZpZWxkTGV2ZWxDbGljayA9IGZhbHNlO1xyXG4gIGVkaXRQYWdlID0gZmFsc2U7XHJcbiAgc2VsZWN0ZWRGaWVsZERhdGE6IGFueVtdID0gW107XHJcbiAgb3JnYW5pc2F0aW9uaWQ6IGFueTtcclxuICBleGlzdGluZ1NlbGVjdGVkRmllbGREYXRhOiBhbnlbXTtcclxuICBzYXZlZFBhZ2VBY2Nlc3NQYXRjaGluZzogYm9vbGVhbjtcclxuICBzYXZlZEZpZWxkUGFnZXNQYXRjaGluZzogYW55W107XHJcbiAgc2VsZWN0ZWRQYWdlTGV2ZWxEYXRhOiBhbnlbXTtcclxuICBzZWxlY3RlZFBhZ2VBY2Nlc3NDaGFuZ2VzID0gW107XHJcbiAgaXNSdW5Db25kID0gdHJ1ZTtcclxuICBzZWxlY3RlZEFjY2Vzczogc3RyaW5nO1xyXG4gIHVwZGF0ZVBhZ2U6IGJvb2xlYW47XHJcbiAgc2VsZWN0ZWRJZDogbnVtYmVyO1xyXG4gIHNlbGVjdGVkTmFtZTogc3RyaW5nO1xyXG4gIGFzc2V0TGlzdDogYW55O1xyXG4gIHBvbGljeUdyb3VwUGFnZXM6IEFycmF5PGFueT4gPSBbXTtcclxuICBwb2xpY3lHcm91cFJvbGVQYWdlczogQXJyYXk8YW55PiA9IFtdO1xyXG4gIHNlbGVjdGVkUm9sZSA9ICcnO1xyXG4gIGNvbmRpdGlvbnM6IEFycmF5PGFueT4gPSBbXTtcclxuICBwZXJtaXNzaW9uczogQXJyYXk8YW55PiA9IFtdO1xyXG4gIGRhdGFBY2Nlc3M6IEFycmF5PGFueT4gPSBbXTtcclxuICBzaG93RmllbGRWYWxpZGl0eTogYm9vbGVhbjtcclxuICBwYWdlQWNjZXNzU2VydmljZTogUGFnZUFjY2Vzc1NlcnZpY2U7XHJcbiAgb3JnU3ViczogU3Vic2NyaXB0aW9uO1xyXG4gIG9yZ0lkOiBhbnk7XHJcbiAgZW52aXJvbm1lbnQ6IGFueTtcclxuICBSQkFDT1JHOiBSQkFDSU5GTyA9IG5ldyBSQkFDSU5GTygpO1xyXG4gIFBFUk1JU1NJT046IGFueTtcclxuICBhdXRoU2VydmljZTogQXV0aFNlcnZpY2U7XHJcbiAgcElkOiBhbnk7XHJcbiAgZnVsbEFycmF5OiBhbnk7XHJcbiAgbWVyZ2VkQXNzZXQ6IGFueTtcclxuICBodHRwU2VydmljZTogYW55O1xyXG4gIHBlcm1pc3Npb25VcGRhdGVkUGFnZXM6IEFycmF5PGFueT4gPSBbXTtcclxuICBmaWVsZFBhZ2VMZXZlbDogW107XHJcbiAgZmllbGRMZXZlbENoZWNrQ291bnQ6IGFueTtcclxuICBwYWdlbGV2ZWxhY2Nlc3NzYXZlZGlzYWJsZTogYm9vbGVhbiA9IHRydWU7XHJcbiAgcGFnZWxldmVsYWNjZXNzY291bnQ6IGFueTtcclxuICBzZWxlY3RlZFBhZ2VzOiBBcnJheTxudW1iZXI+ID0gW107XHJcbiAgcHJldmlvdXNTZWxlY3Rpb246IEFycmF5PG51bWJlcj4gPSBbXTtcclxuICBpc1BhZ2VEZXNlbGVjdFNhdmU6IGJvb2xlYW4gPSBmYWxzZTtcclxuICBkZXNlbGVjdGVkSXRlbUlkczogQXJyYXk8bnVtYmVyPiA9IFtdO1xyXG4gIGlzUmVtb3ZlQWxsRmllbGRzOiBib29sZWFuID0gZmFsc2U7XHJcbiAgZGVzZWxlY3RBc3NldElkczogQXJyYXk8bnVtYmVyPiA9IFtdO1xyXG4gIGVuYWJsZXNhdmU6IGJvb2xlYW4gPSB0cnVlO1xyXG4gIHBhZ2VsZXZlbGFjY2Vzc2NvdW50ZGlzYWJsZTogYm9vbGVhbiA9IHRydWU7XHJcbiAgc2hvd0ZpZWxkR3JpZDogYm9vbGVhbiA9IHRydWU7XHJcbiAgZ2V0UGFnZUxpc3Q6IGJvb2xlYW4gPSBmYWxzZTtcclxuICBkaXNhYmxlZFBhZ2VzOiBBcnJheTxudW1iZXI+ID0gW107XHJcbiAgb2xkUGFnZUFjY2Vzc1ZhbHVlczogYW55W10gPSBbXTtcclxuICBncmFudGVkUGFnZXM6IGFueVtdID0gW107XHJcbiAgZmlsdGVyVGV4dDogc3RyaW5nO1xyXG4gIGZpbHRlcmVkSXRlbXM6IGFueVtdID0gW107XHJcbiAgc2VsZWN0ZWRQYWdlRGF0YUZpbHRlcjogYW55O1xyXG4gIGFkZGl0aW9uYWxDb25kaXRpb25zOiBhbnk7XHJcbiAgQFZpZXdDaGlsZCgndmFsaWRhdGlvblBvcHVwJywgeyBzdGF0aWM6IGZhbHNlIH0pIHByaXZhdGUgdmFsaWRhdGlvblBvcHVwO1xyXG4gIG1vZGFsU2VydmljZTogTmdiTW9kYWw7XHJcblxyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgaW5qZWN0b3I6IEluamVjdG9yLFxyXG4gICAgcHJpdmF0ZSBmb3JtQnVpbGRlcjogRm9ybUJ1aWxkZXIsXHJcbiAgICBwdWJsaWMgY2RSZWY6IENoYW5nZURldGVjdG9yUmVmLFxyXG4gICAgcHJpdmF0ZSBfc3RvcmVzZXJ2aWNlOiBEYXRhU3RvcmVTZXJ2aWNlLFxyXG4gICAgcHJpdmF0ZSByb3V0ZXI6IFJvdXRlcixcclxuICAgIHByaXZhdGUgYWxlcnQ6IEFsZXJ0U2VydmljZVxyXG4gICkge1xyXG4gICAgdGhpcy5wYWdlQWNjZXNzU2VydmljZSA9IGluamVjdG9yLmdldDxQYWdlQWNjZXNzU2VydmljZT4oUGFnZUFjY2Vzc1NlcnZpY2UpO1xyXG4gICAgdGhpcy5hdXRoU2VydmljZSA9IGluamVjdG9yLmdldDxBdXRoU2VydmljZT4oQXV0aFNlcnZpY2UpO1xyXG4gICAgdGhpcy5tb2RhbFNlcnZpY2UgPSBpbmplY3Rvci5nZXQ8TmdiTW9kYWw+KE5nYk1vZGFsKTtcclxuICAgIHRoaXMudXBkYXRlUGFnZSA9IGZhbHNlO1xyXG4gICAgdGhpcy5zaG93RmllbGRWYWxpZGl0eSA9IGZhbHNlO1xyXG4gICAgdGhpcy5jb25kaXRpb25zID0gW1xyXG4gICAgICB7XHJcbiAgICAgICAgbmFtZTogJ0RheXMnLFxyXG4gICAgICAgIGtleTogJ2RheXMnXHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICBuYW1lOiAnQWx3YXlzJyxcclxuICAgICAgICBrZXk6ICdhbHdheXMnXHJcbiAgICAgIH1cclxuICAgIF07XHJcbiAgICB0aGlzLnBlcm1pc3Npb25zID0gW1xyXG4gICAgICB7XHJcbiAgICAgICAgbmFtZTogJ1InLFxyXG4gICAgICAgIGtleTogJ3InXHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICBuYW1lOiAnUlcnLFxyXG4gICAgICAgIGtleTogJ3J3J1xyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgbmFtZTogJ05vbmUnLFxyXG4gICAgICAgIGtleTogJ24nXHJcbiAgICAgIH1cclxuICAgIF07XHJcbiAgICB0aGlzLmRhdGFBY2Nlc3MgPSBbXHJcbiAgICAgIHtcclxuICAgICAgICBuYW1lOiAnQWxsJyxcclxuICAgICAgICBrZXk6ICdhbGwnXHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICBuYW1lOiAnQXNzaWduZWQnLFxyXG4gICAgICAgIGtleTogJ2FzZydcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIG5hbWU6ICdPd25lcicsXHJcbiAgICAgICAga2V5OiAnY2InXHJcbiAgICAgIH1cclxuICAgIF07XHJcbiAgICB0aGlzLmZpZWxkTGV2ZWxDaGVja0NvdW50ID0gW107XHJcbiAgICB0aGlzLnBhZ2VsZXZlbGFjY2Vzc2NvdW50ID0gW107XHJcbiAgICAvLyB0aGlzLm9yZ1N1YnMgPSB0aGlzLmF1dGhTZXJ2aWNlLm9yZ0luZm8uc3Vic2NyaWJlKG9yZyA9PiB7XHJcbiAgICAvLyAgIHRoaXMub3JnSWQgPSBvcmc7XHJcbiAgICAvLyAgIGlmICh0aGlzLm9yZ0lkKSB7XHJcbiAgICAvLyAgICAgdGhpcy5nZXRPcmdhbml6YXRpb25QYWdlKCk7XHJcbiAgICAvLyAgIH1cclxuICAgIC8vIH0pO1xyXG4gIH1cclxuXHJcbiAgbmdPbkluaXQoKTogdm9pZCB7XHJcbiAgICB0aGlzLm9yZ1N1YnMgPSB0aGlzLl9zdG9yZXNlcnZpY2UuY3VycmVudFN0b3JlLnN1YnNjcmliZSgocmVzOiBhbnkpID0+IHtcclxuICAgICAgaWYgKHJlc1snUkJBQ09SRyddICYmIHJlc1snUkJBQ09SRyddICE9PSAnJykge1xyXG4gICAgICAgIHRoaXMuUkJBQ09SRyA9IHJlc1snUkJBQ09SRyddO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMuUkJBQ09SRywgJ1JCQUNPUkcgRXZlbnQgU2NoZWR1bGVyJyk7XHJcbiAgICAgICAgdGhpcy5lbnZpcm9ubWVudCA9IHRoaXMuUkJBQ09SR1snZW52aXJvbm1lbnQnXTtcclxuICAgICAgICB0aGlzLm9yZ0lkID0gcGFyc2VJbnQodGhpcy5SQkFDT1JHWydvcmdJRCddKTtcclxuICAgICAgICB0aGlzLmh0dHBTZXJ2aWNlID0gcmVzWydIVFRQU0VSVklDRSddXHJcbiAgICAgICAgaWYgKHRoaXMuZW52aXJvbm1lbnQpIHtcclxuICAgICAgICAgIHRoaXMuZ2V0T3JnYW5pemF0aW9uUGFnZSgpO1xyXG4gICAgICAgICAgdGhpcy5sb2FkUmJhY0Zvcm0oKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuICBuZ09uRGVzdHJveSgpOiB2b2lkIHtcclxuICAgIHRoaXMub3JnU3Vicy51bnN1YnNjcmliZSgpO1xyXG4gIH1cclxuICBsb2FkUmJhY0Zvcm0oKSB7XHJcbiAgICB0aGlzLnJiYWNGb3JtID0gdGhpcy5mb3JtQnVpbGRlci5ncm91cCh7XHJcbiAgICAgIGlkOiBuZXcgRm9ybUNvbnRyb2wobnVsbCksXHJcbiAgICAgIGFjY2Vzc0J5OiBuZXcgRm9ybUNvbnRyb2wobnVsbCksXHJcbiAgICAgIHVzZXJpZDogbmV3IEZvcm1Db250cm9sKCcnKSxcclxuICAgICAgcG9saWN5aWQ6IG5ldyBGb3JtQ29udHJvbChudWxsKSxcclxuICAgICAgcm9sZWlkOiBuZXcgRm9ybUNvbnRyb2wobnVsbCksXHJcbiAgICAgIHByb3ZpZGVBY2Nlc3M6IG5ldyBGb3JtQ29udHJvbChudWxsKSxcclxuICAgICAgcGFnZUFjY2VzczogbmV3IEZvcm1Db250cm9sKCcyJyksXHJcbiAgICAgIHZhbGlkaXR5OiBuZXcgRm9ybUNvbnRyb2wobnVsbCksXHJcbiAgICAgIGFjY2Vzc2RhdGE6IG5ldyBGb3JtQ29udHJvbChudWxsKSxcclxuICAgICAgbW9kdWxlOiBuZXcgRm9ybUNvbnRyb2wobnVsbCksXHJcbiAgICAgIHN1Ym1vZHVsZTogbmV3IEZvcm1Db250cm9sKG51bGwpLFxyXG4gICAgICBwYWdlTGlzdDogbmV3IEZvcm1Db250cm9sKG51bGwpLFxyXG4gICAgICBwcGFnZXM6IG5ldyBGb3JtQ29udHJvbChudWxsKSxcclxuICAgICAgZnBhZ2VzOiBuZXcgRm9ybUNvbnRyb2wobnVsbCksXHJcbiAgICAgIGZpZWxkTGV2ZWxEYXRhOiBuZXcgRm9ybUFycmF5KFtdKSxcclxuICAgICAgcGFnZUxldmVsRGF0YTogbmV3IEZvcm1BcnJheShbXSlcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgYWNjZXNzQnkoZXZ0KSB7XHJcbiAgICB0aGlzLnBhZ2VzTGlzdCA9IFtdO1xyXG4gICAgdGhpcy5yYmFjRm9ybS5wYXRjaFZhbHVlKHsgYWNjZXNzQnk6IGV2dCB9KTtcclxuICAgIHRoaXMucmVzZXRGb3JtKGV2dCk7XHJcbiAgICB0aGlzLnJiYWNGb3JtLnBhdGNoVmFsdWUoeyBwcm92aWRlQWNjZXNzOiAnMScgfSk7XHJcbiAgfVxyXG4gIHVzZXJEcm9wZG93bihldnQpIHtcclxuICAgIHRoaXMudXNlckxpc3QgPSBldnQ7XHJcbiAgfVxyXG4gIHJvbGVEcm9wZG93bihldnQpIHtcclxuICAgIHRoaXMucm9sZUFkZGVkRGF0YSA9IGV2dDtcclxuICB9XHJcbiAgcG9saWN5RHJvcGRvd24oZXZ0KSB7XHJcbiAgICB0aGlzLnBvbGljeUdyb3VwRGF0YSA9IGV2dDtcclxuICB9XHJcbiAgZHJvcERvd25TZWxlY3RlZFZhbHVlcyhldnQpIHtcclxuICAgIHRoaXMuZGlzYWJsZWRQYWdlcyA9IFtdO1xyXG4gICAgdGhpcy5nZXRQYWdlTGlzdCA9IHRydWU7XHJcbiAgICB0aGlzLmVuYWJsZXNhdmUgPSBmYWxzZTtcclxuICAgIHRoaXMuc2VsZWN0ZWRSb2xlID0gJyc7XHJcbiAgICB0aGlzLnVwZGF0ZVBhZ2UgPSBmYWxzZTtcclxuICAgIHRoaXMuc2VsZWN0ZWRBY2Nlc3MgPSBldnQuZnJvbTtcclxuICAgIHRoaXMuc2VsZWN0ZWROYW1lID0gZXZ0Lm5hbWU7XHJcbiAgICB0aGlzLmZpbHRlclRleHQgPSAnJztcclxuICAgIHRoaXMucmJhY0Zvcm0ucGF0Y2hWYWx1ZSh7IHVzZXJpZDogZXZ0LnVzZXJpZCB9KTtcclxuICAgIHRoaXMucmJhY0Zvcm0ucGF0Y2hWYWx1ZSh7IHJvbGVpZDogZXZ0LnJvbGVpZCB9KTtcclxuICAgIHRoaXMucmJhY0Zvcm0ucGF0Y2hWYWx1ZSh7IHBvbGljeWlkOiBldnQucG9saWN5aWQgfSk7XHJcbiAgICBpZiAodGhpcy5wYWdlc0xpc3QubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIHRoaXMuZ2V0T3JnYW5pemF0aW9uUGFnZSgpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5nZXRTZWxlY3RlZFBhZ2VzKCk7XHJcbiAgICBpZiAoZXZ0LmZyb20gPT09ICdyb2xlJykge1xyXG4gICAgICB0aGlzLnNlbGVjdGVkUm9sZSA9IGV2dC5yb2xlaWQ7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRPcmdhbml6YXRpb25QYWdlKCkge1xyXG4gICAgaWYgKHRoaXMub3JnSWQpIHtcclxuICAgICAgdGhpcy5wYWdlQWNjZXNzU2VydmljZS5nZXRPcmdhbml6YXRpb25QYWdlKHRoaXMub3JnSWQpLnN1YnNjcmliZShyZXMgPT4ge1xyXG4gICAgICAgIGNvbnN0IGRhdGEgPSByZXNbJ2RhdGEnXVsnZGF0YSddO1xyXG4gICAgICAgIGlmIChkYXRhICYmIGRhdGE/Lmxlbmd0aCkge1xyXG4gICAgICAgICAgdGhpcy5wYWdlRGF0YSA9IGRhdGE/LmZpbHRlcihhID0+IGEuYWN0aXZlVmVyc2lvbik7XHJcbiAgICAgICAgICB0aGlzLmxvYWRlZFBhZ2VzTGlzdCA9IHRoaXMucGFnZURhdGEubWFwKHggPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgIGlkOiB4LmFjdGl2ZVZlcnNpb24ucGFnZWlkLFxyXG4gICAgICAgICAgICAgIHBhZ2VuYW1lOiB4LmlzRW5hYmxlID8geC5hY3RpdmVWZXJzaW9uLnBhZ2VuYW1lIDogYCR7eC5hY3RpdmVWZXJzaW9uLnBhZ2VuYW1lfSAoSW5hY3RpdmUpYCxcclxuICAgICAgICAgICAgICBpc0VuYWJsZTogeC5pc0VuYWJsZSxcclxuICAgICAgICAgICAgICBhY3RpdmVWZXJzaW9uOiB4LmFjdGl2ZVZlcnNpb24sXHJcbiAgICAgICAgICAgICAgZGlzYWJsZWQ6IGZhbHNlXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0RmFsbGJhY2tQZXJtaXNzaW9uKGZBY2Nlc3MpIHtcclxuICAgIGlmIChmQWNjZXNzPy52YWx1ZT8ucGFnZUFjY2VzcyA9PT0gJzInIHx8IGZBY2Nlc3M/LnZhbHVlPy5hY2Nlc3MgPT09ICcyJykge1xyXG4gICAgICByZXR1cm4gdGhpcy5wZXJtaXNzaW9ucy5maWx0ZXIoYSA9PiBhLmtleSAhPT0gJ3J3Jyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gdGhpcy5wZXJtaXNzaW9ucztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldFNlbGVjdGVkUGFnZXMoX3NlbGVjdGVkUGFnZXM/OiBhbnksIF9wYWdlQ29uZmlnPzogYW55LCBfYXNzZXRjb25maWc/OiBhbnkpIHtcclxuICAgIC8vdGhpcy5wb2xpY3lHcm91cFBhZ2VzID0gW107XHJcbiAgICB0aGlzLnVwZGF0ZVBhZ2UgPSBmYWxzZTtcclxuICAgIHRoaXMuZ2V0UGFnZUxpc3QgPSB0cnVlO1xyXG4gICAgdGhpcy5yYmFjRm9ybS5nZXQoJ3Byb3ZpZGVBY2Nlc3MnKS5zZXRWYWx1ZShudWxsKTtcclxuICAgIGlmICh0aGlzLnNlbGVjdGVkQWNjZXNzID09PSAndXNlcicpIHtcclxuICAgICAgdGhpcy5zZWxlY3RlZElkID0gdGhpcy5yYmFjRm9ybS5nZXRSYXdWYWx1ZSgpLnVzZXJpZDtcclxuICAgIH0gZWxzZSBpZiAodGhpcy5zZWxlY3RlZEFjY2VzcyA9PT0gJ3JvbGUnKSB7XHJcbiAgICAgIHRoaXMuc2VsZWN0ZWRJZCA9IHRoaXMucmJhY0Zvcm0uZ2V0UmF3VmFsdWUoKS5yb2xlaWQ7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnNlbGVjdGVkSWQgPSB0aGlzLnJiYWNGb3JtLmdldFJhd1ZhbHVlKCkucG9saWN5aWQ7XHJcbiAgICAgIHRoaXMuc2VsZWN0ZWRBY2Nlc3MgPSAncG9saWN5Z3JvdXAnO1xyXG4gICAgfVxyXG4gICAgaWYgKCF0aGlzLmZpZWxkTGV2ZWxBY2Nlc3MgJiYgdGhpcy5wZXJtaXNzaW9uVXBkYXRlZFBhZ2VzLmxlbmd0aCkge1xyXG4gICAgICB0aGlzLmdldFBhZ2VMaXN0ID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIHRoaXMuZ2V0R3JhbnRlZFBhZ2VzKCk7XHJcbiAgfVxyXG5cclxuICBnZXRHcmFudGVkUGFnZXMoKSB7XHJcbiAgICBpZiAodGhpcy5nZXRQYWdlTGlzdCkge1xyXG4gICAgICB0aGlzLnBhZ2VBY2Nlc3NTZXJ2aWNlLmdldER5bmFtaWNQYWdlKHRoaXMuc2VsZWN0ZWRBY2Nlc3MsIHRoaXMuc2VsZWN0ZWRJZCkuc3Vic2NyaWJlKHJlcyA9PiB7XHJcbiAgICAgICAgdGhpcy5ncmFudGVkUGFnZXMgPSBbXTtcclxuICAgICAgICB0aGlzLmdldFBhZ2VMaXN0ID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRBY2Nlc3MgPT09ICdyb2xlJykge1xyXG4gICAgICAgICAgdGhpcy5ncmFudGVkUGFnZXMgPSByZXNbJ2RhdGEnXS5yb2xlUGFnZXM7XHJcbiAgICAgICAgICB0aGlzLnBvbGljeUdyb3VwUGFnZXMgPSByZXNbJ2RhdGEnXS5wb2xpY3lHcm91cFBhZ2VzO1xyXG4gICAgICAgICAgY29uc3Qgc2VsZWN0ZWRQYWdlcyA9IHRoaXMuY2hlY2tFeGlzdGluZ0dyYW50ZWRQb2xpY3lQYWdlcyh0aGlzLmdyYW50ZWRQYWdlcywgdGhpcy5wb2xpY3lHcm91cFBhZ2VzKTtcclxuICAgICAgICAgIHRoaXMucGFnZXNMaXN0ID0gWy4uLnRoaXMubG9hZGVkUGFnZXNMaXN0Lm1hcChwYWdlID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAuLi5wYWdlLFxyXG4gICAgICAgICAgICAgIGRpc2FibGVkOiB0aGlzLmRpc2FibGVkUGFnZXMuc29tZShpZCA9PiBpZCA9PT0gcGFnZS5pZCksXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICB9KV07XHJcbiAgICAgICAgICAvLyBhZGRlZCB0aGlzIGJlbG93IGxpbmUgZm9yIGJ1ZyBPUi0xMzM4XHJcbiAgICAgICAgICAvLyB0aGlzLnBhZ2VzTGlzdCA9IHRoaXMucGFnZXNMaXN0LmZpbHRlcihlID0+ICFlLmRpc2FibGVkKTtcclxuICAgICAgICAgIGNvbnN0IGVuYWJsZVBhZ2VzID0gc2VsZWN0ZWRQYWdlcy5maWx0ZXIoZSA9PiAhZS5kaXNhYmxlZClcclxuICAgICAgICAgIHRoaXMucmJhY0Zvcm0ucGF0Y2hWYWx1ZSh7IHBhZ2VMaXN0OiBlbmFibGVQYWdlcyB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy5zZWxlY3RlZEFjY2VzcyA9PT0gJ3BvbGljeWdyb3VwJykge1xyXG4gICAgICAgICAgdGhpcy5ncmFudGVkUGFnZXMgPSByZXNbJ2RhdGEnXS5wb2xpY3lHcm91cFBhZ2VzO1xyXG4gICAgICAgICAgdGhpcy5wb2xpY3lHcm91cFJvbGVQYWdlcyA9IHJlc1snZGF0YSddLnBvbGljeUdyb3VwUm9sZVBhZ2VzO1xyXG4gICAgICAgICAgY29uc3Qgc2VsZWN0ZWRQYWdlcyA9IHRoaXMuY2hlY2tFeGlzdGluZ0dyYW50ZWRSb2xlUGFnZXModGhpcy5ncmFudGVkUGFnZXMsIHRoaXMucG9saWN5R3JvdXBSb2xlUGFnZXMpO1xyXG4gICAgICAgICAgdGhpcy5wYWdlc0xpc3QgPSB0aGlzLmxvYWRlZFBhZ2VzTGlzdC5tYXAocGFnZSA9PiAoe1xyXG4gICAgICAgICAgICAuLi5wYWdlLFxyXG4gICAgICAgICAgICBkaXNhYmxlZDogdGhpcy5kaXNhYmxlZFBhZ2VzLnNvbWUoaWQgPT4gaWQgPT09IHBhZ2UuaWQpLFxyXG4gICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgLy8gYWRkZWQgdGhpcyBiZWxvdyBsaW5lIGZvciBidWcgT1ItMTMzOFxyXG4gICAgICAgICAgLy8gdGhpcy5wYWdlc0xpc3QgPSB0aGlzLnBhZ2VzTGlzdC5maWx0ZXIoZSA9PiAhZS5kaXNhYmxlZCk7XHJcbiAgICAgICAgICBjb25zdCBlbmFibGVQYWdlcyA9IHNlbGVjdGVkUGFnZXMuZmlsdGVyKGUgPT4gIWUuZGlzYWJsZWQpXHJcbiAgICAgICAgICB0aGlzLnJiYWNGb3JtLnBhdGNoVmFsdWUoeyBwYWdlTGlzdDogZW5hYmxlUGFnZXMgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgdGhpcy5ncmFudGVkUGFnZXMgPSByZXNbJ2RhdGEnXTtcclxuICAgICAgICAgIHRoaXMucGFnZXNMaXN0ID0gdGhpcy5sb2FkZWRQYWdlc0xpc3Q7XHJcbiAgICAgICAgICBjb25zdCBwYWdlc0FycmF5SWRzID0gdGhpcy5ncmFudGVkUGFnZXMubWFwKGdyYW50ZWQgPT4gZ3JhbnRlZC5wYWdlLmlkKTtcclxuICAgICAgICAgIGNvbnN0IGVuYWJsZVBhZ2VzID0gdGhpcy5wYWdlc0xpc3QuZmlsdGVyKHBhZ2UgPT4gcGFnZXNBcnJheUlkcy5pbmNsdWRlcyhwYWdlLmlkKSk7XHJcbiAgICAgICAgICB0aGlzLnJiYWNGb3JtLnBhdGNoVmFsdWUoeyBwYWdlTGlzdDogZW5hYmxlUGFnZXMgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIHRoaXMubG9hZFBhZ2VzKFtdLCBudWxsLCBbXSwgW10sIHRoaXMuYXNzZXRMaXN0KTtcclxuICAgICAgICBpZiAodGhpcy5ncmFudGVkUGFnZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICB0aGlzLnVwZGF0ZVBhZ2UgPSB0cnVlO1xyXG4gICAgICAgICAgY29uc3QgcGFnZURhdGEgPSB0aGlzLmdyYW50ZWRQYWdlcy5maWx0ZXIocGFnZSA9PiBwYWdlLnBhZ2UpLm1hcChhID0+IGEucGFnZSk7XHJcbiAgICAgICAgICBwYWdlRGF0YS5mb3JFYWNoKHggPT4gKHgucGFnZW5hbWUgPSB4Py5hY3RpdmVWZXJzaW9uPy5wYWdlbmFtZSB8fCAnJykpO1xyXG4gICAgICAgICAgY29uc3QgdW5pcXVlUGFnZURhdGEgPSBbLi4ubmV3IE1hcChwYWdlRGF0YS5tYXAoaXRlbSA9PiBbaXRlbVsnaWQnXSwgaXRlbV0pKS52YWx1ZXMoKV07XHJcbiAgICAgICAgICBjb25zdCBwYWdlSURzID0gdW5pcXVlUGFnZURhdGEubWFwKGEgPT4gYVsnaWQnXSk7XHJcbiAgICAgICAgICBjb25zdCBwYWdlQ29uZmlnRGF0YSA9IHRoaXMuZ3JhbnRlZFBhZ2VzLm1hcChhID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICBpZDogYS5pZCxcclxuICAgICAgICAgICAgICAvLyBpc2Z1bGw6IGEuZnVsbCxcclxuICAgICAgICAgICAgICBoaWRlOiBhLmhpZGUsXHJcbiAgICAgICAgICAgICAgLy8gaXNyZWFkOiBhLnJlYWQsXHJcbiAgICAgICAgICAgICAgLy8gaXNyZWFkd3JpdGU6IGEucmVhZHdyaXRlLFxyXG4gICAgICAgICAgICAgIGFjY2Vzc2RhdGE6IGEuYWNjZXNzRGF0YSxcclxuICAgICAgICAgICAgICBjb25kaXRpb25zOiBhLmNvbmRpdGlvbnMsXHJcbiAgICAgICAgICAgICAgcGFnZTogYS5wYWdlLFxyXG4gICAgICAgICAgICAgIGM6IGE/LmMsXHJcbiAgICAgICAgICAgICAgcjogYT8ucixcclxuICAgICAgICAgICAgICB1OiBhPy51LFxyXG4gICAgICAgICAgICAgIGQ6IGE/LmRcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgdGhpcy5sb2FkUGFnZXModW5pcXVlUGFnZURhdGEsIG51bGwsIHBhZ2VJRHMsIHBhZ2VDb25maWdEYXRhLCB0aGlzLmFzc2V0TGlzdCk7XHJcbiAgICAgICAgICAvL3RoaXMub25Db250cm9sQ2hhbmdlcygpO1xyXG4gICAgICAgICAgdGhpcy5vbGRQYWdlQWNjZXNzVmFsdWVzID0gdGhpcy5yYmFjRm9ybS5nZXQoJ3BhZ2VMZXZlbERhdGEnKS52YWx1ZS5tYXAoeCA9PiAoeyAuLi54IH0pKTtcclxuICAgICAgICAgIC8vIH0gZWxzZSB7XHJcbiAgICAgICAgICAvLyAgIHRoaXMucmVtb3ZlQWxsUG9wdWxhdGVQYWdlKClcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLmxvYWRQYWdlcyhbXSwgbnVsbCwgW10sIFtdLCB0aGlzLmFzc2V0TGlzdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICB0aGlzLnVwZGF0ZVBhZ2UgPSB0cnVlO1xyXG4gICAgICBjb25zdCBwYWdlTGV2ZWxEYXRhID0gdGhpcy5yYmFjRm9ybS5nZXQoJ3BhZ2VMZXZlbERhdGEnKSBhcyBGb3JtQXJyYXk7XHJcbiAgICAgIGlmIChwYWdlTGV2ZWxEYXRhICYmIHBhZ2VMZXZlbERhdGEuY29udHJvbHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIHBhZ2VMZXZlbERhdGEuY29udHJvbHMuZm9yRWFjaCgoY29udHJvbCwgaW5kZXgpID0+IHtcclxuICAgICAgICAgIGNvbnN0IGN1cnJlbnRJZCA9IGNvbnRyb2wudmFsdWUucGFnZWlkO1xyXG4gICAgICAgICAgY29uc3Qgb3JpZ2luYWxFbnRyeSA9IHRoaXMub2xkUGFnZUFjY2Vzc1ZhbHVlcy5maW5kKG8gPT4gby5wYWdlaWQgPT09IGN1cnJlbnRJZCk7XHJcbiAgICAgICAgICBpZiAob3JpZ2luYWxFbnRyeSkge1xyXG4gICAgICAgICAgICBjb250cm9sLnBhdGNoVmFsdWUoe1xyXG4gICAgICAgICAgICAgIHBhZ2VBY2Nlc3M6IG9yaWdpbmFsRW50cnkucGFnZUFjY2VzcyxcclxuICAgICAgICAgICAgICBmYWxsYmFja1RvOiBvcmlnaW5hbEVudHJ5LmZhbGxiYWNrVG8sXHJcbiAgICAgICAgICAgICAgY29uZGl0aW9uOiBvcmlnaW5hbEVudHJ5LmNvbmRpdGlvbixcclxuICAgICAgICAgICAgICB2YWxpZGl0eTogb3JpZ2luYWxFbnRyeS52YWxpZGl0eSxcclxuICAgICAgICAgICAgICBhY2Nlc3NkYXRhOiBvcmlnaW5hbEVudHJ5LmFjY2Vzc2RhdGFcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29udHJvbC5wYXRjaFZhbHVlKHtcclxuICAgICAgICAgICAgICBwYWdlQWNjZXNzOiBjb250cm9sPy52YWx1ZT8ucGFnZUFjY2VzcyA/IGNvbnRyb2wudmFsdWUucGFnZUFjY2VzcyA6ICcyJyxcclxuICAgICAgICAgICAgICBmYWxsYmFja1RvOiAnbicsXHJcbiAgICAgICAgICAgICAgY29uZGl0aW9uOiAnYWx3YXlzJyxcclxuICAgICAgICAgICAgICB2YWxpZGl0eTogJzEnLFxyXG4gICAgICAgICAgICAgIGFjY2Vzc2RhdGE6ICdhbGwnXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIHRoaXMucGFnZUxldmVsQWNjZXNzID0gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbiAgb25GaWx0ZXJQYWdlcyhldmVudDogYW55KSB7XHJcbiAgICB0aGlzLmZpbHRlclRleHQgPSBldmVudC5maWx0ZXI7XHJcbiAgfVxyXG4gIHJlbW92ZVZhbHVlKGUsIGl0ZW0pIHtcclxuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICBjb25zdCBmaWx0ZXJlZFBhZ2VzID0gdGhpcy5yYmFjRm9ybS52YWx1ZS5wYWdlTGlzdC5maWx0ZXIoKHMpID0+IHMuaWQgIT09IE51bWJlcihpdGVtLmlkKSk7XHJcbiAgICB0aGlzLnJiYWNGb3JtLnBhdGNoVmFsdWUoe1xyXG4gICAgICBwYWdlTGlzdDogZmlsdGVyZWRQYWdlc1xyXG4gICAgfSlcclxuICAgIHRoaXMucG9wdWxhdGVQYWdlKCdjbGljaycsIHRydWUsIG51bGwpXHJcbiAgICB0aGlzLnNlbGVjdGVkUGFnZURhdGEgPSB0aGlzLnJiYWNGb3JtLnZhbHVlLnBhZ2VMaXN0LmZpbHRlcihwYWdlID0+ICFwYWdlLmRpc2FibGVkKTtcclxuICB9XHJcblxyXG4gIG9uQ29udHJvbENoYW5nZXMoKSB7XHJcbiAgICBjb25zdCBwYWdlTGV2ZWxBY2Nlc3NGb3JtQ29udHJvbCA9IHRoaXMucmJhY0Zvcm0uZ2V0KCdwYWdlTGV2ZWxEYXRhJykgYXMgRm9ybUFycmF5O1xyXG4gICAgcGFnZUxldmVsQWNjZXNzRm9ybUNvbnRyb2wuY29udHJvbHMuZm9yRWFjaChcclxuICAgICAgY29udHJvbCA9PiB7XHJcbiAgICAgICAgY29udHJvbC52YWx1ZUNoYW5nZXMucGlwZShcclxuICAgICAgICAgIG1hcCgodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1ZhbHVlIENoYW5nZWQnKVxyXG4gICAgICAgICAgICBpZiAodGhpcy5wZXJtaXNzaW9uVXBkYXRlZFBhZ2VzLnNvbWUocGFnZUlkID0+IHBhZ2VJZCA9PT0gdmFsdWUucGFnZWlkKSkge1xyXG4gICAgICAgICAgICAgIHRoaXMucGVybWlzc2lvblVwZGF0ZWRQYWdlcyA9IHRoaXMucGVybWlzc2lvblVwZGF0ZWRQYWdlcy5maWx0ZXIocGFnZUlkID0+IHBhZ2VJZCAhPT0gdmFsdWUucGFnZWlkKVxyXG4gICAgICAgICAgICAgIHRoaXMucGVybWlzc2lvblVwZGF0ZWRQYWdlcy5wdXNoKHZhbHVlLnBhZ2VpZClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICB0aGlzLnBlcm1pc3Npb25VcGRhdGVkUGFnZXMucHVzaCh2YWx1ZS5wYWdlaWQpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIClcclxuICAgICAgICApLnN1YnNjcmliZSgpO1xyXG4gICAgICB9XHJcbiAgICApXHJcbiAgfVxyXG5cclxuICBjaGVja0V4aXN0aW5nR3JhbnRlZFBvbGljeVBhZ2VzKHJvbGVQYWdlcywgcG9saWN5R3JvdXBQYWdlcykge1xyXG4gICAgbGV0IHNlbGVjdGVkUGFnZXM7XHJcbiAgICBjb25zdCByb2xlUGFnZUlkcyA9IHJvbGVQYWdlcy5tYXAocGFnZSA9PiBwYWdlLnBhZ2UuaWQpO1xyXG4gICAgc2VsZWN0ZWRQYWdlcyA9IHRoaXMubG9hZGVkUGFnZXNMaXN0LmZpbHRlcihrZXkgPT4gcm9sZVBhZ2VJZHMuaW5jbHVkZXMoa2V5LmlkKSk7XHJcbiAgICBmb3IgKGNvbnN0IHBhZ2Ugb2YgdGhpcy5sb2FkZWRQYWdlc0xpc3QpIHtcclxuICAgICAgZm9yIChjb25zdCBwb2xpY3lHcm91cHMgb2YgcG9saWN5R3JvdXBQYWdlcykge1xyXG4gICAgICAgIGZvciAoY29uc3QgcGFnZXMgb2YgcG9saWN5R3JvdXBzLnBvbGljeWdyb3VwcGFnZSkge1xyXG4gICAgICAgICAgaWYgKHBhZ2VzLnBhZ2VbMF0uaWQgPT09IHBhZ2UuaWQpIHtcclxuICAgICAgICAgICAgdGhpcy5kaXNhYmxlZFBhZ2VzLnB1c2gocGFnZXMucGFnZVswXS5pZCk7XHJcbiAgICAgICAgICAgIHNlbGVjdGVkUGFnZXMucHVzaCh7IC4uLnBhZ2UsIGRpc2FibGVkOiB0cnVlIH0pXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gc2VsZWN0ZWRQYWdlcztcclxuICB9XHJcblxyXG4gIGNoZWNrRXhpc3RpbmdHcmFudGVkUm9sZVBhZ2VzKHBvbGljeVBhZ2VzLCBwb2xpY3lHcm91cFJvbGVQYWdlcykge1xyXG4gICAgbGV0IHNlbGVjdGVkUGFnZXM7XHJcbiAgICBjb25zdCBwb2xpY3lQYWdlSWRzID0gcG9saWN5UGFnZXMubWFwKHBhZ2UgPT4gcGFnZS5wYWdlLmlkKTtcclxuICAgIHNlbGVjdGVkUGFnZXMgPSB0aGlzLmxvYWRlZFBhZ2VzTGlzdC5maWx0ZXIoa2V5ID0+IHBvbGljeVBhZ2VJZHMuaW5jbHVkZXMoa2V5LmlkKSk7XHJcbiAgICBmb3IgKGNvbnN0IHBhZ2Ugb2YgdGhpcy5sb2FkZWRQYWdlc0xpc3QpIHtcclxuICAgICAgZm9yIChjb25zdCBwb2xpY3lHcm91cHMgb2YgcG9saWN5R3JvdXBSb2xlUGFnZXMpIHtcclxuICAgICAgICBmb3IgKGNvbnN0IHBhZ2VzIG9mIHBvbGljeUdyb3Vwcy5yb2xlcGFnZSkge1xyXG4gICAgICAgICAgaWYgKHBhZ2VzLnBhZ2VbMF0uaWQgPT09IHBhZ2UuaWQpIHtcclxuICAgICAgICAgICAgdGhpcy5kaXNhYmxlZFBhZ2VzLnB1c2gocGFnZXMucGFnZVswXS5pZCk7XHJcbiAgICAgICAgICAgIHNlbGVjdGVkUGFnZXMucHVzaCh7IC4uLnBhZ2UsIGRpc2FibGVkOiB0cnVlIH0pXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gc2VsZWN0ZWRQYWdlcztcclxuICB9XHJcbiAgcG9saWN5R3JvdXBDb25kaXRpb24oZGF0YSwgcG9saWN5R3JvdXApIHtcclxuICAgIGNvbnN0IHBvbGljeUdyb3VwUGFnZXMgPSBkYXRhPy5kYXRhICYmIGRhdGE/LmRhdGEubGVuZ3RoID8gZGF0YT8uZGF0YSA6IFtdO1xyXG4gICAgY29uc3QgdW5pcXVlUG9saWN5R3JvdXBQYWdlcyA9IFsuLi5uZXcgTWFwKHBvbGljeUdyb3VwUGFnZXMubWFwKGl0ZW0gPT4gW2l0ZW1bJ3BhZ2UnXVsnaWQnXSwgaXRlbV0pKS52YWx1ZXMoKV07XHJcbiAgICB0aGlzLnBvbGljeUdyb3VwRGF0YSA9ICh0aGlzLnBvbGljeUdyb3VwRGF0YS5sZW5ndGggJiYgdGhpcy5wb2xpY3lHcm91cERhdGEpIHx8IHVuaXF1ZVBvbGljeUdyb3VwUGFnZXM7XHJcbiAgICB0aGlzLnBvbGljeUdyb3VwUGFnZXMucHVzaCh7XHJcbiAgICAgIG5hbWU6IHRoaXMucG9saWN5R3JvdXBEYXRhLmZpbmQocGdkID0+IHBnZC5wb2xpY3lncm91cC5pZCA9PT0gcG9saWN5R3JvdXAucG9saWN5Z3JvdXBpZCk/LnBvbGljeWdyb3VwXHJcbiAgICAgICAgPy5wb2xpY3lncm91cG5hbWUsXHJcbiAgICAgIGRhdGE6IHVuaXF1ZVBvbGljeUdyb3VwUGFnZXNcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZ2V0Q29uZmlndXJlZEFzc2V0RGF0YShzZWxlY3RlZEFjY2Vzcywgc2VsZWN0ZWRJZCkge1xyXG4gICAgdGhpcy5wYWdlQWNjZXNzU2VydmljZS5nZXRBc3NldEJ5SWQoc2VsZWN0ZWRBY2Nlc3MsIHNlbGVjdGVkSWQpLnN1YnNjcmliZSgocmVzOiBBc3NldFtdKSA9PiB7XHJcbiAgICAgIHRoaXMuYXNzZXRMaXN0ID0gcmVzWydkYXRhJ10ubWFwKGEgPT4ge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBwYWdlaWQ6IHRoaXMucElkLFxyXG4gICAgICAgICAgX2lkOiBhPy5pZCxcclxuICAgICAgICAgIGlkOiBhPy5hc3NldGlkLFxyXG4gICAgICAgICAgLy8gaXNmdWxsOiBhLmZ1bGwsXHJcbiAgICAgICAgICBoaWRlOiBhLmhpZGUsXHJcbiAgICAgICAgICAvLyBpc3JlYWQ6IGEucmVhZCxcclxuICAgICAgICAgIC8vIGlzcmVhZHdyaXRlOiBhLnJlYWR3cml0ZSxcclxuICAgICAgICAgIGNvbmRpdGlvbnM6IGEuY29uZGl0aW9ucyxcclxuICAgICAgICAgIGFjY2Vzc2RhdGE6IGEuYWNjZXNzRGF0YSxcclxuICAgICAgICAgIGM6IGE/LmMsXHJcbiAgICAgICAgICByOiBhPy5yLFxyXG4gICAgICAgICAgdTogYT8udSxcclxuICAgICAgICB9O1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgbG9hZFBhZ2VzKHRlbXBQYWdlRGF0YSwgYWN0aW9uLCBwYWdlaWRzLCBwYWdlQ29uZmlnLCBmaWVsZENvbmZpZykge1xyXG4gICAgdGhpcy5wYWdlRGF0YSA9IHRlbXBQYWdlRGF0YSB8fCBbXTtcclxuICAgIHRoaXMucGFnZURhdGEuZm9yRWFjaChcclxuICAgICAgYSA9PiAoYS5wYWdlbmFtZSA9IHRlbXBQYWdlRGF0YS5sZW5ndGggJiYgdGVtcFBhZ2VEYXRhLmZpbHRlcihiID0+IGIuaWQgPT09IGEuaWQpWzBdPy5hY3RpdmVWZXJzaW9uPy5wYWdlbmFtZSlcclxuICAgICk7XHJcbiAgICB0aGlzLnBvcHVsYXRlUGFnZShhY3Rpb24sIHRydWUsIG51bGwsIHBhZ2VDb25maWcsIGZpZWxkQ29uZmlnLCBwYWdlaWRzKTtcclxuICB9XHJcblxyXG4gIHBvcHVsYXRlUGFnZShhY3Rpb246IGFueSwgc2VsZWN0ZWQ/OiBhbnksIGV2ZW50PzogYW55LCBwYWdlQ29uZmlnPzogYW55LCBmaWVsZENvbmZpZz86IGFueSwgcGFnZWlkcz86IGFueSkge1xyXG4gICAgLy8gaWYgKGV2ZW50KSB7XHJcbiAgICAvLyAgIGlmIChBcnJheS5pc0FycmF5KGV2ZW50KSAmJiBzZWxlY3RlZCkge1xyXG4gICAgLy8gICAgIHRoaXMucGVybWlzc2lvblVwZGF0ZWRQYWdlcyA9IGV2ZW50Lm1hcChwYWdlID0+IHBhZ2UuaWQpXHJcbiAgICAvLyAgIH1cclxuICAgIC8vICAgZWxzZSBpZiAoIUFycmF5LmlzQXJyYXkoZXZlbnQpICYmIHNlbGVjdGVkKSB7XHJcbiAgICAvLyAgICAgdGhpcy5wZXJtaXNzaW9uVXBkYXRlZFBhZ2VzLnB1c2goZXZlbnQuaWQpO1xyXG4gICAgLy8gICB9XHJcbiAgICAvLyAgIGVsc2Uge1xyXG4gICAgLy8gICAgIHRoaXMucGVybWlzc2lvblVwZGF0ZWRQYWdlcyA9IHRoaXMucGVybWlzc2lvblVwZGF0ZWRQYWdlcy5maWx0ZXIoaWQgPT4gaWQgIT09IGV2ZW50LmlkKTtcclxuICAgIC8vICAgfVxyXG4gICAgLy8gfVxyXG4gICAgLy9pZiAoZXZlbnQgJiYgZXZlbnQudmFsdWUubGVuZ3RoKSB7XHJcbiAgICAvL3RoaXMucmJhY0Zvcm0ucGF0Y2hWYWx1ZSh7IHBhZ2VMaXN0OiBldmVudC52YWx1ZSB9KTtcclxuICAgIC8vfVxyXG5cclxuICAgIGlmIChldmVudCkge1xyXG4gICAgICBjb25zdCBwcmV2aW91c1NlbGVjdGlvbiA9IHRoaXMuc2VsZWN0ZWRQYWdlRGF0YTtcclxuICAgICAgbGV0IGN1cnJlbnRTZWxlY3Rpb24gPSBldmVudC52YWx1ZTtcclxuXHJcbiAgICAgIC8vIHB1c2ggdmFsdWUgaW4gcGVybWlzc2lvbnVwZGF0ZWRQYWdlcyB3aGVuIG5ldyBwYWdlIGlzIHNlbGVjdGVkXHJcbiAgICAgIGlmIChldmVudD8uaXRlbVZhbHVlPy5pZCAmJiAhdGhpcy5wZXJtaXNzaW9uVXBkYXRlZFBhZ2VzLnNvbWUocGFnZUlkID0+IHBhZ2VJZCA9PT0gZXZlbnQuaXRlbVZhbHVlLmlkKSkge1xyXG4gICAgICAgIHRoaXMucGVybWlzc2lvblVwZGF0ZWRQYWdlcy5wdXNoKGV2ZW50Lml0ZW1WYWx1ZS5pZClcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKCEoZXZlbnQuaGFzT3duUHJvcGVydHkoJ2l0ZW1WYWx1ZScpICYmIGV2ZW50Lml0ZW1WYWx1ZSkpIHtcclxuICAgICAgICAvL3NlbGVjdC1hbGwgb3IgZGUtc2VsZWN0LWFsbCBhY3Rpb25cclxuICAgICAgICBsZXQgZGVTZWxlY3RBbGxQYWdlcyA9IGZhbHNlO1xyXG4gICAgICAgIGxldCBzZWxlY3RBbGxQYWdlcyA9IGZhbHNlO1xyXG5cclxuICAgICAgICAvL0VkZ2UgQ2FzZSAxOiBBbGwgcGFnZSBvcHRpb25zIGFyZSBzZWxlY3RlZCBmcm9tIHRoZSBkcm9wZG93blxyXG4gICAgICAgIGlmIChjdXJyZW50U2VsZWN0aW9uLmxlbmd0aCA9PT0gdGhpcy5wYWdlc0xpc3QubGVuZ3RoKSB7XHJcbiAgICAgICAgICBzZWxlY3RBbGxQYWdlcyA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vRWRnZSBDYXNlIDI6IEFsbCBwYWdlIG9wdGlvbnMgd2VyZSBwcmV2aW91c2x5IHNlbGVjdGVkIGFuZCBub3cgYWxsIG9mIHRoZW4gYXJlIGdldHRpbmcgZGUtc2VsZWN0ZWRcclxuICAgICAgICBpZiAoY3VycmVudFNlbGVjdGlvbi5sZW5ndGggPT09IDAgJiYgcHJldmlvdXNTZWxlY3Rpb24ubGVuZ3RoID09PSB0aGlzLnBhZ2VzTGlzdC5sZW5ndGgpIHtcclxuICAgICAgICAgIGRlU2VsZWN0QWxsUGFnZXMgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvL0lmIEVkZ2UgQ2FzZSAxIG9yIEVkZ2UgQ2FzZSAyIGhhcHBlbiwgdGhlbiB0aGlzLmZpbHRlclRleHQgbmVlZHMgdG8gYmUgY2xlYXJlZFxyXG4gICAgICAgIGlmIChzZWxlY3RBbGxQYWdlcyB8fCBkZVNlbGVjdEFsbFBhZ2VzKSB7XHJcbiAgICAgICAgICB0aGlzLmZpbHRlclRleHQgPSAnJztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuZmlsdGVyVGV4dCAmJiB0aGlzLmZpbHRlclRleHQgIT09ICcnKSB7XHJcbiAgICAgICAgICB0aGlzLmZpbHRlcmVkSXRlbXMgPSB0aGlzLnBhZ2VzTGlzdC5maWx0ZXIoaXRlbSA9PiBpdGVtLnBhZ2VuYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXModGhpcy5maWx0ZXJUZXh0LnRvTG93ZXJDYXNlKCkpKTtcclxuICAgICAgICAgIGlmIChjdXJyZW50U2VsZWN0aW9uLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAvL0VkZ2UgQ2FzZSAzLjEgOiBEZXNlbGVjdC1hbGwgaW4gZmlsdGVyZWQgdmlld1xyXG4gICAgICAgICAgICBjdXJyZW50U2VsZWN0aW9uID0gdGhpcy5zZWxlY3RlZFBhZ2VEYXRhLmZpbHRlcihcclxuICAgICAgICAgICAgICBzZWxlY3RlZEl0ZW0gPT4gIXRoaXMuZmlsdGVyZWRJdGVtcy5zb21lKGZpbHRlcmVkSXRlbSA9PiBmaWx0ZXJlZEl0ZW0uaWQgPT09IHNlbGVjdGVkSXRlbS5pZClcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vRWRnZSBDYXNlIDMuMiA6U2VsZWN0LWFsbCBpbiBmaWx0ZXJlZCB2aWV3XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld1NlbGVjdGlvbnMgPSB0aGlzLmZpbHRlcmVkSXRlbXMuZmlsdGVyKChpdGVtOiBhbnkpID0+ICF0aGlzLnNlbGVjdGVkUGFnZURhdGEuc29tZSgocHJldkl0ZW06IGFueSkgPT4gcHJldkl0ZW0uaWQgPT09IGl0ZW0uaWQpKTtcclxuICAgICAgICAgICAgY3VycmVudFNlbGVjdGlvbiA9IFsuLi50aGlzLnNlbGVjdGVkUGFnZURhdGEsIC4uLm5ld1NlbGVjdGlvbnNdO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICB0aGlzLnJiYWNGb3JtLnBhdGNoVmFsdWUoeyBwYWdlTGlzdDogY3VycmVudFNlbGVjdGlvbiB9KTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgY29uc3QgcGFnZUlkcyA9IHRoaXMucmJhY0Zvcm0uZ2V0KCdwYWdlTGlzdCcpLnZhbHVlO1xyXG4gICAgY29uc3QgaWQgPSBwYWdlSWRzLm1hcChrZXkgPT4ga2V5LmlkKTtcclxuICAgIGxldCBwcm92aWRlQWNjZXNzID0gdGhpcy5yYmFjRm9ybS5nZXQoJ3Byb3ZpZGVBY2Nlc3MnKS52YWx1ZTtcclxuXHJcbiAgICAvLyBMb2dpYyB0byBoYW5kbGUgdGhlIGRlc2VsZWN0ZWQgaXRlbSBvZiBQYWdlcyBmaWVsZFxyXG4gICAgaWYgKCFzZWxlY3RlZCkge1xyXG4gICAgICB0aGlzLmlzUGFnZURlc2VsZWN0U2F2ZSA9IHRydWU7XHJcbiAgICAgIGNvbnN0IG5ld2x5RGVzZWxlY3RlZCA9IHRoaXMucHJldmlvdXNTZWxlY3Rpb24uZmlsdGVyKGl0ZW0gPT4gIWlkLmluY2x1ZGVzKGl0ZW0pKTtcclxuICAgICAgdGhpcy5kZXNlbGVjdGVkSXRlbUlkcyA9IFsuLi5uZXcgU2V0KFsuLi50aGlzLmRlc2VsZWN0ZWRJdGVtSWRzLCAuLi5uZXdseURlc2VsZWN0ZWRdKV07XHJcbiAgICAgIGNvbnN0IGZwYWdlc1ZhbHVlID0gdGhpcy5yYmFjRm9ybS5nZXQoJ2ZwYWdlcycpLnZhbHVlO1xyXG4gICAgICBpZiAoZnBhZ2VzVmFsdWUgJiYgbmV3bHlEZXNlbGVjdGVkLmluY2x1ZGVzKGZwYWdlc1ZhbHVlKSkge1xyXG4gICAgICAgIHRoaXMucmJhY0Zvcm0uY29udHJvbHNbJ2ZwYWdlcyddLnNldFZhbHVlKG51bGwpO1xyXG4gICAgICAgIHRoaXMuc2hvd0ZpZWxkR3JpZCA9IGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgdGhpcy5pc1BhZ2VEZXNlbGVjdFNhdmUgPSBmYWxzZTtcclxuICAgIH1cclxuICAgIHRoaXMucHJldmlvdXNTZWxlY3Rpb24gPSBbLi4uaWRdO1xyXG5cclxuICAgIGlmIChpZD8ubGVuZ3RoKSB7XHJcbiAgICAgIHRoaXMuaXNSZW1vdmVBbGxGaWVsZHMgPSBmYWxzZTtcclxuICAgICAgaWYgKCFwcm92aWRlQWNjZXNzKSB7XHJcbiAgICAgICAgdGhpcy5yYmFjRm9ybS5wYXRjaFZhbHVlKHsgcHJvdmlkZUFjY2VzczogJzEnIH0pO1xyXG4gICAgICAgIHRoaXMucGFnZUxldmVsQWNjZXNzID0gdGhpcy5tdWx0aVBhZ2VBY2Nlc3MgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuZmllbGRMZXZlbEFjY2VzcyA9IGZhbHNlO1xyXG4gICAgICAgIHByb3ZpZGVBY2Nlc3MgPSAnMSc7XHJcbiAgICAgIH1cclxuICAgICAgLy8gRmlsdGVyIG91dCBwYWdlcyB3aXRoIGxvb2t1cCBrZXlzIFwiUkJUUFwiIG9yIFwiRFJcIlxyXG4gICAgICBjb25zdCBoaWRlUkJUUHBhZ2VJZHMgPSB0aGlzLmdyYW50ZWRQYWdlc1xyXG4gICAgICAuZmlsdGVyKGl0ZW0gPT4gaXRlbT8ucGFnZT8ubG9va3VwPy5rZXkgPT09IFwiUkJUUFwiIHx8IGl0ZW0/LnBhZ2U/Lmxvb2t1cD8ua2V5ID09PSBcIkRSXCIpXHJcbiAgICAgIC5tYXAoZWxlbWVudCA9PiBlbGVtZW50LnBhZ2VpZCk7XHJcblxyXG4gICAgICAvLyBGaWx0ZXIgb3V0IHBhZ2VzIHRoYXQgYXJlIG5vdCBkaXNhYmxlZCBhbmQgbm90IGluIHRoZSBoaWRlUkJUUHBhZ2VJZHMgYXJyYXlcclxuICAgICAgdGhpcy5zZWxlY3RlZFBhZ2VEYXRhRmlsdGVyID0gcGFnZUlkcy5maWx0ZXIocGFnZSA9PiAhcGFnZS5kaXNhYmxlZCAmJiAhaGlkZVJCVFBwYWdlSWRzLmluY2x1ZGVzKHBhZ2UuaWQpKTtcclxuXHJcbiAgICAgIC8vIFBhZ2VpZHMgZnJvbSBhcGlcclxuICAgICAgdGhpcy5zZWxlY3RlZFBhZ2VEYXRhID0gcGFnZUlkcy5maWx0ZXIocGFnZSA9PiAhcGFnZS5kaXNhYmxlZCk7XHJcbiAgICAgIHRoaXMucGFnZWxldmVsYWNjZXNzY291bnQgPSBwYWdlSWRzO1xyXG4gICAgICBpZiAoKHRoaXMucGFnZWxldmVsYWNjZXNzY291bnQgfHwgdGhpcy5wYWdlbGV2ZWxhY2Nlc3Njb3VudC5sZW5ndGggPiAwKSAmJiAhdGhpcy5lbmFibGVzYXZlKSB7XHJcbiAgICAgICAgdGhpcy5wYWdlbGV2ZWxhY2Nlc3Njb3VudGRpc2FibGUgPSBmYWxzZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHByb3ZpZGVBY2Nlc3MgPT09ICcxJykge1xyXG4gICAgICAgIHRoaXMucmJhY0Zvcm0ucGF0Y2hWYWx1ZSh7IHBwYWdlczogcGFnZUlkcyB9KTtcclxuICAgICAgICBpZiAoZmllbGRDb25maWc/Lmxlbmd0aCkge1xyXG4gICAgICAgICAgdGhpcy5zZWxlY3RlZEZpZWxkRGF0YSA9IHRoaXMucGFnZUFjY2Vzc1NlcnZpY2Uuc2V0U2VsZWN0ZWRGaWVsZFBhZ2UoXHJcbiAgICAgICAgICAgIGZpZWxkQ29uZmlnPy5tYXAoZWxlID0+IHtcclxuICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgZmllbGROYW1lOiBlbGU/LmRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICAgICAgYWNjZXNzOiB0aGlzLmNoZWNrQWNjZXNzVHlwZShlbGUpLFxyXG4gICAgICAgICAgICAgICAgYXNzZXRpZDogZWxlPy5hc3NldGlkLFxyXG4gICAgICAgICAgICAgICAgcGFnZUlkOiBlbGU/LmlkXHJcbiAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRGaWVsZERhdGFcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2UgaWYgKHByb3ZpZGVBY2Nlc3MgPT09ICcyJyAmJiBwYWdlaWRzICYmIHBhZ2VpZHMubGVuZ3RoKSB7XHJcbiAgICAgICAgaWYgKGZpZWxkQ29uZmlnICE9PSBudWxsKSB7XHJcbiAgICAgICAgICBjb25zdCBwTGlzdCA9IHRoaXMucGFnZURhdGEuZmlsdGVyKGtleSA9PiBrZXkuaWQgPT09IHBhZ2VpZHNbMF0pO1xyXG4gICAgICAgICAgdGhpcy5yYmFjRm9ybS5wYXRjaFZhbHVlKHsgZnBhZ2VzOiBwTGlzdCB9KTtcclxuICAgICAgICAgIHRoaXMuZ2V0RmllbGRMZXZlbExpc3QoYWN0aW9uLCBmaWVsZENvbmZpZyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGNvbnN0IHBJZCA9IHRoaXMuc2VsZWN0ZWRQYWdlRGF0YS5maWx0ZXIoZWxlID0+IGVsZS5pZCA9PT0gcGFnZUlkc1swXT8uaWQpO1xyXG4gICAgICAgICAgdGhpcy5yYmFjRm9ybS5wYXRjaFZhbHVlKHsgZnBhZ2VzOiBwSWQgfSk7XHJcbiAgICAgICAgICB0aGlzLmdldEZpZWxkTGV2ZWxMaXN0KGFjdGlvbiwgZmllbGRDb25maWcpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICB0aGlzLmdldFBhZ2VMZXZlbExpc3QoYWN0aW9uLCBwYWdlQ29uZmlnKTtcclxuICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICBpZiAoYWN0aW9uID09PSAnY2xpY2snKSB7XHJcbiAgICAgICAgdGhpcy5wYWdlbGV2ZWxhY2Nlc3Njb3VudGRpc2FibGUgPSBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIHtcclxuICAgICAgICB0aGlzLnBhZ2VsZXZlbGFjY2Vzc2NvdW50ZGlzYWJsZSA9IHRydWU7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5yZW1vdmVBbGxQb3B1bGF0ZVBhZ2UoKTtcclxuICAgICAgdGhpcy5pc1JlbW92ZUFsbEZpZWxkcyA9IHRydWU7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZW1vdmVBbGxQb3B1bGF0ZVBhZ2UoKSB7XHJcbiAgICB0aGlzLnNlbGVjdGVkUGFnZURhdGEgPSBbXTtcclxuICAgIHRoaXMucGFnZUxldmVsQWNjZXNzID0gZmFsc2U7XHJcbiAgICB0aGlzLmZpZWxkTGV2ZWxBY2Nlc3MgPSBmYWxzZTtcclxuICAgIHRoaXMubXVsdGlQYWdlQWNjZXNzID0gdHJ1ZTtcclxuICAgIHRoaXMucGFnZWxldmVsYWNjZXNzY291bnQgPSBbXTtcclxuICAgIHRoaXMucGFnZWxldmVsYWNjZXNzc2F2ZWRpc2FibGUgPSB0cnVlO1xyXG4gICAgdGhpcy5maWx0ZXJUZXh0ID0gJyc7XHJcbiAgICBjb25zdCBmID0gPEZvcm1BcnJheT50aGlzLnJiYWNGb3JtLmNvbnRyb2xzWydmaWVsZExldmVsRGF0YSddO1xyXG4gICAgZi5jb250cm9scyA9IFtdO1xyXG4gICAgY29uc3QgcCA9IDxGb3JtQXJyYXk+dGhpcy5yYmFjRm9ybS5jb250cm9sc1sncGFnZUxldmVsRGF0YSddO1xyXG4gICAgcC5jb250cm9scyA9IFtdO1xyXG4gICAgdGhpcy5yYmFjRm9ybS5nZXQoJ3BwYWdlcycpLnNldFZhbHVlKG51bGwpO1xyXG4gICAgdGhpcy5yYmFjRm9ybS5nZXQoJ2ZwYWdlcycpLnNldFZhbHVlKG51bGwpO1xyXG4gICAgdGhpcy5yYmFjRm9ybS5nZXQoJ3Byb3ZpZGVBY2Nlc3MnKS5zZXRWYWx1ZShudWxsKTtcclxuICAgIHRoaXMucmJhY0Zvcm0uZ2V0KCdwYWdlTGV2ZWxEYXRhJykuc2V0VmFsdWUoW10pO1xyXG4gICAgdGhpcy5yYmFjRm9ybS5nZXQoJ2ZpZWxkTGV2ZWxEYXRhJykuc2V0VmFsdWUoW10pO1xyXG4gIH1cclxuXHJcbiAgc2hvd0xldmVsQWNjZXNzKGlkKSB7XHJcbiAgICBjb25zdCBmID0gPEZvcm1BcnJheT50aGlzLnJiYWNGb3JtLmNvbnRyb2xzWydmaWVsZExldmVsRGF0YSddO1xyXG4gICAgaWYgKGYuZ2V0UmF3VmFsdWUoKT8ubGVuZ3RoKSB7XHJcbiAgICAgIHRoaXMuc2VsZWN0ZWRGaWVsZERhdGEgPSB0aGlzLnBhZ2VBY2Nlc3NTZXJ2aWNlLnNldFNlbGVjdGVkRmllbGRQYWdlKGYuZ2V0UmF3VmFsdWUoKSwgdGhpcy5zZWxlY3RlZEZpZWxkRGF0YSk7XHJcbiAgICB9XHJcbiAgICBmLmNvbnRyb2xzID0gW107XHJcbiAgICBjb25zdCBwYWdlSWRzID0gdGhpcy5yYmFjRm9ybS5nZXQoJ3BhZ2VMaXN0JykudmFsdWU7XHJcbiAgICBpZiAocGFnZUlkcyAhPSBudWxsKSB7XHJcbiAgICAgIGlmIChpZCA9PT0gJzEnKSB7XHJcbiAgICAgICAgdGhpcy5wYWdlTGV2ZWxBY2Nlc3MgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMubXVsdGlQYWdlQWNjZXNzID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmZpZWxkTGV2ZWxBY2Nlc3MgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnBhZ2VsZXZlbGFjY2Vzc2NvdW50ID0gcGFnZUlkcztcclxuICAgICAgICBpZiAocGFnZUlkcz8ubGVuZ3RoKSB7XHJcbiAgICAgICAgICB0aGlzLnBhZ2VsZXZlbGFjY2Vzc3NhdmVkaXNhYmxlID0gZmFsc2U7XHJcbiAgICAgICAgICBpZiAoIXRoaXMucmJhY0Zvcm0uZ2V0KCdwcGFnZXMnKS52YWx1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLnJiYWNGb3JtLmdldCgncHBhZ2VzJykucGF0Y2hWYWx1ZShwYWdlSWRzKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5nZXRTZWxlY3RlZFBhZ2VzKCk7XHJcbiAgICAgIH0gZWxzZSBpZiAoaWQgPT09ICczJykge1xyXG4gICAgICAgIHRoaXMucGFnZUxldmVsQWNjZXNzID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5kYXRhTGV2ZWxBY2Nlc3MgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMubXVsdGlQYWdlQWNjZXNzID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmZpZWxkTGV2ZWxBY2Nlc3MgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnBhZ2VsZXZlbGFjY2Vzc2NvdW50ID0gcGFnZUlkcztcclxuICAgICAgICBpZiAocGFnZUlkcz8ubGVuZ3RoKSB7XHJcbiAgICAgICAgICB0aGlzLnBhZ2VsZXZlbGFjY2Vzc3NhdmVkaXNhYmxlID0gZmFsc2U7XHJcbiAgICAgICAgICBpZiAoIXRoaXMucmJhY0Zvcm0uZ2V0KCdwcGFnZXMnKS52YWx1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLnJiYWNGb3JtLmdldCgncHBhZ2VzJykucGF0Y2hWYWx1ZShwYWdlSWRzKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5nZXRTZWxlY3RlZFBhZ2VzKCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5nZXRDb25maWd1cmVkQXNzZXREYXRhKHRoaXMuc2VsZWN0ZWRBY2Nlc3MsIHRoaXMuc2VsZWN0ZWRJZCk7XHJcbiAgICAgICAgdGhpcy5wYWdlTGV2ZWxBY2Nlc3MgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLm11bHRpUGFnZUFjY2VzcyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZmllbGRMZXZlbEFjY2VzcyA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5maWVsZExldmVsQ2hlY2tDb3VudCA9IFtdO1xyXG4gICAgICAgIGNvbnN0IGZwYWdlcyA9IHRoaXMucmJhY0Zvcm0uZ2V0KCdmcGFnZXMnKS52YWx1ZTtcclxuICAgICAgICB0aGlzLmZQYWdlc0NoZWNrTGVuZ3RoKGZwYWdlcywgcGFnZUlkcyk7XHJcbiAgICAgICAgaWYgKHRoaXMuZmllbGRMZXZlbENoZWNrQ291bnQgJiYgdGhpcy5maWVsZExldmVsQ2hlY2tDb3VudD8ubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgdGhpcy5nZXRGaWVsZExldmVsTGlzdCgnY2xpY2snKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZQYWdlc0NoZWNrTGVuZ3RoKGZwYWdlcywgcGFnZUlkcykge1xyXG4gICAgaWYgKCFmcGFnZXMgfHwgIWZwYWdlcz8ubGVuZ3RoKSB7XHJcbiAgICAgIGlmIChwYWdlSWRzPy5sZW5ndGgpIHtcclxuICAgICAgICBjb25zdCBwID0gW3BhZ2VJZHNdO1xyXG4gICAgICAgIHRoaXMucmJhY0Zvcm0uZ2V0KCdmcGFnZXMnKS5zZXRWYWx1ZShwKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuICBhc3luYyBnZXRQYWdlTGV2ZWxMaXN0KGFjdGlvbiA9IG51bGwsIHBhZ2VDb25maWcgPSBudWxsKSB7XHJcbiAgICBjb25zdCBhY2Nlc3NBcnJheSA9IHRoaXMucmJhY0Zvcm0uZ2V0KCdwYWdlTGV2ZWxEYXRhJykgYXMgRm9ybUFycmF5O1xyXG4gICAgY29uc3QgZm9ybVZhbHVlID0gdGhpcy5yYmFjRm9ybS5nZXRSYXdWYWx1ZSgpO1xyXG4gICAgY29uc3QgcEFjY2Vzc0lkID0gdGhpcy5yYmFjRm9ybS5nZXQoJ3BhZ2VMaXN0JykudmFsdWUuZmlsdGVyKHBhZ2UgPT4gIXBhZ2UuZGlzYWJsZWQpO1xyXG4gICAgY29uc3QgcElkID0gcEFjY2Vzc0lkPy5tYXAoa2V5ID0+IGtleT8ucGFnZWlkIHx8IGtleT8uaWQpO1xyXG4gICAgLy8gZmlyc3QgY2hlY2sgZXhpc3QgcGFnZSBjb25maWdcclxuICAgIGlmIChwYWdlQ29uZmlnICE9PSBudWxsKSB7XHJcbiAgICAgIC8vIGNoZWNrIHNlbGVjdGVkIHZhbHVlIGxlbmd0aFxyXG4gICAgICBpZiAoZm9ybVZhbHVlLnBhZ2VMZXZlbERhdGEubGVuZ3RoKSB7XHJcbiAgICAgICAgYWNjZXNzQXJyYXkuY2xlYXIoKVxyXG4gICAgICB9XHJcbiAgICAgIGZvciAoY29uc3QgcEFjY2Vzc0VsZW1lbnQgb2YgcEFjY2Vzc0lkKSB7XHJcbiAgICAgICAgY29uc3QgaWQgPSBwQWNjZXNzRWxlbWVudC5pZDtcclxuICAgICAgICBjb25zdCBhY3RpdmVWZXJzaW9uID0gcEFjY2Vzc0VsZW1lbnQuYWN0aXZlVmVyc2lvbjtcclxuICAgICAgICBsZXQgdGFibGVTY2hlbWFDb25maWcgPSBhY3RpdmVWZXJzaW9uLnRhYmxlc2NoZW1hY29uZmlnO1xyXG4gICAgICAgIHRhYmxlU2NoZW1hQ29uZmlnID0gdHlwZW9mIHRhYmxlU2NoZW1hQ29uZmlnID09PSAnc3RyaW5nJyA/IEpTT04ucGFyc2UodGFibGVTY2hlbWFDb25maWcpIDogdGFibGVTY2hlbWFDb25maWc7XHJcbiAgICAgICAgY29uc3Qgb2JqZWN0VHlwZSA9IHRhYmxlU2NoZW1hQ29uZmlnPy5vYmplY3RUeXBlID8gdGFibGVTY2hlbWFDb25maWcub2JqZWN0VHlwZSA6ICd0YWJsZSc7XHJcbiAgICAgIH1cclxuICAgICAgY29uc3QgZmlsdGVyZFBhZ2VDb25maWdBcnJheSA9IHBJZFxyXG4gICAgICAgIC5tYXAoaWQgPT4gcGFnZUNvbmZpZy5maW5kKGtleSA9PiBrZXk/LnBhZ2U/LmlkID09PSBpZCkpXHJcbiAgICAgICAgLmZpbHRlcihjb25maWcgPT4gY29uZmlnICE9PSB1bmRlZmluZWQpO1xyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBJZC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGxldCBzZXRBY2Nlc3MgPSAnJztcclxuICAgICAgICBzZXRBY2Nlc3MgPSBmaWx0ZXJkUGFnZUNvbmZpZ0FycmF5W2ldXHJcbiAgICAgICAgY29uc3QgcGFnZU5hbWUgPSB0aGlzLmxvYWRlZFBhZ2VzTGlzdC5maWx0ZXIoa2V5ID0+IGtleS5pZCA9PT0gcElkW2ldKTtcclxuICAgICAgICB0aGlzLmdldFBhZ2VBY2Nlc3NBcnJheShwSWQsIGksIGFjY2Vzc0FycmF5LCBwYWdlTmFtZSwgc2V0QWNjZXNzLCBwYWdlQ29uZmlnKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgdGhpcy5mb3JBY3Rpb25DbGljayhhY3Rpb24sIHBJZCwgYWNjZXNzQXJyYXkpO1xyXG4gIH1cclxuICBnZXRWZXJzaW9uQWNjZXNzQXJyYXkoZXhpc3RTZWxlY3RlZFBhZ2VJZCwgcElkLCBpLCBhY2Nlc3NBcnJheSwgcGFnZU5hbWUsIHNldEFjY2VzcywgcGFnZUNvbmZpZykge1xyXG4gICAgY29uc3QgY2hlY2tQaWQgPSBleGlzdFNlbGVjdGVkUGFnZUlkLmluY2x1ZGVzKHBJZFtpXSk7XHJcbiAgICBpZiAoIWNoZWNrUGlkKSB7XHJcbiAgICAgIGFjY2Vzc0FycmF5LnB1c2goXHJcbiAgICAgICAgbmV3IEZvcm1Hcm91cCh7XHJcbiAgICAgICAgICBwYWdlTmFtZTogbmV3IEZvcm1Db250cm9sKHBhZ2VOYW1lWzBdWydhY3RpdmVWZXJzaW9uJ11bJ3BhZ2VuYW1lJ10pLFxyXG4gICAgICAgICAgcGFnZWlkOiBuZXcgRm9ybUNvbnRyb2wocElkW2ldKSxcclxuICAgICAgICAgIHBhZ2VBY2Nlc3M6IG5ldyBGb3JtQ29udHJvbChzZXRBY2Nlc3MpLFxyXG4gICAgICAgICAgdmFsaWRpdHk6IG5ldyBGb3JtQ29udHJvbCgocGFnZUNvbmZpZ1tpXT8uY29uZGl0aW9ucyAmJiBwYWdlQ29uZmlnW2ldLmNvbmRpdGlvbnMudmFsdWUpIHx8ICcxJyksXHJcbiAgICAgICAgICBhY2Nlc3NkYXRhOiBuZXcgRm9ybUNvbnRyb2woKHBhZ2VDb25maWdbaV0/LmFjY2Vzc2RhdGEgJiYgcGFnZUNvbmZpZ1tpXS5hY2Nlc3NkYXRhLnZhbHVlKSB8fCAnYWxsJyksXHJcbiAgICAgICAgICBjb25kaXRpb246IG5ldyBGb3JtQ29udHJvbChwYWdlQ29uZmlnW2ldPy5jb25kaXRpb25zID8gJ2RheXMnIDogJ2Fsd2F5cycpLFxyXG4gICAgICAgICAgZmFsbGJhY2tUbzogbmV3IEZvcm1Db250cm9sKChwYWdlQ29uZmlnW2ldPy5jb25kaXRpb25zICYmIHBhZ2VDb25maWdbaV0uY29uZGl0aW9ucy5mYWxsYmFja1RvKSB8fCAnbicpXHJcbiAgICAgICAgfSlcclxuICAgICAgKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldFBhZ2VBY2Nlc3NBcnJheShwSWQsIGksIGFjY2Vzc0FycmF5LCBwYWdlTmFtZSwgc2V0QWNjZXNzLCBwYWdlQ29uZmlnKSB7XHJcbiAgICBhY2Nlc3NBcnJheS5wdXNoKFxyXG4gICAgICBuZXcgRm9ybUdyb3VwKHtcclxuICAgICAgICBwYWdlTmFtZTogbmV3IEZvcm1Db250cm9sKHBhZ2VOYW1lWzBdWydwYWdlbmFtZSddKSxcclxuICAgICAgICBwYWdlaWQ6IG5ldyBGb3JtQ29udHJvbChwSWRbaV0pLFxyXG4gICAgICAgIC8vIHBhZ2VBY2Nlc3M6IG5ldyBGb3JtQ29udHJvbChzZXRBY2Nlc3MpLFxyXG4gICAgICAgIHBhZ2VBY2Nlc3NDcmVhdGU6IG5ldyBGb3JtQ29udHJvbChzZXRBY2Nlc3MuYyB8fCBmYWxzZSksXHJcbiAgICAgICAgcGFnZUFjY2Vzc1JlYWQ6IG5ldyBGb3JtQ29udHJvbCh0aGlzLnBhZ2VBY2Nlc3NTZXJ2aWNlLmdldFJlYWRGb3JtQWNjZXNzKHNldEFjY2VzcykpLFxyXG4gICAgICAgIHBhZ2VBY2Nlc3NVcGRhdGU6IG5ldyBGb3JtQ29udHJvbChzZXRBY2Nlc3MudSB8fCBmYWxzZSksXHJcbiAgICAgICAgcGFnZUFjY2Vzc0RlbGV0ZTogbmV3IEZvcm1Db250cm9sKHsgdmFsdWU6IHNldEFjY2Vzcy5kIHx8IGZhbHNlLCBkaXNhYmxlZDogcGFnZU5hbWVbMF0/LmFjdGl2ZVZlcnNpb24/LnRlbXBsYXRlanNvbiB9KSxcclxuICAgICAgICBwYWdlQWNjZXNzTm9uZTogbmV3IEZvcm1Db250cm9sKHNldEFjY2Vzcy5oaWRlIHx8IGZhbHNlKSxcclxuICAgICAgICB2YWxpZGl0eTogbmV3IEZvcm1Db250cm9sKChzZXRBY2Nlc3MuY29uZGl0aW9ucyAmJiBzZXRBY2Nlc3MuY29uZGl0aW9ucyAhPT0gJ2Fsd2F5cycgJiYgc2V0QWNjZXNzLmNvbmRpdGlvbnMudmFsdWUpID8gc2V0QWNjZXNzLmNvbmRpdGlvbnMudmFsdWUgOiAnMScpLFxyXG4gICAgICAgIGNvbmRpdGlvbjogbmV3IEZvcm1Db250cm9sKHNldEFjY2Vzcy5jb25kaXRpb25zICYmIHNldEFjY2Vzcy5jb25kaXRpb25zICE9PSAnYWx3YXlzJyA/ICdkYXlzJyA6ICdhbHdheXMnKSxcclxuICAgICAgICBmYWxsYmFja1RvOiBuZXcgRm9ybUNvbnRyb2woKHNldEFjY2Vzcy5jb25kaXRpb25zICYmIHNldEFjY2Vzcy5jb25kaXRpb25zICE9PSAnYWx3YXlzJyAmJiBzZXRBY2Nlc3MuY29uZGl0aW9ucy5mYWxsYmFja1RvKSA/IHNldEFjY2Vzcy5jb25kaXRpb25zLmZhbGxiYWNrVG8gOiAnbicpLFxyXG4gICAgICAgIGFjY2Vzc2RhdGE6IG5ldyBGb3JtQ29udHJvbCgoc2V0QWNjZXNzLmFjY2Vzc2RhdGEgJiYgc2V0QWNjZXNzLmFjY2Vzc2RhdGEpIHx8ICdhbGwnKSxcclxuICAgICAgfSlcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBmb3JBY3Rpb25DbGljayhhY3Rpb24sIHBJZCwgYWNjZXNzQXJyYXkpIHtcclxuICAgIGlmIChhY3Rpb24gPT09ICdjbGljaycpIHtcclxuICAgICAgY29uc3QgZXhpc3RpbmdWYWx1ZSA9IHRoaXMuc2VsZWN0ZWRQYWdlTGV2ZWxEYXRhPy5sZW5ndGggPyB0aGlzLnNlbGVjdGVkUGFnZUxldmVsRGF0YSA6IGFjY2Vzc0FycmF5LmdldFJhd1ZhbHVlKCk7XHJcbiAgICAgIGxldCBwYWdlc0Zyb21GaWVsZCA9IEFycmF5LmZyb20obmV3IFNldChbLi4udGhpcy5zZWxlY3RlZEZpZWxkRGF0YV0ubWFwKGVsZSA9PiBlbGUucGFnZUlkKSkpLmZpbHRlcihlbGUgPT4gZWxlKTtcclxuICAgICAgaWYgKHBJZD8ubGVuZ3RoKSB7XHJcbiAgICAgICAgcGFnZXNGcm9tRmllbGQgPSBwSWQ7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHBhZ2VzRnJvbUZpZWxkPy5sZW5ndGgpIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhZ2VzRnJvbUZpZWxkPy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgY29uc3QgcGFnZU5hbWUgPSB0aGlzLnBhZ2VzTGlzdC5maWx0ZXIoa2V5ID0+IGtleS5pZCA9PT0gcGFnZXNGcm9tRmllbGRbaV0pO1xyXG4gICAgICAgICAgaWYgKCFleGlzdGluZ1ZhbHVlW2ldKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGlkID0gcGFnZU5hbWVbMF0/LmlkO1xyXG4gICAgICAgICAgICBjb25zdCBhY3RpdmVWZXJzaW9uID0gcGFnZU5hbWVbMF0/LmFjdGl2ZVZlcnNpb247XHJcbiAgICAgICAgICAgIGxldCB0YWJsZVNjaGVtYUNvbmZpZyA9IGFjdGl2ZVZlcnNpb24/LnRhYmxlc2NoZW1hY29uZmlnO1xyXG4gICAgICAgICAgICB0YWJsZVNjaGVtYUNvbmZpZyA9IHR5cGVvZiB0YWJsZVNjaGVtYUNvbmZpZyA9PT0gJ3N0cmluZycgPyBKU09OLnBhcnNlKHRhYmxlU2NoZW1hQ29uZmlnKSA6IHRhYmxlU2NoZW1hQ29uZmlnO1xyXG4gICAgICAgICAgICBjb25zdCBvYmplY3RUeXBlID0gdGFibGVTY2hlbWFDb25maWc/Lm9iamVjdFR5cGUgPyB0YWJsZVNjaGVtYUNvbmZpZy5vYmplY3RUeXBlIDogJ3RhYmxlJztcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgYWNjZXNzQXJyYXkuY29udHJvbHMgPSBbXTtcclxuICAgICAgICBhY2Nlc3NBcnJheS5jb250cm9scyA9IHRoaXMucGFnZUFjY2Vzc1NlcnZpY2UuZ2V0QWNjZXNzQXJyYXlPbkNsaWNrKFxyXG4gICAgICAgICAgcGFnZXNGcm9tRmllbGQsXHJcbiAgICAgICAgICB0aGlzLnBhZ2VzTGlzdCxcclxuICAgICAgICAgIHRoaXMuc2VsZWN0ZWRGaWVsZERhdGEsXHJcbiAgICAgICAgICB0aGlzLnNhdmVkUGFnZUFjY2Vzc1BhdGNoaW5nLFxyXG4gICAgICAgICAgZXhpc3RpbmdWYWx1ZVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdGhpcy5zYXZlZFBhZ2VBY2Nlc3NQYXRjaGluZyA9IGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIHRoaXMuc2F2ZWRQYWdlQWNjZXNzUGF0Y2hpbmcgPSBmYWxzZTtcclxuICAgICAgICBhY2Nlc3NBcnJheS5jb250cm9scyA9IFtdO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjaGVja0FjY2Vzc1R5cGUoZGF0YTogYW55KTogYW55IHtcclxuICAgIGlmIChkYXRhPy5pc2Z1bGwpIHtcclxuICAgICAgcmV0dXJuICcyJztcclxuICAgIH0gZWxzZSBpZiAoZGF0YT8uaXNoaWRlKSB7XHJcbiAgICAgIHJldHVybiAnNCc7XHJcbiAgICB9IGVsc2UgaWYgKGRhdGE/LmlzcmVhZCkge1xyXG4gICAgICByZXR1cm4gJzMnO1xyXG4gICAgfSBlbHNlIGlmIChkYXRhPy5pc3JlYWR3cml0ZSkge1xyXG4gICAgICByZXR1cm4gJzInO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0RmllbGRMZXZlbExpc3QoYWN0aW9uID0gbnVsbCwgZmllbGRDb25maWcgPSBudWxsKSB7XHJcbiAgICBjb25zdCBhY2Nlc3NBcnJheSA9IHRoaXMucmJhY0Zvcm0uZ2V0KCdmaWVsZExldmVsRGF0YScpIGFzIEZvcm1BcnJheTtcclxuICAgIGNvbnN0IGZvcm1WYWx1ZSA9IHRoaXMucmJhY0Zvcm0uZ2V0UmF3VmFsdWUoKTtcclxuXHJcbiAgICBjb25zdCBwQWNjZXNzSWQgPSB0aGlzLnJiYWNGb3JtLmdldCgnZnBhZ2VzJykudmFsdWU7XHJcbiAgICBjb25zdCBwYWdlSWRzID0gdGhpcy5yYmFjRm9ybS5nZXQoJ3BhZ2VMaXN0JykudmFsdWU7XHJcbiAgICAvLyBGaWVsZHBhZ2VsZXZlbCBpcyBhIHZhcmlhYmxlIGlzIHRoZSBsZW5ndGggb2YgdGhlIGZvcm0gcGFnZSBhbmQgYWxsIHBhZ2Ugb3RoZXIgdGhhbiBncmlkIHBhZ2VcclxuICAgIHRoaXMuZmllbGRMZXZlbENoZWNrQ291bnQgPSBwYWdlSWRzLmZpbHRlcih4ID0+ICh4LmlkID09PSAocEFjY2Vzc0lkICYmIHBBY2Nlc3NJZFswXT8uaWQpKSB8fCB4LmlkID09PSBwQWNjZXNzSWQpO1xyXG4gICAgY29uc3QgZmllbGRMZXZlbCA9IHBhZ2VJZHMuZmlsdGVyKHggPT4gKHguaWQgPT09IChwQWNjZXNzSWQgJiYgcEFjY2Vzc0lkWzBdPy5pZCkpIHx8IHguaWQgPT09IHBBY2Nlc3NJZCk7XHJcbiAgICB0aGlzLmZpZWxkUGFnZUxldmVsID0gZmllbGRMZXZlbC5maWx0ZXIoYSA9PiBhLmFjdGl2ZVZlcnNpb24gIT09IG51bGwgJiYgYS5hY3RpdmVWZXJzaW9uLmdyaWRjb25maWcgPT0gbnVsbClcclxuICAgICAgLm1hcChhID0+IHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgaWQ6IGEuYWN0aXZlVmVyc2lvbi5wYWdlaWQsXHJcbiAgICAgICAgICBwYWdlbmFtZTogYS5hY3RpdmVWZXJzaW9uLnBhZ2VuYW1lLFxyXG4gICAgICAgICAgYWN0aXZlVmVyc2lvbjogYS5hY3RpdmVWZXJzaW9uXHJcbiAgICAgICAgfTtcclxuICAgICAgfSk7XHJcbiAgICAvL2NvbnNvbGUubG9nKHRoaXMuZmllbGRQYWdlTGV2ZWwpO1xyXG4gICAgdGhpcy5jaGVja0ZpZWxkTGV2ZWxDb25kaXRpb24oZmllbGRMZXZlbCwgcEFjY2Vzc0lkKTtcclxuICAgIHRoaXMuZmllbGRDb25maWdDaGVjayhmaWVsZENvbmZpZywgYWNjZXNzQXJyYXkpO1xyXG4gICAgaWYgKGFjdGlvbiA9PT0gJ2NsaWNrJykge1xyXG4gICAgICBhY2Nlc3NBcnJheS5jb250cm9scyA9IFtdO1xyXG4gICAgICB0aGlzLnBhZ2VBY2Nlc3NTZXJ2aWNlLmdldEFzc2V0QnlQYWdlSWQodGhpcy5wSWQpLnN1YnNjcmliZShyZXMgPT4ge1xyXG4gICAgICAgIGNvbnN0IGRhdGEgPSByZXNbJ2RhdGEnXTtcclxuICAgICAgICB0aGlzLmdldEFjY2Vzc0FycmF5Q2hlY2soZGF0YSwgZm9ybVZhbHVlLCBhY2Nlc3NBcnJheSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgdGhpcy5zaG93RmllbGRHcmlkID0gdHJ1ZTtcclxuICB9XHJcblxyXG4gIGNoZWNrRmllbGRMZXZlbENvbmRpdGlvbihmaWVsZExldmVsLCBwQWNjZXNzSWQpIHtcclxuICAgIGlmIChmaWVsZExldmVsLmxlbmd0aCA+IDApIHtcclxuICAgICAgdGhpcy5zaG93RmllbGRWYWxpZGl0eSA9IGZpZWxkTGV2ZWxbMF0udGVtcGxhdGVqc29uID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgICB0aGlzLmZpZWxkVmVyc2lvbkNoZWNrKGZpZWxkTGV2ZWwsIHBBY2Nlc3NJZCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnNob3dGaWVsZFZhbGlkaXR5ID0gcEFjY2Vzc0lkWzBdLnRlbXBsYXRlanNvbiA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgaWYgKHBBY2Nlc3NJZFswXVsndmVyc2lvbiddKSB7XHJcbiAgICAgICAgdGhpcy5wSWQgPSBwQWNjZXNzSWRbMF0ucGFnZWlkO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMucElkID0gcEFjY2Vzc0lkICYmIHBBY2Nlc3NJZD8ubGVuZ3RoID8gcEFjY2Vzc0lkWzBdWydpZCddIDogbnVsbDtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZmllbGRWZXJzaW9uQ2hlY2soZmllbGRMZXZlbCwgcEFjY2Vzc0lkKSB7XHJcbiAgICBpZiAoZmllbGRMZXZlbFswXVsndmVyc2lvbiddKSB7XHJcbiAgICAgIHRoaXMucElkID0gZmllbGRMZXZlbFswXS5wYWdlaWQ7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShwQWNjZXNzSWQpKSB7XHJcbiAgICAgICAgdGhpcy5wSWQgPSBwQWNjZXNzSWQgJiYgcEFjY2Vzc0lkPy5sZW5ndGggPyBwQWNjZXNzSWRbMF1bJ2lkJ10gOiBudWxsO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMucElkID0gcEFjY2Vzc0lkO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmaWVsZENvbmZpZ0NoZWNrKGZpZWxkQ29uZmlnLCBhY2Nlc3NBcnJheSkge1xyXG4gICAgaWYgKGZpZWxkQ29uZmlnICE9PSBudWxsKSB7XHJcbiAgICAgIGFjY2Vzc0FycmF5LmNvbnRyb2xzID0gW107XHJcbiAgICAgIHRoaXMuc2VsZWN0ZWRGaWVsZERhdGEgPSB0aGlzLnBhZ2VBY2Nlc3NTZXJ2aWNlLnNldFNlbGVjdGVkRmllbGRQYWdlKFxyXG4gICAgICAgIGZpZWxkQ29uZmlnPy5tYXAoZWxlID0+IHtcclxuICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGZpZWxkTmFtZTogZWxlPy5kZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgYWNjZXNzOiB0aGlzLmNoZWNrQWNjZXNzVHlwZShlbGUpLFxyXG4gICAgICAgICAgICBhc3NldGlkOiBlbGUuYXNzZXRpZCxcclxuICAgICAgICAgICAgcGFnZUlkOiBlbGUuaWRcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgfSksXHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZEZpZWxkRGF0YVxyXG4gICAgICApO1xyXG4gICAgICB0aGlzLmV4aXN0aW5nU2VsZWN0ZWRGaWVsZERhdGEgPSBbLi4udGhpcy5zZWxlY3RlZEZpZWxkRGF0YV07XHJcbiAgICAgIHRoaXMucGFnZUFjY2Vzc1NlcnZpY2UuZ2V0QXNzZXRCeVBhZ2VJZCh0aGlzLnBJZCkuc3Vic2NyaWJlKHJlcyA9PiB7XHJcbiAgICAgICAgY29uc3QgZGF0YSA9IHJlc1snZGF0YSddO1xyXG5cclxuICAgICAgICB0aGlzLm1lcmdlZEFzc2V0ID0gdGhpcy5tZXJnZUFzc2V0KGRhdGEsIHRoaXMuYXNzZXRMaXN0KTtcclxuICAgICAgICBpZiAodGhpcy5tZXJnZWRBc3NldC5pbmNsdWRlcyh1bmRlZmluZWQpKSB7XHJcbiAgICAgICAgICB0aGlzLm1lcmdlZEFzc2V0ID0gZGF0YTtcclxuICAgICAgICAgIGlmICh0aGlzLm1lcmdlZEFzc2V0Lmxlbmd0aCAhPT0gZGF0YT8ubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRoaXMubWVyZ2VkQXNzZXQgPSBkYXRhO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmZEYXRhID0gZGF0YTtcclxuICAgICAgICB0aGlzLmdldE1lcmdlZEFzc2V0KGFjY2Vzc0FycmF5KTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRNZXJnZWRBc3NldChhY2Nlc3NBcnJheSkge1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm1lcmdlZEFzc2V0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGNvbnN0IGFjY2VzcyA9IHRoaXMucGFnZUFjY2Vzc1NlcnZpY2UuZ2V0QWNjZXNzKHRoaXMubWVyZ2VkQXNzZXRbaV0sIHRoaXMuZmllbGRQYWdlTGV2ZWwpO1xyXG4gICAgICBhY2Nlc3NBcnJheS5wdXNoKFxyXG4gICAgICAgIG5ldyBGb3JtR3JvdXAoe1xyXG4gICAgICAgICAgZmllbGROYW1lOiBuZXcgRm9ybUNvbnRyb2woYWNjZXNzW2ldWydkaXNwbGF5bmFtZSddKSxcclxuICAgICAgICAgIC8vYWNjZXNzOiBuZXcgRm9ybUNvbnRyb2woJzInKSxcclxuICAgICAgICAgIGFzc2V0aWQ6IG5ldyBGb3JtQ29udHJvbChhY2Nlc3NbaV1bJ2lkJ10pLFxyXG4gICAgICAgICAgcGFnZUlkOiBuZXcgRm9ybUNvbnRyb2wodGhpcy5wSWQpLFxyXG4gICAgICAgICAgdmFsaWRpdHk6IG5ldyBGb3JtQ29udHJvbCh0aGlzLm1lcmdlZEFzc2V0W2ldLmNvbmRpdGlvbnMgPyB0aGlzLm1lcmdlZEFzc2V0W2ldLmNvbmRpdGlvbnMudmFsdWUgOiAnMScpLFxyXG4gICAgICAgICAgYWNjZXNzZGF0YTogbmV3IEZvcm1Db250cm9sKCh0aGlzLm1lcmdlZEFzc2V0W2ldPy5hY2Nlc3NkYXRhICYmIHRoaXMubWVyZ2VkQXNzZXRbaV0uYWNjZXNzZGF0YS52YWx1ZSkgfHwgJ2FsbCcpLFxyXG4gICAgICAgICAgY29uZGl0aW9uOiBuZXcgRm9ybUNvbnRyb2wodGhpcy5tZXJnZWRBc3NldFtpXS5jb25kaXRpb25zID8gJ2RheXMnIDogJ2Fsd2F5cycpLFxyXG4gICAgICAgICAgZmFsbGJhY2tUbzogbmV3IEZvcm1Db250cm9sKHRoaXMubWVyZ2VkQXNzZXRbaV0uY29uZGl0aW9ucyA/IHRoaXMubWVyZ2VkQXNzZXRbaV0uY29uZGl0aW9ucy5mYWxsYmFja1RvIDogJycpLFxyXG4gICAgICAgICAgZmllbGRBY2Nlc3NDcmVhdGU6IG5ldyBGb3JtQ29udHJvbChhY2Nlc3NbaV0uYyksXHJcbiAgICAgICAgICBmaWVsZEFjY2Vzc1JlYWQ6IG5ldyBGb3JtQ29udHJvbChhY2Nlc3NbaV0uciksXHJcbiAgICAgICAgICBmaWVsZEFjY2Vzc1VwZGF0ZTogbmV3IEZvcm1Db250cm9sKGFjY2Vzc1tpXS51KSxcclxuICAgICAgICAgIGZpZWxkQWNjZXNzSGlkZTogbmV3IEZvcm1Db250cm9sKGFjY2Vzc1tpXS5oaWRlKSxcclxuICAgICAgICB9KVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0QWNjZXNzQXJyYXlDaGVjayhkYXRhLCBmb3JtVmFsdWUsIGFjY2Vzc0FycmF5KSB7XHJcbiAgICBpZiAoZGF0YT8ubGVuZ3RoKSB7XHJcbiAgICAgIHRoaXMubWVyZ2VkQXNzZXQgPSB0aGlzLmFzc2V0TGlzdCA/IHRoaXMubWVyZ2VBc3NldChkYXRhLCB0aGlzLmFzc2V0TGlzdCkgOiBkYXRhO1xyXG4gICAgICB0aGlzLmNoZWNrTWVyZ2VkQXNzZXQoZGF0YSk7XHJcbiAgICAgIGlmIChmb3JtVmFsdWUuZmllbGRMZXZlbERhdGEubGVuZ3RoKSB7XHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZEZpZWxkRGF0YSA9IHRoaXMucGFnZUFjY2Vzc1NlcnZpY2Uuc2V0U2VsZWN0ZWRGaWVsZFBhZ2UoXHJcbiAgICAgICAgICBmb3JtVmFsdWUuZmllbGRMZXZlbERhdGEsXHJcbiAgICAgICAgICB0aGlzLnNlbGVjdGVkRmllbGREYXRhXHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG4gICAgICBsZXQgYWNjZXNzID0gbnVsbDtcclxuICAgICAgaWYgKHRoaXMuc2F2ZWRGaWVsZFBhZ2VzUGF0Y2hpbmc/Lmxlbmd0aCkge1xyXG4gICAgICAgIGFjY2VzcyA9IHRoaXMuc2F2ZWRGaWVsZFBhZ2VzUGF0Y2hpbmcuZmluZChlbGUgPT4gZWxlLnBhZ2VpZCA9PT0gdGhpcy5wSWQpPy5hY2Nlc3M7XHJcbiAgICAgICAgdGhpcy5zYXZlZEZpZWxkUGFnZXNQYXRjaGluZyA9IHRoaXMuc2F2ZWRGaWVsZFBhZ2VzUGF0Y2hpbmcuZmlsdGVyKGVsZSA9PiBlbGUucGFnZWlkICE9PSB0aGlzLnBJZCk7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5mRGF0YSA9IGRhdGE7XHJcbiAgICAgIGNvbnN0IGV4aXN0aW5nRmllbGREYXRhTWFwID0ge307XHJcbiAgICAgIGlmICghYWNjZXNzICYmIHRoaXMuc2VsZWN0ZWRGaWVsZERhdGE/Lmxlbmd0aCkge1xyXG4gICAgICAgIHRoaXMuYXNzZXRMaXN0XHJcbiAgICAgICAgICA/LmZpbHRlcihlbGUgPT4gZWxlLnBhZ2VJZCA9PT0gdGhpcy5wSWQpXHJcbiAgICAgICAgICA/LmZvckVhY2goZWxlID0+IHtcclxuICAgICAgICAgICAgZXhpc3RpbmdGaWVsZERhdGFNYXBbZWxlLmFzc2V0aWRdID0gZWxlLmFjY2VzcztcclxuICAgICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMuZ2V0QWNjZXNzQnlBc3NldChhY2Nlc3NBcnJheSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBhY2Nlc3NBcnJheS5jb250cm9scyA9IFtdO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY2hlY2tNZXJnZWRBc3NldChkYXRhKSB7XHJcbiAgICBpZiAodGhpcy5tZXJnZWRBc3NldC5pbmNsdWRlcyh1bmRlZmluZWQpKSB7XHJcbiAgICAgIHRoaXMubWVyZ2VkQXNzZXQgPSBkYXRhO1xyXG4gICAgICBpZiAodGhpcy5tZXJnZWRBc3NldC5sZW5ndGggIT09IGRhdGEubGVuZ3RoKSB7XHJcbiAgICAgICAgdGhpcy5tZXJnZWRBc3NldCA9IGRhdGE7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldEFjY2Vzc0J5QXNzZXQoYWNjZXNzQXJyYXkpIHtcclxuICAgIGZvciAoY29uc3QgYXNzZXQgb2YgdGhpcy5tZXJnZWRBc3NldCkge1xyXG4gICAgICBjb25zdCBhc3NldEFjY2VzcyA9IHRoaXMucGFnZUFjY2Vzc1NlcnZpY2UuZ2V0QWNjZXNzKGFzc2V0LCB0aGlzLmZpZWxkUGFnZUxldmVsKTtcclxuICAgICAgYWNjZXNzQXJyYXkucHVzaChcclxuICAgICAgICBuZXcgRm9ybUdyb3VwKHtcclxuICAgICAgICAgIGZpZWxkTmFtZTogbmV3IEZvcm1Db250cm9sKGFzc2V0WydkaXNwbGF5bmFtZSddKSxcclxuICAgICAgICAgIC8vYWNjZXNzOiBuZXcgRm9ybUNvbnRyb2woYXNzZXRBY2Nlc3MgPyBhc3NldEFjY2VzcyA6ICcyJyksXHJcbiAgICAgICAgICBhc3NldGlkOiBuZXcgRm9ybUNvbnRyb2woYXNzZXRbJ2lkJ10pLFxyXG4gICAgICAgICAgcGFnZUlkOiBuZXcgRm9ybUNvbnRyb2wodGhpcy5wSWQpLFxyXG4gICAgICAgICAgZmllbGRBY2Nlc3NDcmVhdGU6IG5ldyBGb3JtQ29udHJvbChhc3NldEFjY2Vzcz8uYyB8fCBmYWxzZSksXHJcbiAgICAgICAgICBmaWVsZEFjY2Vzc1JlYWQ6IG5ldyBGb3JtQ29udHJvbCh0aGlzLnBhZ2VBY2Nlc3NTZXJ2aWNlLmdldFJlYWRGb3JtQWNjZXNzKGFzc2V0QWNjZXNzKSksXHJcbiAgICAgICAgICBmaWVsZEFjY2Vzc1VwZGF0ZTogbmV3IEZvcm1Db250cm9sKGFzc2V0QWNjZXNzPy51IHx8IGZhbHNlKSxcclxuICAgICAgICAgIGZpZWxkQWNjZXNzSGlkZTogbmV3IEZvcm1Db250cm9sKGFzc2V0QWNjZXNzPy5oaWRlIHx8IGZhbHNlKSxcclxuICAgICAgICAgIHZhbGlkaXR5OiBuZXcgRm9ybUNvbnRyb2woYXNzZXQuY29uZGl0aW9ucyA/IGFzc2V0LmNvbmRpdGlvbnMudmFsdWUgOiAnMScpLFxyXG4gICAgICAgICAgLy9hY2Nlc3NkYXRhOiBuZXcgRm9ybUNvbnRyb2woKGFzc2V0Py5hY2Nlc3NkYXRhICYmIGFzc2V0LmFjY2Vzc2RhdGEpIHx8ICdhbGwnKSxcclxuICAgICAgICAgIGNvbmRpdGlvbjogbmV3IEZvcm1Db250cm9sKGFzc2V0LmNvbmRpdGlvbnMgPyAnZGF5cycgOiAnYWx3YXlzJyksXHJcbiAgICAgICAgICBmYWxsYmFja1RvOiBuZXcgRm9ybUNvbnRyb2woYXNzZXQuY29uZGl0aW9ucyA/IGFzc2V0LmNvbmRpdGlvbnMuZmFsbGJhY2tUbyA6ICcnKVxyXG4gICAgICAgIH0pXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIG1lcmdlQXNzZXQoYXJyMTogYW55LCBhcnIyOiBhbnkpIHtcclxuICAgIHJldHVybiBhcnIxLm1hcCgoaXRlbSwgX2kpID0+IHtcclxuICAgICAgZm9yIChjb25zdCB2YWx1ZSBvZiBhcnIyKSB7XHJcbiAgICAgICAgaWYgKGl0ZW0uaWQgPT09IHZhbHVlLmlkKSB7XHJcbiAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgaXRlbSwgdmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBzdWJtaXRBbGVydCgpIHtcclxuICAgIGlmICghdGhpcy5maWVsZExldmVsQWNjZXNzICYmIHRoaXMucGVybWlzc2lvblVwZGF0ZWRQYWdlcy5sZW5ndGgpIHtcclxuICAgICAgJCgnI3N1Ym1pdEFsZXJ0JykubW9kYWwoJ3Nob3cnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuc2F2ZVJiYWMoKTtcclxuICAgICAgLy90aGlzLnBhZ2VsZXZlbGFjY2Vzc3NhdmVkaXNhYmxlID0gdHJ1ZTtcclxuICAgICAgLy90aGlzLnBhZ2VsZXZlbGFjY2Vzc2NvdW50ZGlzYWJsZSA9IHRydWU7XHJcblxyXG4gICAgfVxyXG5cclxuXHJcbiAgfVxyXG5cclxuICBzYXZlUmJhYygpIHtcclxuICAgIHRoaXMuZ2V0UGFnZUxpc3QgPSB0cnVlO1xyXG4gICAgY29uc3QgYWNjZXNzID0gdGhpcy5yYmFjRm9ybS5nZXRSYXdWYWx1ZSgpO1xyXG4gICAgY29uc3QgdXNlcmlkID0gdGhpcy5yYmFjRm9ybS5nZXQoJ3VzZXJpZCcpLnZhbHVlO1xyXG4gICAgY29uc3Qgcm9sZUlkID0gdGhpcy5yYmFjRm9ybS5nZXQoJ3JvbGVpZCcpLnZhbHVlO1xyXG4gICAgY29uc3QgcG9saWN5SWQgPSB0aGlzLnJiYWNGb3JtLmdldCgncG9saWN5aWQnKS52YWx1ZTtcclxuXHJcbiAgICBpZiAoKHRoaXMuaXNQYWdlRGVzZWxlY3RTYXZlICYmIHRoaXMuZGVzZWxlY3RlZEl0ZW1JZHMubGVuZ3RoID4gMCkgfHwgdGhpcy5pc1JlbW92ZUFsbEZpZWxkcykge1xyXG4gICAgICBsZXQgc2VsZWN0ZWRJZDogYW55O1xyXG4gICAgICBpZiAodGhpcy5zZWxlY3RlZEFjY2VzcyA9PT0gJ3VzZXInKSB7XHJcbiAgICAgICAgc2VsZWN0ZWRJZCA9IHRoaXMucmJhY0Zvcm0uZ2V0UmF3VmFsdWUoKS51c2VyaWQ7XHJcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5zZWxlY3RlZEFjY2VzcyA9PT0gJ3JvbGUnKSB7XHJcbiAgICAgICAgc2VsZWN0ZWRJZCA9IHRoaXMucmJhY0Zvcm0uZ2V0UmF3VmFsdWUoKS5yb2xlaWQ7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc2VsZWN0ZWRJZCA9IHRoaXMucmJhY0Zvcm0uZ2V0UmF3VmFsdWUoKS5wb2xpY3lpZDtcclxuICAgICAgICB0aGlzLnNlbGVjdGVkQWNjZXNzID0gJ3BvbGljeWdyb3VwJztcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gQ29sbGVjdCBhc3NldCBpZCdzIGZvciBhbGwgZGVzZWxlY3RlZCBwYWdlIGlkJ3NcclxuICAgICAgY29uc3QgZGVzZWxlY3RlZEFzc2V0cyA9IGZvcmtKb2luKFxyXG4gICAgICAgIHRoaXMuZGVzZWxlY3RlZEl0ZW1JZHMubWFwKGlkID0+XHJcbiAgICAgICAgICB0aGlzLnBhZ2VBY2Nlc3NTZXJ2aWNlLmdldEFzc2V0QnlQYWdlSWQoaWQpLnBpcGUoXHJcbiAgICAgICAgICAgIG1hcChyZXMgPT4gcmVzWydkYXRhJ10ubWFwKGl0ZW0gPT4gKHsgYXNzZXRpZDogaXRlbS5pZCB9KSkpXHJcbiAgICAgICAgICApXHJcbiAgICAgICAgKVxyXG4gICAgICApO1xyXG4gICAgICAvLyBNYWtlIGEgc2luZ2xlIEFQSSBjYWxsIHdpdGggYWxsIGRlc2VsZWN0ZWQgYXNzZXQgSURzXHJcbiAgICAgIGRlc2VsZWN0ZWRBc3NldHMucGlwZShcclxuICAgICAgICBtYXAoYXNzZXRJZFJlc3BvbnNlcyA9PiBbXS5jb25jYXQoLi4uYXNzZXRJZFJlc3BvbnNlcykpXHJcbiAgICAgICkuc3Vic2NyaWJlKGFsbERlc2VsZWN0ZWRBc3NldElkcyA9PiB7XHJcbiAgICAgICAgdGhpcy5wYWdlQWNjZXNzU2VydmljZS51cGRhdGVBc3NldE9uRGVzZWxlY3QodGhpcy5zZWxlY3RlZEFjY2Vzcywgc2VsZWN0ZWRJZCwgYWxsRGVzZWxlY3RlZEFzc2V0SWRzKS5zdWJzY3JpYmUoKCkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5nZXRDb25maWd1cmVkQXNzZXREYXRhKHRoaXMuc2VsZWN0ZWRBY2Nlc3MsIHNlbGVjdGVkSWQpO1xyXG4gICAgICAgICAgdGhpcy5kZXNlbGVjdGVkSXRlbUlkcyA9IFtdO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBmaWVsZExldmVsRGF0YSA9IGFjY2Vzcy5maWVsZExldmVsRGF0YTtcclxuICAgIHRoaXMuZ2V0RmllbGRMZXZlbEJ5QXNzZXQoZmllbGRMZXZlbERhdGEpO1xyXG4gICAgbGV0IHNlbGVjdGVkSWQ6IGFueTtcclxuICAgIGlmICh0aGlzLnNlbGVjdGVkQWNjZXNzID09PSAndXNlcicpIHtcclxuICAgICAgc2VsZWN0ZWRJZCA9IHRoaXMucmJhY0Zvcm0uZ2V0UmF3VmFsdWUoKS51c2VyaWQ7XHJcbiAgICB9IGVsc2UgaWYgKHRoaXMuc2VsZWN0ZWRBY2Nlc3MgPT09ICdyb2xlJykge1xyXG4gICAgICBzZWxlY3RlZElkID0gdGhpcy5yYmFjRm9ybS5nZXRSYXdWYWx1ZSgpLnJvbGVpZDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHNlbGVjdGVkSWQgPSB0aGlzLnJiYWNGb3JtLmdldFJhd1ZhbHVlKCkucG9saWN5aWQ7XHJcbiAgICAgIHRoaXMuc2VsZWN0ZWRBY2Nlc3MgPSAncG9saWN5Z3JvdXAnO1xyXG4gICAgfVxyXG4gICAgY29uc3QgcEFjY2VzcyA9IHRoaXMucmJhY0Zvcm0uZ2V0KCdwcm92aWRlQWNjZXNzJykudmFsdWU7XHJcbiAgICBpZihwQWNjZXNzID09PSAnMicpe1xyXG4gICAgICB0aGlzLnBhZ2VBY2Nlc3NTZXJ2aWNlLmNyZWF0ZUFzc2V0KHRoaXMuc2VsZWN0ZWRBY2Nlc3MsIHNlbGVjdGVkSWQsIHRoaXMuZnVsbEFycmF5KS5zdWJzY3JpYmUoX3JlcyA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuZmllbGRMZXZlbEFjY2Vzcykge1xyXG4gICAgICAgICAgdGhpcy5nZXRDb25maWd1cmVkQXNzZXREYXRhKHRoaXMuc2VsZWN0ZWRBY2Nlc3MsIHNlbGVjdGVkSWQpO1xyXG4gICAgICAgICAgdGhpcy5hbGVydC5zdWNjZXNzKCdGaWVsZCBBY2Nlc3MgVXBkYXRlZCBTdWNjZXNzZnVsbHknKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgdGhpcy5nZXRQYWdlTGV2ZWxCeUFycmF5KGFjY2Vzcy5wYWdlTGV2ZWxEYXRhKTtcclxuXHJcbiAgICBpZiAodGhpcy5zZWxlY3RlZEFjY2VzcyA9PT0gJ3BvbGljeScpIHtcclxuICAgICAgdGhpcy5zZWxlY3RlZEFjY2VzcyA9ICdwb2xpY3lncm91cCc7XHJcbiAgICB9XHJcbiAgICBpZihwQWNjZXNzID09PSAnMScpe1xyXG4gICAgICB0aGlzLnBhZ2VBY2Nlc3NTZXJ2aWNlLnVwZGF0ZUR5bmFtaWNQYWdlKHRoaXMuc2VsZWN0ZWRBY2Nlc3MsIHRoaXMuc2VsZWN0ZWRJZCwgdGhpcy5mdWxsQXJyYXkpLnN1YnNjcmliZShcclxuICAgICAgICBfcmVzID0+IHtcclxuICAgICAgICAgIHRoaXMucGVybWlzc2lvblVwZGF0ZWRQYWdlcyA9IFtdO1xyXG4gICAgICAgICAgaWYgKCF0aGlzLmZpZWxkTGV2ZWxBY2Nlc3MpIHtcclxuICAgICAgICAgICAgdGhpcy5nZXRTZWxlY3RlZFBhZ2VzKCk7XHJcbiAgICAgICAgICAgIHRoaXMuYWxlcnQuc3VjY2VzcygnQWNjZXNzIFVwZGF0ZWQgU3VjY2Vzc2Z1bGx5Jyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBfZXJyID0+IHRoaXMuYWxlcnQuZXJyb3IoQXBwQ29uc3RhbnRzLmVycm9yTWVzc2FnZSlcclxuICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvL2lmICh0aGlzLnVwZGF0ZVBhZ2UpIHtcclxuICAgIC8vICBpZiAodGhpcy5zZWxlY3RlZEFjY2VzcyA9PT0gJ3BvbGljeScpIHtcclxuICAgIC8vICAgIHRoaXMuc2VsZWN0ZWRBY2Nlc3MgPSAncG9saWN5Z3JvdXAnO1xyXG4gICAgLy8gIH1cclxuICAgIC8vICB0aGlzLnBhZ2VBY2Nlc3NTZXJ2aWNlLnVwZGF0ZUR5bmFtaWNQYWdlKHRoaXMuc2VsZWN0ZWRBY2Nlc3MsIHRoaXMuc2VsZWN0ZWRJZCwgdGhpcy5mdWxsQXJyYXkpLnN1YnNjcmliZShcclxuICAgIC8vICAgIF9yZXMgPT4ge1xyXG4gICAgLy8gICAgICB0aGlzLnBlcm1pc3Npb25VcGRhdGVkUGFnZXMgPSBbXTtcclxuICAgIC8vICAgICAgaWYgKCF0aGlzLmZpZWxkTGV2ZWxBY2Nlc3MpIHtcclxuICAgIC8vICAgICAgICB0aGlzLmdldFNlbGVjdGVkUGFnZXMoKTtcclxuICAgIC8vICAgICAgICB0aGlzLmFsZXJ0LnN1Y2Nlc3MoJ0FjY2VzcyBVcGRhdGVkIFN1Y2Nlc3NmdWxseScpO1xyXG4gICAgLy8gICAgICB9XHJcbiAgICAvLyAgICB9LFxyXG4gICAgLy8gICAgX2VyciA9PiB0aGlzLmFsZXJ0LmVycm9yKEFwcENvbnN0YW50cy5lcnJvck1lc3NhZ2UpXHJcbiAgICAvLyAgKTtcclxuICAgIC8vfSBlbHNlIHtcclxuICAgIC8vICB0aGlzLnBhZ2VBY2Nlc3NTZXJ2aWNlXHJcbiAgICAvLyAgICAuY3JlYXRlQWNjZXNzKHRoaXMuZmllbGRMZXZlbEFjY2VzcywgYWNjZXNzLmFjY2Vzc0J5LCB0aGlzLmZ1bGxBcnJheSwgdXNlcmlkLCByb2xlSWQsIHBvbGljeUlkKVxyXG4gICAgLy8gICAgLnN1YnNjcmliZShcclxuICAgIC8vICAgICAgX3Jlc3VsdCA9PiB7XHJcbiAgICAvLyAgICAgICAgdGhpcy5wZXJtaXNzaW9uVXBkYXRlZFBhZ2VzID0gW107XHJcbiAgICAvLyAgICAgICAgdGhpcy5nZXRTZWxlY3RlZFBhZ2VzKCk7XHJcbiAgICAvLyAgICAgICAgdGhpcy5hbGVydC5zdWNjZXNzKCdBY2Nlc3MgU2F2ZWQgU3VjY2Vzc2Z1bGx5Jyk7XHJcbiAgICAvLyAgICAgIH0sXHJcbiAgICAvLyAgICAgIF9lcnJvciA9PiB0aGlzLmFsZXJ0LmVycm9yKEFwcENvbnN0YW50cy5lcnJvck1lc3NhZ2UpXHJcbiAgICAvLyAgICApO1xyXG4gICAgLy99XHJcbiAgfVxyXG5cclxuICBnZXRQYWdlTGV2ZWxCeUFycmF5KHBhZ2VMZXZlbERhdGEpIHtcclxuICAgIHRoaXMuZnVsbEFycmF5ID0gcGFnZUxldmVsRGF0YS5tYXAoeCA9PiB7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgcGFnZTogeD8ucGFnZWlkLFxyXG4gICAgICAgIG92ZXJyaWRlQXNzZXRQZXJtaXNzaW9uczogdGhpcy5wZXJtaXNzaW9uVXBkYXRlZFBhZ2VzLnNvbWUocGFnZUlkID0+IHBhZ2VJZCA9PT0geD8ucGFnZWlkKSB8fCBmYWxzZSxcclxuICAgICAgICBjOiB4Py5wYWdlQWNjZXNzQ3JlYXRlIHx8IGZhbHNlLFxyXG4gICAgICAgIHI6IHg/LnBhZ2VBY2Nlc3NSZWFkIHx8IGZhbHNlLFxyXG4gICAgICAgIHU6IHg/LnBhZ2VBY2Nlc3NVcGRhdGUgfHwgZmFsc2UsXHJcbiAgICAgICAgZDogeD8ucGFnZUFjY2Vzc0RlbGV0ZSB8fCBmYWxzZSxcclxuICAgICAgICBub25lOiB4Py5wYWdlQWNjZXNzTm9uZSB8fCBmYWxzZSxcclxuICAgICAgICBhY2Nlc3NkYXRhOiB4Py5hY2Nlc3NkYXRhLFxyXG4gICAgICAgIGNvbmRpdGlvbnM6XHJcbiAgICAgICAgICB4Py5jb25kaXRpb24gIT09ICdhbHdheXMnXHJcbiAgICAgICAgICAgID8ge1xyXG4gICAgICAgICAgICAgIGF0dHJpYnV0ZTogJ2NyZWF0ZWQnLFxyXG4gICAgICAgICAgICAgIGNvbmRpdGlvbjogJ2x0ZScsXHJcbiAgICAgICAgICAgICAgdmFsdWU6IHg/LnZhbGlkaXR5ID8geC52YWxpZGl0eSA6IG51bGwsIC8vZGF5cywgbWludXRlcywgYWx3YXlzXHJcbiAgICAgICAgICAgICAgdmFsdWVfdHlwZTogJ3ZhcmlhYmxlJywgLy9jb25zdGFudCwgcHJvcGVydHksIHZhcmlhYmxlXHJcbiAgICAgICAgICAgICAgZmFsbGJhY2tUbzogeD8uZmFsbGJhY2tUbyA/IHguZmFsbGJhY2tUbyA6IG51bGwsXHJcbiAgICAgICAgICAgICAgdHlwZTogJ3RpbWVzdGFtcCdcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICA6IHguY29uZGl0aW9uXHJcbiAgICAgIH07XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGdldEZpZWxkTGV2ZWxCeUFzc2V0KGZpZWxkTGV2ZWxEYXRhKSB7XHJcbiAgICB0aGlzLmZ1bGxBcnJheSA9IGZpZWxkTGV2ZWxEYXRhLm1hcCh4ID0+IHtcclxuICAgICAgY29uc3QgYXNzZXREYXRhID0gdGhpcy5hc3NldExpc3Q/LmZpbHRlcihhID0+IGEuaWQgPT09IHguYXNzZXRpZCAmJiBhKTtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBwYWdlaWQ6IHRoaXMucElkLFxyXG4gICAgICAgIGlkOiBhc3NldERhdGEgPyBhc3NldERhdGFbMF0/Ll9pZCA6IG51bGwsXHJcbiAgICAgICAgYXNzZXQ6IHguYXNzZXRpZCxcclxuICAgICAgICAvLyByZWFkd3JpdGU6IHg/LmFjY2VzcyA9PT0gJzInID8gdHJ1ZSA6IGZhbHNlLFxyXG4gICAgICAgIC8vIHJlYWQ6IHg/LmFjY2VzcyA9PT0gJzMnID8gdHJ1ZSA6IGZhbHNlLFxyXG4gICAgICAgIC8vIG5vbmU6IHg/LmFjY2VzcyA9PT0gJzQnID8gdHJ1ZSA6IGZhbHNlLFxyXG4gICAgICAgIC8vIGZ1bGw6IHg/LmFjY2VzcyA9PT0gJzUnID8gdHJ1ZSA6IGZhbHNlLFxyXG4gICAgICAgIGM6IHg/LmZpZWxkQWNjZXNzQ3JlYXRlLFxyXG4gICAgICAgIHI6IHg/LmZpZWxkQWNjZXNzUmVhZCxcclxuICAgICAgICB1OiB4Py5maWVsZEFjY2Vzc1VwZGF0ZSxcclxuICAgICAgICBub25lOiB4Py5maWVsZEFjY2Vzc0hpZGUsXHJcbiAgICAgICAgY29uZGl0aW9uczpcclxuICAgICAgICB4LmNvbmRpdGlvbiAhPT0gJ2Fsd2F5cydcclxuICAgICAgICAgID9cclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgYXR0cmlidXRlOiAnY3JlYXRlZCcsXHJcbiAgICAgICAgICAgIGNvbmRpdGlvbjogJ2x0ZScsXHJcbiAgICAgICAgICAgIHZhbHVlOiB4Py52YWxpZGl0eSA/IHgudmFsaWRpdHkgOiBudWxsLCAvL2RheXMsIG1pbnV0ZXMsIGFsd2F5c1xyXG4gICAgICAgICAgICB2YWx1ZV90eXBlOiAndmFyaWFibGUnLCAvL2NvbnN0YW50LCBwcm9wZXJ0eSwgdmFyaWFibGVcclxuICAgICAgICAgICAgZmFsbGJhY2tUbzogeD8uZmFsbGJhY2tUbyA/IHguZmFsbGJhY2tUbyA6IG51bGwsXHJcbiAgICAgICAgICAgIHR5cGU6ICd0aW1lc3RhbXAnXHJcbiAgICAgICAgICB9IDogeC5jb25kaXRpb24gLFxyXG4gICAgICAgIC8vYWNjZXNzZGF0YTogeD8uYWNjZXNzZGF0YSA/IHguYWNjZXNzZGF0YSA6IG51bGwsXHJcbiAgICAgIH07XHJcbiAgICB9KTtcclxuICB9XHJcbiAgLy8gZWRpdCBmdW5jdGlvbmFsaXRlcyBiYXNlZCBvbiBwb2xpY3kgZ3JvdXBcclxuICBzZXRQb2xpY3lMZXZlbFBhZ2VQYXRjaGluZyhwYWdlQ29uZmlnLCBhc3NldGNvbmZpZykge1xyXG4gICAgY29uc3QgcGFnZUlkcyA9IHBhZ2VDb25maWcubWFwKGtleSA9PiBrZXkucGFnZWlkKTtcclxuICAgIGNvbnN0IHNlbGVjdGVkTW9kdWxlcyA9IFtdO1xyXG4gICAgY29uc3QgdW5pcXVlUGFnZSA9IFsuLi5uZXcgU2V0KHBhZ2VJZHMpXTtcclxuICAgIGNvbnN0IHNlbGVjdGVkUGFnZXMgPSB1bmlxdWVQYWdlO1xyXG4gICAgdGhpcy5yYmFjRm9ybS5wYXRjaFZhbHVlKHsgcHJvdmlkZUFjY2VzczogJzEnIH0pO1xyXG4gICAgdGhpcy5wYWdlTGV2ZWxBY2Nlc3MgPSB0aGlzLm11bHRpUGFnZUFjY2VzcyA9IHRydWU7XHJcbiAgICB0aGlzLmZpZWxkTGV2ZWxBY2Nlc3MgPSBmYWxzZTtcclxuICAgIGNvbnN0IG0gPSB0aGlzLnJiYWNGb3JtLmdldCgnbW9kdWxlJykudmFsdWU7XHJcbiAgICBpZiAobSAhPT0gJycgJiYgbSAhPT0gbnVsbCkge1xyXG4gICAgICBjb25zdCBuZXdNb2R1bGUgPSBtLmNvbmNhdChzZWxlY3RlZE1vZHVsZXMpO1xyXG4gICAgICBjb25zdCB1bmlxdWVOZXdNb2R1bGUgPSBbLi4ubmV3IFNldChuZXdNb2R1bGUpXTtcclxuICAgICAgdGhpcy5yYmFjRm9ybS5nZXQoJ21vZHVsZScpLnNldFZhbHVlKHVuaXF1ZU5ld01vZHVsZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnJiYWNGb3JtLnBhdGNoVmFsdWUoeyBtb2R1bGU6IHNlbGVjdGVkTW9kdWxlcyB9KTtcclxuICAgIH1cclxuICAgIHRoaXMuZ2V0U2VsZWN0ZWRQYWdlcyhzZWxlY3RlZFBhZ2VzLCBwYWdlQ29uZmlnLCBhc3NldGNvbmZpZyk7XHJcbiAgfVxyXG5cclxuICBzZXRQb2xpY3lMZXZlbEZpZWxkUGF0Y2hpbmcocGFnZUNvbmZpZywgYXNzZXRjb25maWcsIGZyb20gPSBudWxsKSB7XHJcbiAgICBjb25zdCBtS2V5ID0gYXNzZXRjb25maWcuZmlsdGVyKFxyXG4gICAgICBrZXkgPT4ga2V5Lm1vZHVsZWtleSAhPT0gbnVsbCAmJiBrZXkubW9kdWxla2V5ICE9PSAnJyAmJiBrZXkuaXNhY3RpdmUgIT09ICcnICYmIGtleS5pc2FjdGl2ZSAhPT0gbnVsbFxyXG4gICAgKTtcclxuICAgIGNvbnN0IG1ta2V5ID0gbUtleS5tYXAoa2V5ID0+IGtleS5tb2R1bGVrZXkpO1xyXG4gICAgY29uc3QgbW9kdWxlcyA9IHRoaXMubW9kdWxlTGlzdC5maWx0ZXIoa2V5ID0+IG1ta2V5LmluY2x1ZGVzKGtleS5yZWZLZXkpKTtcclxuICAgIGNvbnN0IHBhZ2VJZCA9IGFzc2V0Y29uZmlnLmZpbHRlcihrZXkgPT4ga2V5LnBhZ2VpZCAhPT0gbnVsbCk7XHJcbiAgICBjb25zdCBwYWdlSWRzID0gcGFnZUlkLm1hcChrZXkgPT4ga2V5LnBhZ2VpZCk7XHJcbiAgICBsZXQgc2VsZWN0ZWRNb2R1bGVzOiBhbnk7XHJcbiAgICBzZWxlY3RlZE1vZHVsZXMgPSBbLi4ubmV3IFNldChtb2R1bGVzKV07XHJcbiAgICBjb25zdCB1bmlxdWVQYWdlID0gWy4uLm5ldyBTZXQocGFnZUlkcyldO1xyXG4gICAgY29uc3Qgc2VsZWN0ZWRQYWdlcyA9IHVuaXF1ZVBhZ2U7XHJcbiAgICB0aGlzLnJiYWNGb3JtLnBhdGNoVmFsdWUoeyBwcm92aWRlQWNjZXNzOiAnMicgfSk7XHJcbiAgICB0aGlzLnBhZ2VMZXZlbEFjY2VzcyA9IHRoaXMubXVsdGlQYWdlQWNjZXNzID0gZmFsc2U7XHJcbiAgICB0aGlzLmZpZWxkTGV2ZWxBY2Nlc3MgPSB0cnVlO1xyXG4gICAgaWYgKGZyb20gPT09ICdmaWVsZCcpIHtcclxuICAgICAgY29uc3QgbSA9IHRoaXMucmJhY0Zvcm0uZ2V0KCdtb2R1bGUnKS52YWx1ZTtcclxuICAgICAgaWYgKG0gIT09ICcnKSB7XHJcbiAgICAgICAgY29uc3QgbWsgPSBzZWxlY3RlZE1vZHVsZXMuY29uY2F0KG0pO1xyXG4gICAgICAgIHNlbGVjdGVkTW9kdWxlcyA9IG1rO1xyXG4gICAgICAgIHRoaXMucmJhY0Zvcm0ucGF0Y2hWYWx1ZSh7IG1vZHVsZTogc2VsZWN0ZWRNb2R1bGVzIH0pO1xyXG4gICAgICB9XHJcbiAgICAgIGNvbnN0IHNtID0gdGhpcy5yYmFjRm9ybS5nZXQoJ3N1Ym1vZHVsZScpLnZhbHVlO1xyXG4gICAgICBpZiAoc20gIT09ICcnKSB7XHJcbiAgICAgICAgdGhpcy5yYmFjRm9ybS5wYXRjaFZhbHVlKHsgbW9kdWxlOiBzZWxlY3RlZE1vZHVsZXMgfSk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMucmJhY0Zvcm0ucGF0Y2hWYWx1ZSh7IG1vZHVsZTogc2VsZWN0ZWRNb2R1bGVzIH0pO1xyXG4gICAgfVxyXG4gICAgdGhpcy5nZXRTZWxlY3RlZFBhZ2VzKHNlbGVjdGVkUGFnZXMsIHBhZ2VDb25maWcsIGFzc2V0Y29uZmlnKTtcclxuICB9XHJcblxyXG4gIGdldERhdGFCYXNlZE9uUG9saWN5KGZyb20gPSBudWxsKSB7XHJcbiAgICBjb25zdCBwb2xpY3lpZHMgPSB0aGlzLnJiYWNGb3JtLmdldCgncG9saWN5aWQnKS52YWx1ZS5tYXAoYSA9PiBhLmlkKTtcclxuICAgIGlmIChwb2xpY3lpZHMubGVuZ3RoKSB7XHJcbiAgICAgIHRoaXMuZWRpdFBhZ2UgPSB0cnVlO1xyXG4gICAgICB0aGlzLnBhZ2VMZXZlbEFjY2VzcyA9IGZhbHNlO1xyXG4gICAgICB0aGlzLmZpZWxkTGV2ZWxBY2Nlc3MgPSBmYWxzZTtcclxuICAgICAgY29uc3QgZiA9IDxGb3JtQXJyYXk+dGhpcy5yYmFjRm9ybS5jb250cm9sc1snZmllbGRMZXZlbERhdGEnXTtcclxuICAgICAgZi5jb250cm9scyA9IFtdO1xyXG4gICAgICBjb25zdCBwID0gPEZvcm1BcnJheT50aGlzLnJiYWNGb3JtLmNvbnRyb2xzWydwYWdlTGV2ZWxEYXRhJ107XHJcbiAgICAgIHAuY29udHJvbHMgPSBbXTtcclxuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBwb2xpY3lpZHMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICBjb25zdCBwYWdlQ29uZmlnID0gdGhpcy5wb2xpY3lHcm91cERhdGEuZmlsdGVyKGtleSA9PiBrZXkuaWQgPT09IHBvbGljeWlkc1tqXSk7XHJcbiAgICAgICAgaWYgKGZyb20gPT09ICdmaWVsZCcpIHtcclxuICAgICAgICAgIHRoaXMuZWRpdFBhZ2UgPSBmYWxzZTtcclxuICAgICAgICAgIGlmIChwYWdlQ29uZmlnWzBdLmFzc2V0Q29uZmlncy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRQb2xpY3lMZXZlbEZpZWxkUGF0Y2hpbmcocGFnZUNvbmZpZ1swXS5wYWdlQ29uZmlncywgcGFnZUNvbmZpZ1swXS5hc3NldENvbmZpZ3MsIGZyb20pO1xyXG4gICAgICAgICAgfSBlbHNlIGlmIChwb2xpY3lpZHMubGVuZ3RoID09PSBqICsgMSkge1xyXG4gICAgICAgICAgICB0aGlzLnNob3dMZXZlbEFjY2VzcygnMicpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLmdldENoZWNrUGFnZUNvbmZpZyhwYWdlQ29uZmlnKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMucmVzZXRGb3JtKCczJyk7XHJcbiAgICAgIHRoaXMucmJhY0Zvcm0ucGF0Y2hWYWx1ZSh7IGFjY2Vzc0J5OiAnMycgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRDaGVja1BhZ2VDb25maWcocGFnZUNvbmZpZykge1xyXG4gICAgaWYgKHBhZ2VDb25maWdbMF0ucGFnZUNvbmZpZ3MubGVuZ3RoKSB7XHJcbiAgICAgIHRoaXMuZmllbGRMZXZlbENsaWNrID0gdHJ1ZTtcclxuICAgICAgdGhpcy5zZXRQb2xpY3lMZXZlbFBhZ2VQYXRjaGluZyhwYWdlQ29uZmlnWzBdLnBhZ2VDb25maWdzLCBwYWdlQ29uZmlnWzBdLmFzc2V0Q29uZmlncyk7XHJcbiAgICB9IGVsc2UgaWYgKHBhZ2VDb25maWdbMF0uYXNzZXRDb25maWdzLmxlbmd0aCkge1xyXG4gICAgICBjb25zdCBwQWNjZXNzID0gdGhpcy5yYmFjRm9ybS5nZXQoJ3Byb3ZpZGVBY2Nlc3MnKS52YWx1ZTtcclxuICAgICAgaWYgKHBBY2Nlc3MgIT09ICcxJykge1xyXG4gICAgICAgIHRoaXMuc2V0UG9saWN5TGV2ZWxGaWVsZFBhdGNoaW5nKHBhZ2VDb25maWdbMF0ucGFnZUNvbmZpZ3MsIHBhZ2VDb25maWdbMF0uYXNzZXRDb25maWdzKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0RGF0YUJhc2VkT25Sb2xlKGZyb20gPSBudWxsKSB7XHJcbiAgICBjb25zdCByb2xlSWRzID0gdGhpcy5yYmFjRm9ybS5nZXQoJ3JvbGVpZCcpLnZhbHVlLm1hcChhID0+IGEuaWQpO1xyXG4gICAgaWYgKHJvbGVJZHMubGVuZ3RoKSB7XHJcbiAgICAgIHRoaXMuZWRpdFBhZ2UgPSB0cnVlO1xyXG4gICAgICB0aGlzLnBhZ2VMZXZlbEFjY2VzcyA9IGZhbHNlO1xyXG4gICAgICB0aGlzLmZpZWxkTGV2ZWxBY2Nlc3MgPSBmYWxzZTtcclxuICAgICAgY29uc3QgZiA9IDxGb3JtQXJyYXk+dGhpcy5yYmFjRm9ybS5jb250cm9sc1snZmllbGRMZXZlbERhdGEnXTtcclxuICAgICAgZi5jb250cm9scyA9IFtdO1xyXG4gICAgICBjb25zdCBwID0gPEZvcm1BcnJheT50aGlzLnJiYWNGb3JtLmNvbnRyb2xzWydwYWdlTGV2ZWxEYXRhJ107XHJcbiAgICAgIHAuY29udHJvbHMgPSBbXTtcclxuICAgICAgLy8gbG9vcCB0aGUgcm9sZSBpZHNcclxuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCByb2xlSWRzLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgY29uc3QgcGFnZUNvbmZpZyA9IHRoaXMucm9sZUFkZGVkRGF0YS5maWx0ZXIoa2V5ID0+IGtleS5pZCA9PT0gcm9sZUlkc1tqXSk7XHJcbiAgICAgICAgdGhpcy5nZXRPcmdJZChwYWdlQ29uZmlnKTtcclxuICAgICAgICBpZiAoZnJvbSA9PT0gJ2ZpZWxkJykge1xyXG4gICAgICAgICAgdGhpcy5lZGl0UGFnZSA9IGZhbHNlO1xyXG4gICAgICAgICAgaWYgKHBhZ2VDb25maWdbMF0uYXNzZXRDb25maWdzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB0aGlzLnNldFBvbGljeUxldmVsRmllbGRQYXRjaGluZyhwYWdlQ29uZmlnWzBdLnJvbGVQb2xpY3lHcm91cENvbmZpZ3MsIHBhZ2VDb25maWdbMF0uYXNzZXRDb25maWdzLCBmcm9tKTtcclxuICAgICAgICAgIH0gZWxzZSBpZiAocm9sZUlkcy5sZW5ndGggPT09IGogKyAxKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvd0xldmVsQWNjZXNzKCcyJyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRoaXMuZ2V0Q2hlY2tSb2xlUG9saWN5R3JvdXAocGFnZUNvbmZpZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnJlc2V0Rm9ybSgnMicpO1xyXG4gICAgICB0aGlzLnJiYWNGb3JtLnBhdGNoVmFsdWUoeyBhY2Nlc3NCeTogJzInIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0T3JnSWQocGFnZUNvbmZpZykge1xyXG4gICAgaWYgKHBhZ2VDb25maWc/Lmxlbmd0aCkge1xyXG4gICAgICB0aGlzLm9yZ2FuaXNhdGlvbmlkID0gcGFnZUNvbmZpZ1swXT8ub3JnYW5pemF0aW9uaWQ7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRDaGVja1JvbGVQb2xpY3lHcm91cChwYWdlQ29uZmlnKSB7XHJcbiAgICBpZiAocGFnZUNvbmZpZ1swXS5yb2xlUG9saWN5R3JvdXBDb25maWdzLmxlbmd0aCkge1xyXG4gICAgICB0aGlzLnNldFBvbGljeUxldmVsUGFnZVBhdGNoaW5nKHBhZ2VDb25maWdbMF0ucm9sZVBvbGljeUdyb3VwQ29uZmlncywgcGFnZUNvbmZpZ1swXS5hc3NldENvbmZpZ3MpO1xyXG4gICAgfSBlbHNlIGlmIChwYWdlQ29uZmlnWzBdLmFzc2V0Q29uZmlncy5sZW5ndGgpIHtcclxuICAgICAgY29uc3QgcEFjY2VzcyA9IHRoaXMucmJhY0Zvcm0uZ2V0KCdwcm92aWRlQWNjZXNzJykudmFsdWU7XHJcbiAgICAgIGlmIChwQWNjZXNzICE9PSAnMScpIHtcclxuICAgICAgICB0aGlzLnNldFBvbGljeUxldmVsRmllbGRQYXRjaGluZyhwYWdlQ29uZmlnWzBdLnJvbGVQb2xpY3lHcm91cENvbmZpZ3MsIHBhZ2VDb25maWdbMF0uYXNzZXRDb25maWdzKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0Um9sZUFuZFBvbGljeURhdGEoZnJvbSA9IG51bGwpIHtcclxuICAgIGNvbnN0IHVzZXJJZHMgPSB0aGlzLnJiYWNGb3JtLmdldCgndXNlcmlkJykudmFsdWUubWFwKGEgPT4gYS5pZCk7XHJcbiAgICBpZiAodXNlcklkcy5sZW5ndGgpIHtcclxuICAgICAgdGhpcy5lZGl0UGFnZSA9IHRydWU7XHJcbiAgICAgIHRoaXMucGFnZUxldmVsQWNjZXNzID0gZmFsc2U7XHJcbiAgICAgIHRoaXMuZmllbGRMZXZlbEFjY2VzcyA9IGZhbHNlO1xyXG4gICAgICBjb25zdCBmID0gPEZvcm1BcnJheT50aGlzLnJiYWNGb3JtLmNvbnRyb2xzWydmaWVsZExldmVsRGF0YSddO1xyXG4gICAgICBmLmNvbnRyb2xzID0gW107XHJcbiAgICAgIGNvbnN0IHAgPSA8Rm9ybUFycmF5PnRoaXMucmJhY0Zvcm0uY29udHJvbHNbJ3BhZ2VMZXZlbERhdGEnXTtcclxuICAgICAgcC5jb250cm9scyA9IFtdO1xyXG4gICAgICAvLyBsb29wIHRoZSByb2xlIGlkc1xyXG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHVzZXJJZHMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICBjb25zdCBwYWdlQ29uZmlnID0gdGhpcy51c2VyTGlzdC5maWx0ZXIoa2V5ID0+IGtleS5pZCA9PT0gdXNlcklkc1tqXSk7XHJcbiAgICAgICAgaWYgKGZyb20gPT09ICdmaWVsZCcpIHtcclxuICAgICAgICAgIHRoaXMuZWRpdFBhZ2UgPSBmYWxzZTtcclxuICAgICAgICAgIGlmIChwYWdlQ29uZmlnWzBdLmFzc2V0Q29uZmlncy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRQb2xpY3lMZXZlbEZpZWxkUGF0Y2hpbmcocGFnZUNvbmZpZ1swXS5wYWdlQ29uZmlncywgcGFnZUNvbmZpZ1swXS5hc3NldENvbmZpZ3MsIGZyb20pO1xyXG4gICAgICAgICAgfSBlbHNlIGlmICh1c2VySWRzLmxlbmd0aCA9PT0gaiArIDEpIHtcclxuICAgICAgICAgICAgdGhpcy5zaG93TGV2ZWxBY2Nlc3MoJzInKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhpcy5nZXRDaGVja1BvbGljeUxldmVsRmllbGQocGFnZUNvbmZpZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnJlc2V0Rm9ybSgnMScpO1xyXG4gICAgICB0aGlzLnJiYWNGb3JtLnBhdGNoVmFsdWUoeyBhY2Nlc3NCeTogJzEnIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuICBnZXRDaGVja1BvbGljeUxldmVsRmllbGQocGFnZUNvbmZpZykge1xyXG4gICAgaWYgKHBhZ2VDb25maWdbMF0ucGFnZUNvbmZpZ3MubGVuZ3RoKSB7XHJcbiAgICAgIHRoaXMuc2V0UG9saWN5TGV2ZWxQYWdlUGF0Y2hpbmcocGFnZUNvbmZpZ1swXS5wYWdlQ29uZmlncywgcGFnZUNvbmZpZ1swXS5hc3NldENvbmZpZ3MpO1xyXG4gICAgfSBlbHNlIGlmIChwYWdlQ29uZmlnWzBdLmFzc2V0Q29uZmlncy5sZW5ndGgpIHtcclxuICAgICAgY29uc3QgcEFjY2VzcyA9IHRoaXMucmJhY0Zvcm0uZ2V0KCdwcm92aWRlQWNjZXNzJykudmFsdWU7XHJcbiAgICAgIGlmIChwQWNjZXNzICE9PSAnMScpIHtcclxuICAgICAgICB0aGlzLnNldFBvbGljeUxldmVsRmllbGRQYXRjaGluZyhwYWdlQ29uZmlnWzBdLnBhZ2VDb25maWdzLCBwYWdlQ29uZmlnWzBdLmFzc2V0Q29uZmlncyk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJlc2V0Rm9ybShpZCA9IG51bGwsIGNsZWFyID0gbnVsbCkge1xyXG4gICAgdGhpcy5zdWJNb2R1bGVMaXN0ID0gdGhpcy5wYWdlRGF0YSA9IHRoaXMuc2VsZWN0ZWRQYWdlRGF0YSA9IFtdO1xyXG4gICAgdGhpcy5maWVsZExldmVsQ2hlY2tDb3VudCA9IFtdO1xyXG4gICAgdGhpcy5wYWdlbGV2ZWxhY2Nlc3Njb3VudCA9IFtdO1xyXG4gICAgdGhpcy5wYWdlbGV2ZWxhY2Nlc3NzYXZlZGlzYWJsZSA9IHRydWU7XHJcbiAgICB0aGlzLnBhZ2VMZXZlbEFjY2VzcyA9IHRoaXMuZmllbGRMZXZlbEFjY2VzcyA9IGZhbHNlO1xyXG4gICAgdGhpcy5lbmFibGVzYXZlID0gdHJ1ZTtcclxuICAgIHRoaXMucGFnZWxldmVsYWNjZXNzY291bnRkaXNhYmxlID0gdHJ1ZTtcclxuICAgIGNvbnN0IGYgPSA8Rm9ybUFycmF5PnRoaXMucmJhY0Zvcm0uY29udHJvbHNbJ2ZpZWxkTGV2ZWxEYXRhJ107XHJcbiAgICBmLmNvbnRyb2xzID0gW107XHJcbiAgICBjb25zdCBwID0gPEZvcm1BcnJheT50aGlzLnJiYWNGb3JtLmNvbnRyb2xzWydwYWdlTGV2ZWxEYXRhJ107XHJcbiAgICBwLmNvbnRyb2xzID0gW107XHJcbiAgICB0aGlzLnBvbGljeUdyb3VwUGFnZXMgPSBbXTtcclxuICAgIHRoaXMuc2VsZWN0ZWRBY2Nlc3MgPSAnJztcclxuICAgIHRoaXMuc2VsZWN0ZWROYW1lID0gJyc7XHJcbiAgICB0aGlzLnBlcm1pc3Npb25VcGRhdGVkUGFnZXMgPSBbXTtcclxuICAgIHRoaXMuZmlsdGVyVGV4dCA9ICcnO1xyXG4gICAgdGhpcy5yYmFjRm9ybS5yZXNldCgpO1xyXG4gICAgaWYgKGlkICE9PSBudWxsKSB7XHJcbiAgICAgIHRoaXMucmJhY0Zvcm0ucGF0Y2hWYWx1ZSh7IGFjY2Vzc0J5OiBpZCB9KTtcclxuICAgIH0gZWxzZSBpZiAoY2xlYXIgIT09IG51bGwpIHtcclxuICAgICAgdGhpcy5BZGRDb21wb25lbnQucmVzZXRGb3JtKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZWRpcmVjdExpc3QoKSB7XHJcbiAgICB0aGlzLnJvdXRlci5uYXZpZ2F0ZUJ5VXJsKCcvcGFnZXMvcmJhYy9wYWdlLWFjY2Vzcy9wYWdlLWFjY2Vzcy1saXN0Jyk7XHJcbiAgfVxyXG5cclxuICBzYXZlQWNjZXNzUGF0Y2hpbmcoKSB7XHJcbiAgICB0aGlzLnNhdmVkRmllbGRQYWdlc1BhdGNoaW5nID0gW107XHJcbiAgICB0aGlzLnNhdmVkUGFnZUFjY2Vzc1BhdGNoaW5nID0gZmFsc2U7XHJcbiAgICBpZiAodGhpcy5yYmFjRm9ybS5nZXQoJ3Byb3ZpZGVBY2Nlc3MnKT8udmFsdWUgPT09ICcyJykge1xyXG4gICAgICB0aGlzLnNhdmVkUGFnZUFjY2Vzc1BhdGNoaW5nID0gdHJ1ZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnN0IHBwSWQgPSB0aGlzLnJiYWNGb3JtLmdldCgncGFnZUxldmVsRGF0YScpLnZhbHVlO1xyXG4gICAgICB0aGlzLnNhdmVkRmllbGRQYWdlc1BhdGNoaW5nID0gW107XHJcbiAgICAgIGlmIChwcElkPy5sZW5ndGgpIHtcclxuICAgICAgICBwcElkLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgICAgICBjb25zdCBzZWxlY3RlZE9iaiA9IHsgcGFnZWlkOiBlbGVtZW50Py5wYWdlaWQsIGFjY2VzczogZWxlbWVudD8ucGFnZUFjY2VzcyB9O1xyXG4gICAgICAgICAgdGhpcy5zYXZlZEZpZWxkUGFnZXNQYXRjaGluZy5wdXNoKHNlbGVjdGVkT2JqKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgdGhpcy5hbGVydC5zdWNjZXNzKCdUZW1wb3JhcmlseSBzYXZlZCBEYXRhIGZvciBjaGFuZ2VzJyk7XHJcbiAgfVxyXG5cclxuICBjaGFuZ2VGaWVsZEFjY2VzcyhfZXZlbnQ6IGFueSwgaW5kZXg6IG51bWJlciwgc2VsZWN0ZWRQcml2aWxlZ2U6IHN0cmluZykge1xyXG4gICAgY29uc3QgYWNjZXNzQXJyYXkgPSB0aGlzLnJiYWNGb3JtLmdldCgncGFnZUxldmVsRGF0YScpIGFzIEZvcm1BcnJheTtcclxuICAgIGNvbnN0IGZpZWxkTGV2ZWxEYXRhQ29udHJvbCA9IHRoaXMucmJhY0Zvcm0uZ2V0KCdmaWVsZExldmVsRGF0YScpIGFzIEZvcm1BcnJheTtcclxuICAgIGNvbnN0IHNlbGVjdGVkVmFsdWUgPSBmaWVsZExldmVsRGF0YUNvbnRyb2wuYXQoaW5kZXgpLnZhbHVlO1xyXG4gICAgaWYgKCF0aGlzLmZpZWxkUGFnZUxldmVsPy5sZW5ndGgpIHtcclxuICAgICAgaWYgKHNlbGVjdGVkUHJpdmlsZWdlID09PSAncicpIHtcclxuICAgICAgICBzZWxlY3RlZFZhbHVlLmZpZWxkQWNjZXNzUmVhZCA/XHJcbiAgICAgICAgICBmaWVsZExldmVsRGF0YUNvbnRyb2wuY29udHJvbHNbaW5kZXhdLmdldCgnZmllbGRBY2Nlc3NIaWRlJykucGF0Y2hWYWx1ZShmYWxzZSkgOlxyXG4gICAgICAgICAgZmllbGRMZXZlbERhdGFDb250cm9sLmNvbnRyb2xzW2luZGV4XS5nZXQoJ2ZpZWxkQWNjZXNzSGlkZScpLnBhdGNoVmFsdWUodHJ1ZSk7XHJcbiAgICAgICAgO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIHNlbGVjdGVkVmFsdWUuZmllbGRBY2Nlc3NIaWRlID9cclxuICAgICAgICAgIGZpZWxkTGV2ZWxEYXRhQ29udHJvbC5jb250cm9sc1tpbmRleF0uZ2V0KCdmaWVsZEFjY2Vzc1JlYWQnKS5wYXRjaFZhbHVlKGZhbHNlKSA6XHJcbiAgICAgICAgICBmaWVsZExldmVsRGF0YUNvbnRyb2wuY29udHJvbHNbaW5kZXhdLmdldCgnZmllbGRBY2Nlc3NSZWFkJykucGF0Y2hWYWx1ZSh0cnVlKTtcclxuICAgICAgICA7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICBpZiAoc2VsZWN0ZWRQcml2aWxlZ2UgPT09ICdjJyB8fCBzZWxlY3RlZFByaXZpbGVnZSA9PT0gJ3UnKSB7XHJcbiAgICAgICAgZmllbGRMZXZlbERhdGFDb250cm9sLmNvbnRyb2xzW2luZGV4XS5nZXQoJ2ZpZWxkQWNjZXNzUmVhZCcpLnBhdGNoVmFsdWUodHJ1ZSk7XHJcbiAgICAgICAgZmllbGRMZXZlbERhdGFDb250cm9sLmNvbnRyb2xzW2luZGV4XS5nZXQoJ2ZpZWxkQWNjZXNzSGlkZScpLnBhdGNoVmFsdWUoZmFsc2UpO1xyXG4gICAgICAgIHNlbGVjdGVkVmFsdWUuZmllbGRBY2Nlc3NDcmVhdGUgfHwgc2VsZWN0ZWRWYWx1ZS5maWVsZEFjY2Vzc1VwZGF0ZVxyXG4gICAgICAgICAgPyBmaWVsZExldmVsRGF0YUNvbnRyb2wuY29udHJvbHNbaW5kZXhdLmdldCgnZmllbGRBY2Nlc3NSZWFkJykuZGlzYWJsZSgpXHJcbiAgICAgICAgICA6IGZpZWxkTGV2ZWxEYXRhQ29udHJvbC5jb250cm9sc1tpbmRleF0uZ2V0KCdmaWVsZEFjY2Vzc1JlYWQnKS5lbmFibGUoKTtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIGlmIChzZWxlY3RlZFByaXZpbGVnZSA9PT0gJ3InKSB7XHJcbiAgICAgICAgc2VsZWN0ZWRWYWx1ZS5maWVsZEFjY2Vzc1JlYWQgP1xyXG4gICAgICAgICAgZmllbGRMZXZlbERhdGFDb250cm9sLmNvbnRyb2xzW2luZGV4XS5nZXQoJ2ZpZWxkQWNjZXNzSGlkZScpLnBhdGNoVmFsdWUoZmFsc2UpIDpcclxuICAgICAgICAgIGZpZWxkTGV2ZWxEYXRhQ29udHJvbC5jb250cm9sc1tpbmRleF0uZ2V0KCdmaWVsZEFjY2Vzc0hpZGUnKS5wYXRjaFZhbHVlKHRydWUpO1xyXG4gICAgICAgIDtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIHtcclxuICAgICAgICBzZWxlY3RlZFZhbHVlLmZpZWxkQWNjZXNzSGlkZSA/XHJcbiAgICAgICAgICBmaWVsZExldmVsRGF0YUNvbnRyb2wuY29udHJvbHNbaW5kZXhdLmdldCgnZmllbGRBY2Nlc3NSZWFkJykucGF0Y2hWYWx1ZShmYWxzZSkgOlxyXG4gICAgICAgICAgZmllbGRMZXZlbERhdGFDb250cm9sLmNvbnRyb2xzW2luZGV4XS5nZXQoJ2ZpZWxkQWNjZXNzUmVhZCcpLnBhdGNoVmFsdWUodHJ1ZSk7XHJcbiAgICAgICAgO1xyXG4gICAgICAgIGZpZWxkTGV2ZWxEYXRhQ29udHJvbC5jb250cm9sc1tpbmRleF0uZ2V0KCdmaWVsZEFjY2Vzc0NyZWF0ZScpLnBhdGNoVmFsdWUoZmFsc2UpO1xyXG4gICAgICAgIGZpZWxkTGV2ZWxEYXRhQ29udHJvbC5jb250cm9sc1tpbmRleF0uZ2V0KCdmaWVsZEFjY2Vzc1VwZGF0ZScpLnBhdGNoVmFsdWUoZmFsc2UpO1xyXG4gICAgICAgIGZpZWxkTGV2ZWxEYXRhQ29udHJvbC5jb250cm9sc1tpbmRleF0uZ2V0KCdmaWVsZEFjY2Vzc1JlYWQnKS5lbmFibGUoKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIGNvbnN0IHBhZ2VJbmRleCA9IHRoaXMucmJhY0Zvcm1cclxuICAgIC8vICAgLmdldCgncGFnZUxldmVsRGF0YScpXHJcbiAgICAvLyAgIC52YWx1ZS5maW5kSW5kZXgoZWwgPT4gZWwucGFnZWlkID09PSB0aGlzLnJiYWNGb3JtLmdldCgnZmllbGRMZXZlbERhdGEnKS52YWx1ZVswXS5wYWdlSWQpO1xyXG4gICAgLy8gaWYgKHBhZ2VJbmRleCA+IC0xKSB7XHJcbiAgICAvLyAgIGFjY2Vzc0FycmF5LnB1c2goXHJcbiAgICAvLyAgICAgbmV3IEZvcm1Hcm91cCh7XHJcbiAgICAvLyAgICAgICBwYWdlTmFtZTogbmV3IEZvcm1Db250cm9sKHRoaXMucmJhY0Zvcm0uZ2V0KCdwYWdlTGV2ZWxEYXRhJykudmFsdWVbcGFnZUluZGV4XS5wYWdlTmFtZSksXHJcbiAgICAvLyAgICAgICBwYWdlaWQ6IG5ldyBGb3JtQ29udHJvbCh0aGlzLnJiYWNGb3JtLmdldCgncGFnZUxldmVsRGF0YScpLnZhbHVlW3BhZ2VJbmRleF0ucGFnZWlkKSxcclxuICAgIC8vICAgICAgIHZhbGlkaXR5OiBuZXcgRm9ybUNvbnRyb2wodGhpcy5yYmFjRm9ybS5nZXQoJ3BhZ2VMZXZlbERhdGEnKS52YWx1ZVtwYWdlSW5kZXhdLnZhbGlkaXR5KSxcclxuICAgIC8vICAgICAgIGZhbGxiYWNrVG86IG5ldyBGb3JtQ29udHJvbCh0aGlzLnJiYWNGb3JtLmdldCgncGFnZUxldmVsRGF0YScpLnZhbHVlW3BhZ2VJbmRleF0uZmFsbGJhY2tUbyksXHJcbiAgICAvLyAgICAgICBjb25kaXRpb246IG5ldyBGb3JtQ29udHJvbCh0aGlzLnJiYWNGb3JtLmdldCgncGFnZUxldmVsRGF0YScpLnZhbHVlW3BhZ2VJbmRleF0uY29uZGl0aW9uKSxcclxuICAgIC8vICAgICAgIHBhZ2VBY2Nlc3NDcmVhdGU6IG5ldyBGb3JtQ29udHJvbCh0aGlzLnJiYWNGb3JtLmdldCgncGFnZUxldmVsRGF0YScpLnZhbHVlW3BhZ2VJbmRleF0ucGFnZUFjY2Vzc0NyZWF0ZSksXHJcbiAgICAvLyAgICAgICBwYWdlQWNjZXNzUmVhZDogbmV3IEZvcm1Db250cm9sKHRoaXMucmJhY0Zvcm0uZ2V0KCdwYWdlTGV2ZWxEYXRhJykudmFsdWVbcGFnZUluZGV4XS5wYWdlQWNjZXNzUmVhZCksXHJcbiAgICAvLyAgICAgICBwYWdlQWNjZXNzVXBkYXRlOiBuZXcgRm9ybUNvbnRyb2wodGhpcy5yYmFjRm9ybS5nZXQoJ3BhZ2VMZXZlbERhdGEnKS52YWx1ZVtwYWdlSW5kZXhdLnBhZ2VBY2Nlc3NVcGRhdGUpLFxyXG4gICAgLy8gICAgICAgcGFnZUFjY2Vzc0RlbGV0ZTogbmV3IEZvcm1Db250cm9sKHRoaXMucmJhY0Zvcm0uZ2V0KCdwYWdlTGV2ZWxEYXRhJykudmFsdWVbcGFnZUluZGV4XS5wYWdlQWNjZXNzRGVsZXRlKSxcclxuICAgIC8vICAgICAgIHBhZ2VBY2Nlc3NOb25lOiBuZXcgRm9ybUNvbnRyb2wodGhpcy5yYmFjRm9ybS5nZXQoJ3BhZ2VMZXZlbERhdGEnKS52YWx1ZVtwYWdlSW5kZXhdLnBhZ2VBY2Nlc3NOb25lKSxcclxuICAgIC8vICAgICB9KVxyXG4gICAgLy8gICApO1xyXG4gICAgLy8gICBhY2Nlc3NBcnJheS5yZW1vdmVBdChwYWdlSW5kZXgpO1xyXG4gICAgLy8gICBjb25zdCBpc0V4aXN0ID0gdGhpcy5zZWxlY3RlZFBhZ2VBY2Nlc3NDaGFuZ2VzLmZpbmRJbmRleChcclxuICAgIC8vICAgICBlbCA9PiBlbC5wYWdlaWQgPT09IHRoaXMucmJhY0Zvcm0uZ2V0KCdwYWdlTGV2ZWxEYXRhJykudmFsdWVbcGFnZUluZGV4XS5wYWdlaWRcclxuICAgIC8vICAgKTtcclxuICAgIC8vICAgaWYgKGlzRXhpc3QgPiAtMSkge1xyXG4gICAgLy8gICAgIHRoaXMuc2VsZWN0ZWRQYWdlQWNjZXNzQ2hhbmdlcy5zcGxpY2UoaXNFeGlzdCwgMSk7XHJcbiAgICAvLyAgIH1cclxuICAgIC8vIH1cclxuICB9XHJcblxyXG4gIGNoYW5nZVBhZ2VBY2Nlc3MoaW5kZXgsIHNlbGVjdGVkUHJpdmlsZWdlKSB7XHJcbiAgICBjb25zdCBwYWdlTGV2ZWxEYXRhID0gdGhpcy5yYmFjRm9ybS5nZXQoJ3BhZ2VMZXZlbERhdGEnKSBhcyBGb3JtQXJyYXk7XHJcbiAgICBjb25zdCBzZWxlY3RlZFZhbHVlID0gcGFnZUxldmVsRGF0YS5hdChpbmRleCkudmFsdWU7XHJcbiAgICBjb25zdCBwYWdlTmFtZSA9IHRoaXMubG9hZGVkUGFnZXNMaXN0LmZpbHRlcihrZXkgPT4ga2V5LmlkID09PSBzZWxlY3RlZFZhbHVlLnBhZ2VpZCk7XHJcbiAgICBpZiAocGFnZU5hbWVbMF0/LmFjdGl2ZVZlcnNpb24/LnRlbXBsYXRlanNvbikge1xyXG4gICAgICAvKmRlbGV0ZSB3aWxsIGJlIGRpc2FibGVkIGZvciBCdXNpbmVzcyBEcml2ZW4gUGFnZSAqL1xyXG4gICAgICBwYWdlTGV2ZWxEYXRhLmNvbnRyb2xzW2luZGV4XS5nZXQoJ3BhZ2VBY2Nlc3NEZWxldGUnKS5kaXNhYmxlKCk7XHJcblxyXG4gICAgICBpZiAoc2VsZWN0ZWRQcml2aWxlZ2UgPT09ICdjJyB8fCBzZWxlY3RlZFByaXZpbGVnZSA9PT0gJ3UnKSB7XHJcbiAgICAgICAgcGFnZUxldmVsRGF0YS5jb250cm9sc1tpbmRleF0uZ2V0KCdwYWdlQWNjZXNzUmVhZCcpLnBhdGNoVmFsdWUodHJ1ZSk7XHJcbiAgICAgICAgc2VsZWN0ZWRWYWx1ZS5wYWdlQWNjZXNzVXBkYXRlIHx8IHNlbGVjdGVkVmFsdWUucGFnZUFjY2Vzc0NyZWF0ZVxyXG4gICAgICAgICAgPyBwYWdlTGV2ZWxEYXRhLmNvbnRyb2xzW2luZGV4XS5nZXQoJ3BhZ2VBY2Nlc3NSZWFkJykuZGlzYWJsZSgpXHJcbiAgICAgICAgICA6IHBhZ2VMZXZlbERhdGEuY29udHJvbHNbaW5kZXhdLmdldCgncGFnZUFjY2Vzc1JlYWQnKS5lbmFibGUoKTtcclxuICAgICAgICBwYWdlTGV2ZWxEYXRhLmNvbnRyb2xzW2luZGV4XS5nZXQoJ3BhZ2VBY2Nlc3NOb25lJykucGF0Y2hWYWx1ZShmYWxzZSk7XHJcblxyXG4gICAgICB9XHJcbiAgICAgIGVsc2UgaWYgKHNlbGVjdGVkUHJpdmlsZWdlID09PSAncicpIHtcclxuICAgICAgICBzZWxlY3RlZFZhbHVlLnBhZ2VBY2Nlc3NSZWFkID9cclxuICAgICAgICAgIHBhZ2VMZXZlbERhdGEuY29udHJvbHNbaW5kZXhdLmdldCgncGFnZUFjY2Vzc05vbmUnKS5wYXRjaFZhbHVlKGZhbHNlKSA6XHJcbiAgICAgICAgICBwYWdlTGV2ZWxEYXRhLmNvbnRyb2xzW2luZGV4XS5nZXQoJ3BhZ2VBY2Nlc3NOb25lJykucGF0Y2hWYWx1ZSh0cnVlKTtcclxuICAgICAgICA7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgc2VsZWN0ZWRWYWx1ZS5wYWdlQWNjZXNzTm9uZVxyXG4gICAgICAgICAgPyBwYWdlTGV2ZWxEYXRhLmNvbnRyb2xzW2luZGV4XS5nZXQoJ3BhZ2VBY2Nlc3NSZWFkJykucGF0Y2hWYWx1ZShmYWxzZSlcclxuICAgICAgICAgIDogcGFnZUxldmVsRGF0YS5jb250cm9sc1tpbmRleF0uZ2V0KCdwYWdlQWNjZXNzUmVhZCcpLnBhdGNoVmFsdWUodHJ1ZSk7XHJcbiAgICAgICAgcGFnZUxldmVsRGF0YS5jb250cm9sc1tpbmRleF0uZ2V0KCdwYWdlQWNjZXNzQ3JlYXRlJykucGF0Y2hWYWx1ZShmYWxzZSk7XHJcbiAgICAgICAgcGFnZUxldmVsRGF0YS5jb250cm9sc1tpbmRleF0uZ2V0KCdwYWdlQWNjZXNzVXBkYXRlJykucGF0Y2hWYWx1ZShmYWxzZSk7XHJcbiAgICAgICAgcGFnZUxldmVsRGF0YS5jb250cm9sc1tpbmRleF0uZ2V0KCdwYWdlQWNjZXNzUmVhZCcpLmVuYWJsZSgpO1xyXG4gICAgICB9XHJcblxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYgKHNlbGVjdGVkUHJpdmlsZWdlID09PSAnYycgfHwgc2VsZWN0ZWRQcml2aWxlZ2UgPT09ICd1JyB8fCBzZWxlY3RlZFByaXZpbGVnZSA9PT0gJ2QnKSB7XHJcbiAgICAgICAgcGFnZUxldmVsRGF0YS5jb250cm9sc1tpbmRleF0uZ2V0KCdwYWdlQWNjZXNzUmVhZCcpLnBhdGNoVmFsdWUodHJ1ZSk7XHJcbiAgICAgICAgc2VsZWN0ZWRWYWx1ZS5wYWdlQWNjZXNzVXBkYXRlIHx8IHNlbGVjdGVkVmFsdWUucGFnZUFjY2Vzc0NyZWF0ZSB8fCBzZWxlY3RlZFZhbHVlLnBhZ2VBY2Nlc3NEZWxldGVcclxuICAgICAgICAgID8gcGFnZUxldmVsRGF0YS5jb250cm9sc1tpbmRleF0uZ2V0KCdwYWdlQWNjZXNzUmVhZCcpLmRpc2FibGUoKVxyXG4gICAgICAgICAgOiBwYWdlTGV2ZWxEYXRhLmNvbnRyb2xzW2luZGV4XS5nZXQoJ3BhZ2VBY2Nlc3NSZWFkJykuZW5hYmxlKCk7XHJcbiAgICAgICAgcGFnZUxldmVsRGF0YS5jb250cm9sc1tpbmRleF0uZ2V0KCdwYWdlQWNjZXNzTm9uZScpLnBhdGNoVmFsdWUoZmFsc2UpO1xyXG5cclxuICAgICAgfVxyXG4gICAgICBlbHNlIGlmIChzZWxlY3RlZFByaXZpbGVnZSA9PT0gJ3InKSB7XHJcbiAgICAgICAgc2VsZWN0ZWRWYWx1ZS5wYWdlQWNjZXNzUmVhZCA/XHJcbiAgICAgICAgICBwYWdlTGV2ZWxEYXRhLmNvbnRyb2xzW2luZGV4XS5nZXQoJ3BhZ2VBY2Nlc3NOb25lJykucGF0Y2hWYWx1ZShmYWxzZSkgOlxyXG4gICAgICAgICAgcGFnZUxldmVsRGF0YS5jb250cm9sc1tpbmRleF0uZ2V0KCdwYWdlQWNjZXNzTm9uZScpLnBhdGNoVmFsdWUodHJ1ZSk7XHJcbiAgICAgICAgO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIHNlbGVjdGVkVmFsdWUucGFnZUFjY2Vzc05vbmVcclxuICAgICAgICAgID8gcGFnZUxldmVsRGF0YS5jb250cm9sc1tpbmRleF0uZ2V0KCdwYWdlQWNjZXNzUmVhZCcpLnBhdGNoVmFsdWUoZmFsc2UpXHJcbiAgICAgICAgICA6IHBhZ2VMZXZlbERhdGEuY29udHJvbHNbaW5kZXhdLmdldCgncGFnZUFjY2Vzc1JlYWQnKS5wYXRjaFZhbHVlKHRydWUpO1xyXG4gICAgICAgIHBhZ2VMZXZlbERhdGEuY29udHJvbHNbaW5kZXhdLmdldCgncGFnZUFjY2Vzc0NyZWF0ZScpLnBhdGNoVmFsdWUoZmFsc2UpO1xyXG4gICAgICAgIHBhZ2VMZXZlbERhdGEuY29udHJvbHNbaW5kZXhdLmdldCgncGFnZUFjY2Vzc1VwZGF0ZScpLnBhdGNoVmFsdWUoZmFsc2UpO1xyXG4gICAgICAgIHBhZ2VMZXZlbERhdGEuY29udHJvbHNbaW5kZXhdLmdldCgncGFnZUFjY2Vzc0RlbGV0ZScpLnBhdGNoVmFsdWUoZmFsc2UpO1xyXG4gICAgICAgIHBhZ2VMZXZlbERhdGEuY29udHJvbHNbaW5kZXhdLmdldCgncGFnZUFjY2Vzc1JlYWQnKS5lbmFibGUoKTtcclxuICAgICAgfVxyXG5cclxuICAgIH1cclxuICAgIGNvbnN0IGlzRXhpc3QgPSB0aGlzLnNlbGVjdGVkUGFnZUFjY2Vzc0NoYW5nZXM/LmZpbmRJbmRleChlbCA9PiBlbD8ucGFnZWlkID09PSBzZWxlY3RlZFZhbHVlLnBhZ2VpZCk7XHJcbiAgICBpZiAoaXNFeGlzdCA+IC0xKSB7XHJcbiAgICAgIHRoaXMuc2VsZWN0ZWRQYWdlQWNjZXNzQ2hhbmdlc1tpc0V4aXN0XS5wYWdlQWNjZXNzID0gc2VsZWN0ZWRWYWx1ZS5wYWdlQWNjZXNzO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5zZWxlY3RlZFBhZ2VBY2Nlc3NDaGFuZ2VzLnB1c2goc2VsZWN0ZWRWYWx1ZSk7XHJcbiAgICB9XHJcbiAgICBpZiAoc2VsZWN0ZWRWYWx1ZS5wYWdlQWNjZXNzID09PSAnNCcpIHtcclxuICAgICAgdGhpcy5zZXREZWZhdWx0UGFnZUFjY2VzcyhwYWdlTGV2ZWxEYXRhLCBpbmRleCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMucGVybWlzc2lvblVwZGF0ZWRQYWdlcy5zb21lKHBhZ2VJZCA9PiBwYWdlSWQgPT09IHNlbGVjdGVkVmFsdWUucGFnZWlkKSkge1xyXG4gICAgICB0aGlzLnBlcm1pc3Npb25VcGRhdGVkUGFnZXMgPSB0aGlzLnBlcm1pc3Npb25VcGRhdGVkUGFnZXMuZmlsdGVyKHBhZ2VJZCA9PiBwYWdlSWQgIT09IHNlbGVjdGVkVmFsdWUucGFnZWlkKVxyXG4gICAgfVxyXG4gICAgdGhpcy5wZXJtaXNzaW9uVXBkYXRlZFBhZ2VzLnB1c2goc2VsZWN0ZWRWYWx1ZS5wYWdlaWQpXHJcbiAgfVxyXG5cclxuICBzZXREZWZhdWx0UGFnZUFjY2VzcyhwYWdlQWNjZXNzRGF0YTogRm9ybUFycmF5LCBpOiBudW1iZXIpIHtcclxuICAgIHBhZ2VBY2Nlc3NEYXRhLmF0KGkpLmdldCgnY29uZGl0aW9uJykuc2V0VmFsdWUoJ2Fsd2F5cycpO1xyXG4gICAgcGFnZUFjY2Vzc0RhdGEuYXQoaSkuZ2V0KCd2YWxpZGl0eScpLnNldFZhbHVlKCcxJyk7XHJcbiAgICAvLyBwYWdlQWNjZXNzRGF0YS5hdChpKS5nZXQoJ2FjY2Vzc2RhdGEnKS5zZXRWYWx1ZSgnYWxsJyk7XHJcbiAgICBwYWdlQWNjZXNzRGF0YS5hdChpKS5nZXQoJ2ZhbGxiYWNrVG8nKS5zZXRWYWx1ZSgnbicpO1xyXG4gIH1cclxuXHJcbiAgY2hlY2tPYmplY3RUeXBlKHNjaGVtYTogc3RyaW5nLCB0YWJsZTogc3RyaW5nKSB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcclxuICAgICAgdGhpcy5wYWdlQWNjZXNzU2VydmljZS5jaGVja09iamVjdFR5cGUoc2NoZW1hLCB0YWJsZSkuc3Vic2NyaWJlKHJlcyA9PiB7XHJcbiAgICAgICAgcmVzb2x2ZShyZXMuZGF0YSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIHNob3dQb3B1cCgpIHtcclxuICAgIHRoaXMubW9kYWxTZXJ2aWNlLm9wZW4odGhpcy52YWxpZGF0aW9uUG9wdXApO1xyXG4gIH1cclxuXHJcbn1cclxuIiwiPGFwcC1hbGVydD48L2FwcC1hbGVydD5cclxuPGRpdiBjbGFzcz1cInJvdyByYmFjLWNhcmRcIj5cclxuICA8ZGl2IGNsYXNzPVwiY29sLTEyXCI+XHJcbiAgICA8bWF0LWNhcmQgY2xhc3M9XCJtYXQtY2FyZFwiPlxyXG4gICAgICA8bWF0LWNhcmQtY29udGVudCBjbGFzcz1cInAtMlwiPlxyXG4gICAgICAgIDxmb3JtIFtmb3JtR3JvdXBdPVwicmJhY0Zvcm1cIj5cclxuICAgICAgICAgIDxhcHAtbWFuYWdlLWFjY2Vzcy1yYWRpbyAoYWNjZXNzQnkpPVwiYWNjZXNzQnkoJGV2ZW50KVwiICh1c2VyRHJvcGRvd24pPVwidXNlckRyb3Bkb3duKCRldmVudClcIlxyXG4gICAgICAgICAgICAocm9sZURyb3Bkb3duKT1cInJvbGVEcm9wZG93bigkZXZlbnQpXCIgKHBvbGljeURyb3Bkb3duKT1cInBvbGljeURyb3Bkb3duKCRldmVudClcIlxyXG4gICAgICAgICAgICAoZHJvcERvd25TZWxlY3RlZFZhbHVlcyk9XCJkcm9wRG93blNlbGVjdGVkVmFsdWVzKCRldmVudClcIj48L2FwcC1tYW5hZ2UtYWNjZXNzLXJhZGlvPlxyXG4gICAgICAgICAgPGgzIGNsYXNzPVwicmFkaW8tdGl0bGUgbXQtMSBtYi0yIHBhLXRpdGxlXCI+UGFnZSBBY2Nlc3MgTWFuYWdlbWVudDwvaDM+XHJcbiAgICAgICAgICA8bWF0LWNhcmQgY2xhc3M9XCJtYXQtY2FyZFwiPlxyXG4gICAgICAgICAgICA8bWF0LWNhcmQtY29udGVudCBjbGFzcz1cInAtMlwiPlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyb3dcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtbGctMyBjb2wtbWQtNiBjb2wtMTIgbWItM1wiICpuZ0lmPVwiZmFsc2VcIj5cclxuICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwicmFkaW8tdGl0bGVcIj5Nb2R1bGVzPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgPCEtLSA8YW5ndWxhcjItbXVsdGlzZWxlY3QgW2RhdGFdPVwibW9kdWxlTGlzdFwiIFtzZXR0aW5nc109XCJtb2R1bGVEcm9wZG93blNldHRpbmdzXCJcclxuICAgICAgICAgICAgICAgICAgICBvblNlbGVjdD1cImxvYWRTdWJNb2R1bGUoJ2NsaWNrJylcIiBvbkRlU2VsZWN0PVwicmVtb3ZlU3ViTW9kdWxlKCRldmVudClcIlxyXG4gICAgICAgICAgICAgICAgICAgIG9uU2VsZWN0QWxsPVwibG9hZFN1Yk1vZHVsZSgnY2xpY2snKVwiIG9uRGVTZWxlY3RBbGw9XCJyZW1vdmVBbGxTdWJNb2R1bGUoKVwiXHJcbiAgICAgICAgICAgICAgICAgICAgZm9ybUNvbnRyb2xOYW1lPVwibW9kdWxlXCI+PC9hbmd1bGFyMi1tdWx0aXNlbGVjdD4gLS0+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtbGctMyBjb2wtbWQtNiBjb2wtMTIgbWItM1wiICpuZ0lmPVwiZmFsc2VcIj5cclxuICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwicmFkaW8tdGl0bGVcIj5TdWIgTW9kdWxlczwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgIDwhLS0gPGFuZ3VsYXIyLW11bHRpc2VsZWN0IFtkYXRhXT1cInN1Yk1vZHVsZUxpc3RcIiBbc2V0dGluZ3NdPVwic3VibW9kdWxlRHJvcGRvd25TZXR0aW5nc1wiXHJcbiAgICAgICAgICAgICAgICAgICAgb25TZWxlY3Q9XCJsb2FkU3ViTW9kdWxlUGFnZSgnY2xpY2snKVwiIG9uRGVTZWxlY3Q9XCJyZW1vdmVTdWJNb2R1bGVQYWdlKCRldmVudCwgJ3N1Ym1vZHVsZScpXCJcclxuICAgICAgICAgICAgICAgICAgICBvblNlbGVjdEFsbD1cImxvYWRTdWJNb2R1bGVQYWdlKCdjbGljaycpXCIgb25EZVNlbGVjdEFsbD1cInJlbW92ZUFsbFN1Yk1vZHVsZVBhZ2UoKVwiXHJcbiAgICAgICAgICAgICAgICAgICAgZm9ybUNvbnRyb2xOYW1lPVwic3VibW9kdWxlXCI+XHJcbiAgICAgICAgICAgICAgICAgIDwvYW5ndWxhcjItbXVsdGlzZWxlY3Q+IC0tPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1sZy03IG1iLTNcIj5cclxuICAgICAgICAgICAgICAgICAgPHAtYWNjb3JkaW9uIGNsYXNzPVwidy1mdWxsIHBvbGljeWdyb3VwLWFjY29yZGlvblwiIGljb25Qb3M9XCJlbmRWYWxcIj5cclxuICAgICAgICAgICAgICAgICAgICA8cC1hY2NvcmRpb25UYWI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8bmctdGVtcGxhdGUgcFRlbXBsYXRlPVwiaGVhZGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZmxleCBhbGlnbi1pdGVtcy1jZW50ZXIgaGVhZC10ZXh0IGdhcC0yIHctZnVsbFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZm9udC1ib2xkXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgYXJpYS1sYWJlbGxlZGJ5PVwicG9saWN5R3JvdXBMaXN0XCIgZm9yPVwicG9saWN5R3JvdXBMaXN0XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJtYi0wIHJlZmVycmFsLWZvcm0tbGFiZWxzXCI+UGFnZXNcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuICpuZ0lmPVwic2VsZWN0ZWRQYWdlRGF0YS5sZW5ndGggPiAwXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInBnLWNvdW50IG1sLTJcIj57e3NlbGVjdGVkUGFnZURhdGEubGVuZ3RofX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9uZy10ZW1wbGF0ZT5cclxuICAgICAgICAgICAgICAgICAgICAgIDwhLS0gPGFuZ3VsYXIyLW11bHRpc2VsZWN0IFtkYXRhXT1cInBhZ2VzTGlzdFwiIFtzZXR0aW5nc109XCJwYWdlRHJvcGRvd25TZXR0aW5nc1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIChvblNlbGVjdCk9XCJwb3B1bGF0ZVBhZ2UoJ2NsaWNrJyx0cnVlLCRldmVudClcIiBmaWVsZEtleT1cIlNFVFRJTkdTX1BBR19BQ0NfUEFHRVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIChvbkRlU2VsZWN0KT1cInBvcHVsYXRlUGFnZSgnY2xpY2snLGZhbHNlLCRldmVudClcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAob25TZWxlY3RBbGwpPVwicG9wdWxhdGVQYWdlKCdjbGljaycsdHJ1ZSwkZXZlbnQpXCIgKG9uRGVTZWxlY3RBbGwpPVwicmVtb3ZlQWxsUG9wdWxhdGVQYWdlKClcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtQ29udHJvbE5hbWU9XCJwYWdlTGlzdFwiPjwvYW5ndWxhcjItbXVsdGlzZWxlY3Q+IC0tPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPHAtbXVsdGlTZWxlY3QgW29wdGlvbnNdPVwicGFnZXNMaXN0XCIgZm9ybUNvbnRyb2xOYW1lPVwicGFnZUxpc3RcIiBmaWVsZEtleT1cIlNFVFRJTkdTX1BBR19BQ0NfUEFHRVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRMYWJlbD1cIlNlbGVjdCBQYWdlc1wiIGRpc3BsYXk9XCJjaGlwXCIgb3B0aW9uTGFiZWw9XCJwYWdlbmFtZVwiIFthdXRvRGlzcGxheUZpcnN0XT1cImZhbHNlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGVDbGFzcz1cInBvbGljeWdyb3VwLXYyIHctMTAwXCIgKG9uQ2hhbmdlKT1cInBvcHVsYXRlUGFnZSgnY2xpY2snLHRydWUsJGV2ZW50KVwiIFtyZXNldEZpbHRlck9uSGlkZV09XCJ0cnVlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgKG9uRmlsdGVyKT0gXCJvbkZpbHRlclBhZ2VzKCRldmVudClcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPG5nLXRlbXBsYXRlIGxldC12YWx1ZSBwVGVtcGxhdGU9XCJzZWxlY3RlZEl0ZW1zXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiAqbmdGb3I9XCJsZXQgb3B0aW9uIG9mIHZhbHVlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2ICNzZWxlY3RlZHBnIGNsYXNzPVwicC1tdWx0aXNlbGVjdC10b2tlblwiIFtuZ0NsYXNzXT1cIm9wdGlvbi5kaXNhYmxlZCA/ICdkaXNhYmxlZCcgOiAnJyBcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD1cInt7b3B0aW9uLmlkfX1cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJwb2xpY3lncm91cG5hbWVcIiBwVG9vbHRpcD1cInt7b3B0aW9uPy5wYWdlbmFtZX19XCIgdG9vbHRpcFBvc2l0aW9uPVwidG9wXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3sgb3B0aW9uLnBhZ2VuYW1lIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGVtIGNsYXNzPVwicGkgcGktdGltZXMtY2lyY2xlIG1sLTIgY2xlYXItaWNvbiByaWdodC1zZWNcIiAqbmdJZj1cIiFvcHRpb24uZGlzYWJsZWRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGU9XCJidXR0b25cIiAoY2xpY2spPVwicmVtb3ZlVmFsdWUoJGV2ZW50LCBzZWxlY3RlZHBnKVwiPjwvZW0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2ICpuZ0lmPVwiIXZhbHVlIHx8IHZhbHVlLmxlbmd0aCA9PT0gMFwiPlNlbGVjdCBQYWdlczwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L25nLXRlbXBsYXRlPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9wLW11bHRpU2VsZWN0PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvcC1hY2NvcmRpb25UYWI+XHJcbiAgICAgICAgICAgICAgICAgIDwvcC1hY2NvcmRpb24+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLWxnLTMgY29sLW1kLTEyIGNvbC0xMiBtYi0zXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cInJhZGlvLXRpdGxlIGQtYmxvY2sgcmVxdWlyZWRcIj5Qcm92aWRlIEFjY2VzcyBieSA8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICA8bWF0LXJhZGlvLWdyb3VwIGZvcm1Db250cm9sTmFtZT1cInByb3ZpZGVBY2Nlc3NcIiAoY2hhbmdlKT1cInNob3dMZXZlbEFjY2VzcygkZXZlbnQudmFsdWUpXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPG1hdC1yYWRpby1idXR0b24gdmFsdWU9XCIxXCIgZmllbGRLZXk9XCJTRVRUSU5HU19QQUdfQUNDX1BBR0VfUEFHRV9MRVZFTFwiPlBhZ2VcclxuICAgICAgICAgICAgICAgICAgICAgIExldmVsJm5ic3A7Jm5ic3A7PC9tYXQtcmFkaW8tYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDxtYXQtcmFkaW8tYnV0dG9uIHZhbHVlPVwiMlwiIGZpZWxkS2V5PVwiU0VUVElOR1NfUEFHX0FDQ19QQUdfRklFTERfTEVWRUxcIj5GaWVsZFxyXG4gICAgICAgICAgICAgICAgICAgICAgTGV2ZWw8L21hdC1yYWRpby1idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgIDwvbWF0LXJhZGlvLWdyb3VwPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLWxnLTIgY29sLW1kLTYgY29sLTEyIG1iLTNcIiAqbmdJZj1cImZpZWxkTGV2ZWxBY2Nlc3NcIj5cclxuICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwicmFkaW8tdGl0bGVcIj5TZWxlY3QgUGFnZTwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgIDxiciAvPlxyXG4gICAgICAgICAgICAgICAgICA8cC1kcm9wZG93biBpZD1cInNlbGVjdHBhZ2VcIiBhcmlhTGFiZWxsZWRCeT1cInNlbGVjdHBhZ2VcIiBbb3B0aW9uc109XCJzZWxlY3RlZFBhZ2VEYXRhRmlsdGVyXCJcclxuICAgICAgICAgICAgICAgICAgICBmaWVsZEtleT1cIlNFVFRJTkdTX1BBR19BQ0NfUEFHRVwiIFtmaWx0ZXJdPVwidHJ1ZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgW3Nob3dDbGVhcl09XCJmaWVsZExldmVsQ2hlY2tDb3VudCAmJiBmaWVsZExldmVsQ2hlY2tDb3VudD8ubGVuZ3RoXCIgW3Jlc2V0RmlsdGVyT25IaWRlXT1cInRydWVcIlxyXG4gICAgICAgICAgICAgICAgICAgIChvbkNoYW5nZSk9XCJnZXRGaWVsZExldmVsTGlzdCgnY2xpY2snKVwiIGZvcm1Db250cm9sTmFtZT1cImZwYWdlc1wiIG9wdGlvbkxhYmVsPVwicGFnZW5hbWVcIlxyXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvblZhbHVlPVwiaWRcIiBwbGFjZWhvbGRlcj1cIlNlbGVjdCBhIHBhZ2VcIiBjbGFzcz1cImRkLXN0YW5kLXNpemVcIj5cclxuICAgICAgICAgICAgICAgICAgICA8bmctdGVtcGxhdGUgbGV0LWl0ZW0gcFRlbXBsYXRlPVwic2VsZWN0ZWRJdGVtXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHBUb29sdGlwPVwie3tpdGVtPy5wYWdlbmFtZX19XCIgdG9vbHRpcFBvc2l0aW9uPVwidG9wXCIgY2xhc3M9XCJ0ZXh0LXRydW5jYXRlXCI+IHt7IGl0ZW0/LnBhZ2VuYW1lXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH19PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9uZy10ZW1wbGF0ZT5cclxuICAgICAgICAgICAgICAgICAgICA8bmctdGVtcGxhdGUgbGV0LW9iamVjdCBwVGVtcGxhdGU9XCJpdGVtXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICB7eyBvYmplY3QucGFnZW5hbWUgfX1cclxuICAgICAgICAgICAgICAgICAgICA8L25nLXRlbXBsYXRlPlxyXG4gICAgICAgICAgICAgICAgICA8L3AtZHJvcGRvd24+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgPGRpdiAqbmdJZj1cInBhZ2VMZXZlbEFjY2Vzc1wiIGNsYXNzPVwicm93XCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLTEyIG10LTMgcGFnZUxldmVsQWNjZXNzVGFibGVcIj5cclxuICAgICAgICAgICAgICAgICAgPHRhYmxlIGFyaWEtZGVzY3JpYmVkYnk9XCJwYWdlTGV2ZWxBY2Nlc3NUYWJsZVwiIGNsYXNzPVwidGFibGUgdGFibGUtYm9yZGVyZWRcIj5cclxuICAgICAgICAgICAgICAgICAgICA8Y29sIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPGNvbCBzdHlsZT1cIndpZHRoOiAxMjBweFwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPGNvbCBzdHlsZT1cIndpZHRoOiAxMjBweFwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPGNvbCBzdHlsZT1cIndpZHRoOiAxMjBweFwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPGNvbCBzdHlsZT1cIndpZHRoOiAxMjBweFwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPGNvbCBzdHlsZT1cIndpZHRoOiAxMjBweFwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPGNvbCBzdHlsZT1cIndpZHRoOiAyNSVcIiAqbmdJZj1cImZhbHNlXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICA8Y29sIHN0eWxlPVwid2lkdGg6IDIwJVwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPHRoZWFkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzPVwidGV4dC1sZWZ0XCI+UGFnZSBOYW1lPC90aD5cclxuICAgICAgICAgICAgICAgICAgICAgIDx0aCBzY29wZT1cImNvbFwiIGNsYXNzPVwidGV4dC1jZW50ZXJcIj5DcmVhdGU8L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPHRoIHNjb3BlPVwiY29sXCIgY2xhc3M9XCJ0ZXh0LWNlbnRlclwiPlJlYWQ8L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPHRoIHNjb3BlPVwiY29sXCIgY2xhc3M9XCJ0ZXh0LWNlbnRlclwiPlVwZGF0ZTE8L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPHRoIHNjb3BlPVwiY29sXCIgY2xhc3M9XCJ0ZXh0LWNlbnRlclwiPkRlbGV0ZTwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8dGggc2NvcGU9XCJjb2xcIiBjbGFzcz1cInRleHQtY2VudGVyXCI+Tm9uZTwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3M9XCJ0ZXh0LWNlbnRlclwiICpuZ0lmPVwiZmFsc2VcIj5WYWxpZGl0eTwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3M9XCJ0ZXh0LWNlbnRlclwiPkRhdGEgQWNjZXNzPC90aD5cclxuICAgICAgICAgICAgICAgICAgICA8L3RoZWFkPlxyXG4gICAgICAgICAgICAgICAgICAgIDx0Ym9keT5cclxuICAgICAgICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXIgZm9ybUFycmF5TmFtZT1cInBhZ2VMZXZlbERhdGFcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAqbmdGb3I9XCJsZXQgZkFjY2VzcyBvZiByYmFjRm9ybS5nZXQoJ3BhZ2VMZXZlbERhdGEnKVsnY29udHJvbHMnXTsgbGV0IGkgPSBpbmRleFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8dHIgW2Zvcm1Hcm91cF09XCJyYmFjRm9ybS5nZXQoJ3BhZ2VMZXZlbERhdGEnKVsnY29udHJvbHMnXVtpXVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cInRleHQtbGVmdFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHN0eWxlPVwiYm9yZGVyOiBub25lOyBwb2ludGVyLWV2ZW50czogbm9uZTsgd2lkdGg6IDM2MHB4XCIgdHlwZT1cInRleHRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtQ29udHJvbE5hbWU9XCJwYWdlTmFtZVwiIHBsYWNlaG9sZGVyPVwicGFnZWxldmVsZGF0YVwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJ0ZXh0LWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiZy1jaGVja2JveFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgKGNoYW5nZSk9XCJjaGFuZ2VQYWdlQWNjZXNzKGksJ2MnKVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybUNvbnRyb2xOYW1lPVwicGFnZUFjY2Vzc0NyZWF0ZVwiIHR5cGU9XCJjaGVja2JveFwiIHZhbHVlPVwiMVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRLZXk9XCJTRVRUSU5HU19QQUdfQUNDX1BBR0VfUEFHRV9MRVZFTF9SRUFEX1dSSVRFXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwidGV4dC1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImctY2hlY2tib3hcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IChjaGFuZ2UpPVwiY2hhbmdlUGFnZUFjY2VzcyhpLCdyJylcIiBmb3JtQ29udHJvbE5hbWU9XCJwYWdlQWNjZXNzUmVhZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRLZXk9XCJTRVRUSU5HU19QQUdfQUNDX1BBR0VfUEFHRV9MRVZFTF9SRUFEXCIgdHlwZT1cImNoZWNrYm94XCIgdmFsdWU9XCIyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwidGV4dC1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImctY2hlY2tib3hcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IChjaGFuZ2UpPVwiY2hhbmdlUGFnZUFjY2VzcyhpLCd1JylcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1Db250cm9sTmFtZT1cInBhZ2VBY2Nlc3NVcGRhdGVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkS2V5PVwiU0VUVElOR1NfUEFHX0FDQ19QQUdFX1BBR0VfTEVWRUxfUkVBRF9XUklURVwiIHR5cGU9XCJjaGVja2JveFwiIHZhbHVlPVwiNVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9XCJqYXZhc2NyaXB0OnZvaWQoMClcIiAoY2xpY2spID0gXCJzaG93UG9wdXAoKVwiID5Db25kaXRpb25hbDwvYT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJ0ZXh0LWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiZy1jaGVja2JveFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgKGNoYW5nZSk9XCJjaGFuZ2VQYWdlQWNjZXNzKGksJ2QnKVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybUNvbnRyb2xOYW1lPVwicGFnZUFjY2Vzc0RlbGV0ZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRLZXk9XCJTRVRUSU5HU19QQUdfQUNDX1BBR0VfUEFHRV9MRVZFTF9SRUFEX1dSSVRFX0RFTEVURVwiIHR5cGU9XCJjaGVja2JveFwiIHZhbHVlPVwiNlwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cInRleHQtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJnLWNoZWNrYm94XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCAoY2hhbmdlKT1cImNoYW5nZVBhZ2VBY2Nlc3MoaSwnbicpXCIgZm9ybUNvbnRyb2xOYW1lPVwicGFnZUFjY2Vzc05vbmVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkS2V5PVwiU0VUVElOR1NfUEFHX0FDQ19QQUdFX1BBR0VfTEVWRUxfTk9ORVwiIHR5cGU9XCJjaGVja2JveFwiIHZhbHVlPVwiNFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cInRleHQtY2VudGVyXCIgKm5nSWY9XCJmYWxzZVwiID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJiYWNGb3JtLmdldCgncGFnZUxpc3QnKT8udmFsdWVbaV0/LmFjdGl2ZVZlcnNpb24/LmdyaWRjb25maWcgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJiYWNGb3JtLmdldCgncGFnZUxpc3QnKT8udmFsdWVbaV0/LmdyaWRjb25maWdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAtZHJvcGRvd24gW29wdGlvbnNdPVwiY29uZGl0aW9uc1wiIHN0eWxlQ2xhc3M9XCJjb25kaXRpb25cIiBmb3JtQ29udHJvbE5hbWU9XCJjb25kaXRpb25cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiU2VsZWN0IGEgY29uZGl0aW9uXCIgW2Rpc2FibGVkXT1cImZBY2Nlc3M/LnZhbHVlPy5wYWdlQWNjZXNzID09PSAnNCdcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbkxhYmVsPVwibmFtZVwiIG9wdGlvblZhbHVlPVwia2V5XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcC1kcm9wZG93bj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAtaW5wdXROdW1iZXIgdHlwZT1cIm51bWJlclwiIGNsYXNzPVwidmFsaWRpdHlcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICpuZ0lmPVwiZkFjY2Vzcz8udmFsdWU/LmNvbmRpdGlvbiAhPT0gJ2Fsd2F5cydcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtyZWFkb25seV09XCJmQWNjZXNzPy52YWx1ZT8ucGFnZUFjY2VzcyA9PT0gJzQnXCIgW21pbl09XCIxXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZEtleT1cIlNFVFRJTkdTX1BBR19BQ0NfUEFHRV9QQUdFX0xFVkVMX1ZBTElESVRZXCIgZm9ybUNvbnRyb2xOYW1lPVwidmFsaWRpdHlcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGU9XCJkZWNpbWFsXCI+PC9wLWlucHV0TnVtYmVyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cC1kcm9wZG93biBbb3B0aW9uc109XCJnZXRGYWxsYmFja1Blcm1pc3Npb24oZkFjY2VzcylcIiBzdHlsZUNsYXNzPVwiY29uZGl0aW9uXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtQ29udHJvbE5hbWU9XCJmYWxsYmFja1RvXCIgKm5nSWY9XCJmQWNjZXNzPy52YWx1ZT8uY29uZGl0aW9uICE9PSAnYWx3YXlzJ1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJTZWxlY3QgYSBwZXJtaXNzaW9uXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbZGlzYWJsZWRdPVwiZkFjY2Vzcz8udmFsdWU/LnBhZ2VBY2Nlc3MgPT09ICczJyB8fCBmQWNjZXNzPy52YWx1ZT8ucGFnZUFjY2VzcyA9PT0gJzQnXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25MYWJlbD1cIm5hbWVcIiBvcHRpb25WYWx1ZT1cImtleVwiIFtzdHlsZV09XCJ7ICdtYXJnaW4tbGVmdCc6ICcxNXB4JyB9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcC1kcm9wZG93bj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwidGV4dC1jZW50ZXJcIiA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJiYWNGb3JtLmdldCgncGFnZUxpc3QnKT8udmFsdWVbaV0/LmFjdGl2ZVZlcnNpb24/LmdyaWRjb25maWcgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmJhY0Zvcm0uZ2V0KCdwYWdlTGlzdCcpPy52YWx1ZVtpXT8uZ3JpZGNvbmZpZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAtZHJvcGRvd24gW29wdGlvbnNdPVwiZGF0YUFjY2Vzc1wiIHN0eWxlQ2xhc3M9XCJjb25kaXRpb25cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1Db250cm9sTmFtZT1cImFjY2Vzc2RhdGFcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiU2VsZWN0IGEgcGVybWlzc2lvblwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uTGFiZWw9XCJuYW1lXCIgb3B0aW9uVmFsdWU9XCJrZXlcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wLWRyb3Bkb3duPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvdGJvZHk+XHJcbiAgICAgICAgICAgICAgICAgIDwvdGFibGU+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicm93XCJcclxuICAgICAgICAgICAgICAgICpuZ0lmPVwic2hvd0ZpZWxkR3JpZCAmJiBmaWVsZExldmVsQ2hlY2tDb3VudD8ubGVuZ3RoID4gMCAmJiBmaWVsZExldmVsQWNjZXNzICYmIGZpZWxkUGFnZUxldmVsPy5sZW5ndGggPiAwXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLTEyXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0YWJsZS1yZXNwb25zaXZlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHRhYmxlIGFyaWEtZGVzY3JpYmVkYnk9XCJmaWVsZExldmVsQWNjZXNzVGFibGVcIiBjbGFzcz1cInRhYmxlIHRhYmxlLWJvcmRlcmVkXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8Y29sIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8Y29sIHN0eWxlPVwid2lkdGg6IDEyMHB4XCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgIDxjb2wgc3R5bGU9XCJ3aWR0aDogMTIwcHhcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGNvbCBzdHlsZT1cIndpZHRoOiAxMjBweFwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8Y29sIHN0eWxlPVwid2lkdGg6IDEyMHB4XCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgIDxjb2wgKm5nSWY9XCJmYWxzZVwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8Y29sIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8dGhlYWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzcz1cInRleHQtbGVmdFwiPkZpZWxkIE5hbWU8L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3M9XCJ0ZXh0LWNlbnRlclwiPkNyZWF0ZTwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzcz1cInRleHQtY2VudGVyXCI+UmVhZDwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzcz1cInRleHQtY2VudGVyXCI+VXBkYXRlPC90aD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzPVwidGV4dC1jZW50ZXJcIj5Ob25lPC90aD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzPVwidGV4dC1jZW50ZXJcIiAqbmdJZj1cInNob3dGaWVsZFZhbGlkaXR5ICYmIGZhbHNlXCI+VmFsaWRpdHk8L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC90aGVhZD5cclxuICAgICAgICAgICAgICAgICAgICAgIDx0Ym9keT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lciBmb3JtQXJyYXlOYW1lPVwiZmllbGRMZXZlbERhdGFcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICpuZ0Zvcj1cImxldCBmQWNjZXNzIG9mIHJiYWNGb3JtLmdldCgnZmllbGRMZXZlbERhdGEnKVsnY29udHJvbHMnXTsgbGV0IGkgPSBpbmRleFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDx0ciBbZm9ybUdyb3VwTmFtZV09XCJpXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJ0ZXh0LWxlZnRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3sgZkRhdGFbaV1bJ2Rpc3BsYXluYW1lJ10gfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJwaSBwaS1pbmZvLWNpcmNsZSBhc3NldC1wYXRoLWluZm9cIiBwVG9vbHRpcD1cIkFzc2V0IFBhdGg6IHt7IGZEYXRhW2ldWydhc3NldHBhdGgnXSB9fVwiIHRvb2x0aXBQb3NpdGlvbj1cInJpZ2h0XCIgPjwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJoaWRkZW5cIiBmb3JtQ29udHJvbE5hbWU9XCJhc3NldGlkXCIgdmFsdWU9XCJ7eyBmRGF0YVtpXVsnaWQnXSB9fVwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgZm9ybUNvbnRyb2xOYW1lPVwicGFnZUlkXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJ0ZXh0LWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJnLWNoZWNrYm94XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGZvcm1Db250cm9sTmFtZT1cImZpZWxkQWNjZXNzQ3JlYXRlXCIgKGNoYW5nZSk9XCJjaGFuZ2VGaWVsZEFjY2VzcygkZXZlbnQsIGksICdjJylcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImNoZWNrYm94XCIgdmFsdWU9XCIzXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwidGV4dC1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiZy1jaGVja2JveFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBmb3JtQ29udHJvbE5hbWU9XCJmaWVsZEFjY2Vzc1JlYWRcIiAoY2hhbmdlKT1cImNoYW5nZUZpZWxkQWNjZXNzKCRldmVudCwgaSwgJ3InKVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIiB2YWx1ZT1cIjJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJ0ZXh0LWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJnLWNoZWNrYm94XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGZvcm1Db250cm9sTmFtZT1cImZpZWxkQWNjZXNzVXBkYXRlXCIgKGNoYW5nZSk9XCJjaGFuZ2VGaWVsZEFjY2VzcygkZXZlbnQsIGksICd1JylcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImNoZWNrYm94XCIgdmFsdWU9XCJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJ0ZXh0LWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJnLWNoZWNrYm94XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGZvcm1Db250cm9sTmFtZT1cImZpZWxkQWNjZXNzSGlkZVwiIChjaGFuZ2UpPVwiY2hhbmdlRmllbGRBY2Nlc3MoJGV2ZW50LCBpLCAnaCcpXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiIHZhbHVlPVwiNFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cInRleHQtY2VudGVyXCIgKm5nSWY9XCJzaG93RmllbGRWYWxpZGl0eSAmJiBmYWxzZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cC1kcm9wZG93biBbb3B0aW9uc109XCJjb25kaXRpb25zXCIgc3R5bGVDbGFzcz1cImNvbmRpdGlvblwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW2Rpc2FibGVkXT1cImZBY2Nlc3M/LnZhbHVlPy5hY2Nlc3MgPT09ICc0J1wiIGZvcm1Db250cm9sTmFtZT1cImNvbmRpdGlvblwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJTZWxlY3QgYSBjb25kaXRpb25cIiBvcHRpb25MYWJlbD1cIm5hbWVcIiBvcHRpb25WYWx1ZT1cImtleVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3AtZHJvcGRvd24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgY2xhc3M9XCJ2YWxpZGl0eVwiICpuZ0lmPVwiZkFjY2Vzcz8udmFsdWU/LmNvbmRpdGlvbiAhPT0gJ2Fsd2F5cydcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFttaW5dPVwiMVwiIGZvcm1Db250cm9sTmFtZT1cInZhbGlkaXR5XCIgW3JlYWRvbmx5XT1cImZBY2Nlc3M/LnZhbHVlPy5hY2Nlc3MgPT09ICc0J1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9XCJ3aWR0aDogNTBweDsgbWFyZ2luLWxlZnQ6IDE1cHhcIiBwSW5wdXRUZXh0IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwLWRyb3Bkb3duIFtvcHRpb25zXT1cImdldEZhbGxiYWNrUGVybWlzc2lvbihmQWNjZXNzKVwiIHN0eWxlQ2xhc3M9XCJjb25kaXRpb25cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1Db250cm9sTmFtZT1cImZhbGxiYWNrVG9cIiAqbmdJZj1cImZBY2Nlc3M/LnZhbHVlPy5jb25kaXRpb24gIT09ICdhbHdheXMnXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlNlbGVjdCBhIHBlcm1pc3Npb25cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtkaXNhYmxlZF09XCJmQWNjZXNzPy52YWx1ZT8uYWNjZXNzID09PSAnNCcgfHwgZkFjY2Vzcz8udmFsdWU/LmFjY2VzcyA9PT0gJzMnXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25MYWJlbD1cIm5hbWVcIiBvcHRpb25WYWx1ZT1cImtleVwiIFtzdHlsZV09XCJ7ICdtYXJnaW4tbGVmdCc6ICcxNXB4JyB9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcC1kcm9wZG93bj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L3Rib2R5PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvdGFibGU+XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPCEtLSBUaGlzIGNvZGUgZm9yIGZpZWxkIGFjY2VzcyBmb3IgZ3JpZCBwYWdlIC0tPlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyb3dcIlxyXG4gICAgICAgICAgICAgICAgKm5nSWY9XCJzaG93RmllbGRHcmlkICYmIGZpZWxkTGV2ZWxDaGVja0NvdW50Py5sZW5ndGggPiAwICYmIGZpZWxkTGV2ZWxBY2Nlc3MgJiYgZmllbGRQYWdlTGV2ZWw/Lmxlbmd0aCA9PT0gMFwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC0xMlwiPlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGFibGUtcmVzcG9uc2l2ZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDx0YWJsZSBhcmlhLWRlc2NyaWJlZGJ5PVwiZmllbGRMZXZlbEFjY2Vzc1RhYmxlXCIgY2xhc3M9XCJ0YWJsZSB0YWJsZS1ib3JkZXJlZFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGNvbCAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGNvbCBzdHlsZT1cIndpZHRoOiAxMjBweFwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8Y29sIHN0eWxlPVwid2lkdGg6IDEyMHB4XCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgIDxjb2wgKm5nSWY9XCJmYWxzZVwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8dGhlYWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0cj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3M9XCJ0ZXh0LWxlZnRcIj5GaWVsZCBOYW1lPC90aD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3M9XCJ0ZXh0LWNlbnRlclwiPlJlYWQ8L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwhLS0gPHRoIGNsYXNzPVwidGV4dC1jZW50ZXJcIj5Xcml0ZTwvdGg+IC0tPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzcz1cInRleHQtY2VudGVyXCI+Tm9uZTwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzPVwidGV4dC1jZW50ZXJcIiAqbmdJZj1cInNob3dGaWVsZFZhbGlkaXR5ICYmIGZhbHNlXCI+VmFsaWRpdHk8L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC90aGVhZD5cclxuICAgICAgICAgICAgICAgICAgICAgIDx0Ym9keT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lciBmb3JtQXJyYXlOYW1lPVwiZmllbGRMZXZlbERhdGFcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICpuZ0Zvcj1cImxldCBmQWNjZXNzIG9mIHJiYWNGb3JtLmdldCgnZmllbGRMZXZlbERhdGEnKVsnY29udHJvbHMnXTsgbGV0IGkgPSBpbmRleFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDx0ciBbZm9ybUdyb3VwTmFtZV09XCJpXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJ0ZXh0LWxlZnRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3sgZkRhdGFbaV1bJ2Rpc3BsYXluYW1lJ10gfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJoaWRkZW5cIiBmb3JtQ29udHJvbE5hbWU9XCJhc3NldGlkXCIgdmFsdWU9XCJ7eyBmRGF0YVtpXVsnaWQnXSB9fVwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgZm9ybUNvbnRyb2xOYW1lPVwicGFnZUlkXCIgbmFtZT1cInBlcm1pc3Npb25ncm91cF97e2l9fVwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwidGV4dC1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiZy1jaGVja2JveFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBmb3JtQ29udHJvbE5hbWU9XCJmaWVsZEFjY2Vzc1JlYWRcIiAoY2hhbmdlKT1cImNoYW5nZUZpZWxkQWNjZXNzKCRldmVudCwgaSwncicpXCIgdHlwZT1cImNoZWNrYm94XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPCEtLSA8dGQgY2xhc3M9XCJ0ZXh0LWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgZm9ybUNvbnRyb2xOYW1lPVwiYWNjZXNzXCIgKGNoYW5nZSk9XCJjaGFuZ2VGaWVsZEFjY2VzcygkZXZlbnQpXCIgdHlwZT1cInJhZGlvXCIgdmFsdWU9XCIyXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+IC0tPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwidGV4dC1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiZy1jaGVja2JveFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBmb3JtQ29udHJvbE5hbWU9XCJmaWVsZEFjY2Vzc0hpZGVcIiAoY2hhbmdlKT1cImNoYW5nZUZpZWxkQWNjZXNzKCRldmVudCwgaSwgJ2gnKVwiIHR5cGU9XCJjaGVja2JveFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cInRleHQtY2VudGVyXCIgKm5nSWY9XCJzaG93RmllbGRWYWxpZGl0eSAmJiBmYWxzZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cC1kcm9wZG93biBbb3B0aW9uc109XCJjb25kaXRpb25zXCIgc3R5bGVDbGFzcz1cImNvbmRpdGlvblwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW2Rpc2FibGVkXT1cImZBY2Nlc3M/LnZhbHVlPy5hY2Nlc3MgPT09ICc0J1wiIGZvcm1Db250cm9sTmFtZT1cImNvbmRpdGlvblwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJTZWxlY3QgYSBjb25kaXRpb25cIiBvcHRpb25MYWJlbD1cIm5hbWVcIiBvcHRpb25WYWx1ZT1cImtleVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3AtZHJvcGRvd24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgY2xhc3M9XCJ2YWxpZGl0eVwiICpuZ0lmPVwiZkFjY2Vzcz8udmFsdWU/LmNvbmRpdGlvbiAhPT0gJ2Fsd2F5cydcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFttaW5dPVwiMVwiIGZvcm1Db250cm9sTmFtZT1cInZhbGlkaXR5XCIgW3JlYWRvbmx5XT1cImZBY2Nlc3M/LnZhbHVlPy5hY2Nlc3MgPT09ICc0J1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9XCJ3aWR0aDogNTBweDsgbWFyZ2luLWxlZnQ6IDE1cHhcIiBwSW5wdXRUZXh0IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwLWRyb3Bkb3duIFtvcHRpb25zXT1cImdldEZhbGxiYWNrUGVybWlzc2lvbihmQWNjZXNzKVwiIHN0eWxlQ2xhc3M9XCJjb25kaXRpb25cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1Db250cm9sTmFtZT1cImZhbGxiYWNrVG9cIiAqbmdJZj1cImZBY2Nlc3M/LnZhbHVlPy5jb25kaXRpb24gIT09ICdhbHdheXMnXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlNlbGVjdCBhIHBlcm1pc3Npb25cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtkaXNhYmxlZF09XCJmQWNjZXNzPy52YWx1ZT8uYWNjZXNzID09PSAnNCcgfHwgZkFjY2Vzcz8udmFsdWU/LmFjY2VzcyA9PT0gJzMnXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25MYWJlbD1cIm5hbWVcIiBvcHRpb25WYWx1ZT1cImtleVwiIFtzdHlsZV09XCJ7ICdtYXJnaW4tbGVmdCc6ICcxNXB4JyB9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcC1kcm9wZG93bj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L3Rib2R5PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvdGFibGU+XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvbWF0LWNhcmQtY29udGVudD5cclxuICAgICAgICAgIDwvbWF0LWNhcmQ+XHJcbiAgICAgICAgPC9mb3JtPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJtdC0zXCIgKm5nSWY9XCJwb2xpY3lHcm91cFBhZ2VzLmxlbmd0aCAmJiAhZmllbGRMZXZlbEFjY2VzcyAmJiBzZWxlY3RlZEFjY2VzcyA9PT0gJ3JvbGUnXCI+XHJcbiAgICAgICAgICA8cC1hY2NvcmRpb24gY2xhc3M9XCJ3LWZ1bGwgZHluYW1pYy1zZWFyY2hcIiBpY29uUG9zPVwiZW5kVmFsXCI+XHJcbiAgICAgICAgICAgIDxwLWFjY29yZGlvblRhYj5cclxuICAgICAgICAgICAgICA8bmctdGVtcGxhdGUgcFRlbXBsYXRlPVwiaGVhZGVyXCI+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImZsZXggYWxpZ24taXRlbXMtY2VudGVyIGhlYWQtdGV4dCBnYXAtMiB3LWZ1bGxcIj5cclxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJmb250LWJvbGRcIj5Qb2xpY3kgR3JvdXBzIGFzc29jaWF0ZWQgd2l0aCB7eyBzZWxlY3RlZE5hbWUgfX0gUm9sZTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICA8L25nLXRlbXBsYXRlPlxyXG4gICAgICAgICAgICAgIDxtYXQtY2FyZCBjbGFzcz1cIm10LTJcIj5cclxuICAgICAgICAgICAgICAgIDxtYXQtY2FyZC1jb250ZW50PlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicm93XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC0xMiBtdC0xXCIgKm5nRm9yPVwibGV0IHBvbGljeUdyb3VwIG9mIHBvbGljeUdyb3VwUGFnZXNcIj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyYWRpby10aXRsZSBtYi0yXCI+UG9saWN5IEdyb3VwOiB7eyBwb2xpY3lHcm91cD8ucG9saWN5Z3JvdXA/LnBvbGljeWdyb3VwbmFtZSB9fTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgPCEtLSBJdCBzaG93cyBhc3NvY2lhdGVkIFJvbGVzIC0tPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRhYmxlLXJlc3BvbnNpdmVcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHRhYmxlIGlkPVwicG9saWN5R3JvdXBUYWJsZVwiIGFyaWEtZGVzY3JpYmVkYnk9XCJwb2xpY3lHcm91cFRhYmxlXCIgY2xhc3M9XCJ0YWJsZSB0YWJsZS1ib3JkZXJlZFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2wgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29sIHN0eWxlPVwid2lkdGg6IDEwMHB4XCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29sIHN0eWxlPVwid2lkdGg6IDEwMHB4XCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29sIHN0eWxlPVwid2lkdGg6IDEwMHB4XCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29sIHN0eWxlPVwid2lkdGg6IDEwMHB4XCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29sIHN0eWxlPVwid2lkdGg6IDEwMHB4XCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8dGhlYWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dHI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBzY29wZT1cImNvbFwiIGNsYXNzPVwidGV4dC1sZWZ0XCI+UGFnZSBOYW1lPC90aD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoIHNjb3BlPVwiY29sXCIgY2xhc3M9XCJ0ZXh0LWNlbnRlclwiPkNyZWF0ZTwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBzY29wZT1cImNvbFwiIGNsYXNzPVwidGV4dC1jZW50ZXJcIj5SZWFkPC90aD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoIHNjb3BlPVwiY29sXCIgY2xhc3M9XCJ0ZXh0LWNlbnRlclwiPlVwZGF0ZTwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBzY29wZT1cImNvbFwiIGNsYXNzPVwidGV4dC1jZW50ZXJcIj5EZWxldGU8L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGggc2NvcGU9XCJjb2xcIiBjbGFzcz1cInRleHQtY2VudGVyXCI+Tm9uZTwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGhlYWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHRib2R5PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdGb3I9XCJsZXQgcGFnZSBvZiBwb2xpY3lHcm91cD8ucG9saWN5Z3JvdXBwYWdlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0cj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJ0ZXh0LWxlZnRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBzdHlsZT1cImJvcmRlcjogbm9uZTsgcG9pbnRlci1ldmVudHM6IG5vbmU7IHdpZHRoOiAzNjBweFwiIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJwYWdlPy5wYWdlPy5hY3RpdmVWZXJzaW9uPy5wYWdlbmFtZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFt2YWx1ZV09XCJwYWdlPy5wYWdlWzBdPy5hY3RpdmVWZXJzaW9uPy5wYWdlbmFtZVwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwidGV4dC1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImctY2hlY2tib3hcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGRpc2FibGVkIFtjaGVja2VkXT1cInBhZ2U/LmNcIiB0eXBlPVwiY2hlY2tib3hcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJ0ZXh0LWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiZy1jaGVja2JveFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgZGlzYWJsZWQgW2NoZWNrZWRdPVwicGFnZT8uclwiIHR5cGU9XCJjaGVja2JveFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cInRleHQtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJnLWNoZWNrYm94XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBkaXNhYmxlZCBbY2hlY2tlZF09XCJwYWdlPy51XCIgdHlwZT1cImNoZWNrYm94XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwidGV4dC1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImctY2hlY2tib3hcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGRpc2FibGVkIFtjaGVja2VkXT1cInBhZ2U/LmRcIiB0eXBlPVwiY2hlY2tib3hcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJ0ZXh0LWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiZy1jaGVja2JveFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgZGlzYWJsZWQgW2NoZWNrZWRdPVwicGFnZT8uaGlkZVwiIHR5cGU9XCJjaGVja2JveFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwicG9saWN5R3JvdXBQYWdlcz8ubGVuZ3RoID09PSAwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0cj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJ0ZXh0LWNlbnRlclwiIGNvbHNwYW49XCI0XCI+Tm8gcGFnZXMgYXNzb2NpYXRlZCB3aXRoIFBvbGljeSBHcm91cC48L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC90Ym9keT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC90YWJsZT5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvbWF0LWNhcmQtY29udGVudD5cclxuICAgICAgICAgICAgICA8L21hdC1jYXJkPlxyXG4gICAgICAgICAgICA8L3AtYWNjb3JkaW9uVGFiPlxyXG4gICAgICAgICAgPC9wLWFjY29yZGlvbj5cclxuXHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cIm10LTNcIiAqbmdJZj1cInBvbGljeUdyb3VwUm9sZVBhZ2VzLmxlbmd0aCAmJiAhZmllbGRMZXZlbEFjY2VzcyAmJiBzZWxlY3RlZEFjY2VzcyA9PT0gJ3BvbGljeWdyb3VwJ1wiPlxyXG4gICAgICAgICAgPHAtYWNjb3JkaW9uIGNsYXNzPVwidy1mdWxsIGR5bmFtaWMtc2VhcmNoXCIgaWNvblBvcz1cImVuZFZhbFwiPlxyXG4gICAgICAgICAgICA8cC1hY2NvcmRpb25UYWI+XHJcbiAgICAgICAgICAgICAgPG5nLXRlbXBsYXRlIHBUZW1wbGF0ZT1cImhlYWRlclwiPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJmbGV4IGFsaWduLWl0ZW1zLWNlbnRlciBoZWFkLXRleHQgZ2FwLTIgdy1mdWxsXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZm9udC1ib2xkXCI+Um9sZXMgYXNzb2NpYXRlZCB3aXRoIHt7IHNlbGVjdGVkTmFtZSB9fSBQb2xpY3kgR3JvdXA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgPC9uZy10ZW1wbGF0ZT5cclxuICAgICAgICAgICAgICA8bWF0LWNhcmQgY2xhc3M9XCJtdC0yXCI+XHJcbiAgICAgICAgICAgICAgICA8bWF0LWNhcmQtY29udGVudD5cclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJvd1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtMTIgbXQtMVwiICpuZ0Zvcj1cImxldCByb2xlIG9mIHBvbGljeUdyb3VwUm9sZVBhZ2VzXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicmFkaW8tdGl0bGUgbWItMlwiPlJvbGU6IHt7IHJvbGU/LnJvbGU/Lm5hbWUgfX08L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgIDwhLS0gSXQgc2hvd3MgYXNzb2NpYXRlZCBwb2xpY3lncm91cHMgLS0+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGFibGUtcmVzcG9uc2l2ZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGFibGUgaWQ9XCJwb2xpY3lHcm91cFRhYmxlXCIgYXJpYS1kZXNjcmliZWRieT1cInBvbGljeUdyb3VwVGFibGVcIiBjbGFzcz1cInRhYmxlIHRhYmxlLWJvcmRlcmVkXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvbCAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2wgc3R5bGU9XCJ3aWR0aDogMTAwcHhcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2wgc3R5bGU9XCJ3aWR0aDogMTAwcHhcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2wgc3R5bGU9XCJ3aWR0aDogMTAwcHhcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2wgc3R5bGU9XCJ3aWR0aDogMTAwcHhcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2wgc3R5bGU9XCJ3aWR0aDogMTAwcHhcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDx0aGVhZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0cj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoIHNjb3BlPVwiY29sXCIgY2xhc3M9XCJ0ZXh0LWxlZnRcIj5QYWdlIE5hbWU8L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGggc2NvcGU9XCJjb2xcIiBjbGFzcz1cInRleHQtY2VudGVyXCI+Q3JlYXRlPC90aD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoIHNjb3BlPVwiY29sXCIgY2xhc3M9XCJ0ZXh0LWNlbnRlclwiPlJlYWQ8L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGggc2NvcGU9XCJjb2xcIiBjbGFzcz1cInRleHQtY2VudGVyXCI+VXBkYXRlPC90aD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoIHNjb3BlPVwiY29sXCIgY2xhc3M9XCJ0ZXh0LWNlbnRlclwiPkRlbGV0ZTwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBzY29wZT1cImNvbFwiIGNsYXNzPVwidGV4dC1jZW50ZXJcIj5Ob25lPC90aD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC90aGVhZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8dGJvZHk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0Zvcj1cImxldCBwYWdlIG9mIHJvbGU/LnJvbGVwYWdlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0cj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJ0ZXh0LWxlZnRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBzdHlsZT1cImJvcmRlcjogbm9uZTsgcG9pbnRlci1ldmVudHM6IG5vbmU7IHdpZHRoOiAzNjBweFwiIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJwYWdlPy5wYWdlPy5hY3RpdmVWZXJzaW9uPy5wYWdlbmFtZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFt2YWx1ZV09XCJwYWdlPy5wYWdlWzBdPy5hY3RpdmVWZXJzaW9uPy5wYWdlbmFtZVwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwidGV4dC1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImctY2hlY2tib3hcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGRpc2FibGVkIFtjaGVja2VkXT1cInBhZ2U/LmNcIiB0eXBlPVwiY2hlY2tib3hcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJ0ZXh0LWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiZy1jaGVja2JveFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgZGlzYWJsZWQgW2NoZWNrZWRdPVwicGFnZT8uclwiIHR5cGU9XCJjaGVja2JveFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cInRleHQtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJnLWNoZWNrYm94XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBkaXNhYmxlZCBbY2hlY2tlZF09XCJwYWdlPy51XCIgdHlwZT1cImNoZWNrYm94XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwidGV4dC1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImctY2hlY2tib3hcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGRpc2FibGVkIFtjaGVja2VkXT1cInBhZ2U/LmRcIiB0eXBlPVwiY2hlY2tib3hcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJ0ZXh0LWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiZy1jaGVja2JveFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgZGlzYWJsZWQgW2NoZWNrZWRdPVwicGFnZT8uaGlkZVwiIHR5cGU9XCJjaGVja2JveFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwicG9saWN5R3JvdXBSb2xlUGFnZXM/Lmxlbmd0aCA9PT0gMFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dHI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwidGV4dC1jZW50ZXJcIiBjb2xzcGFuPVwiNFwiPk5vIHBhZ2VzIGFzc29jaWF0ZWQgd2l0aCBSb2xlLjwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3Rib2R5PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3RhYmxlPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9tYXQtY2FyZC1jb250ZW50PlxyXG4gICAgICAgICAgICAgIDwvbWF0LWNhcmQ+XHJcbiAgICAgICAgICAgIDwvcC1hY2NvcmRpb25UYWI+XHJcbiAgICAgICAgICA8L3AtYWNjb3JkaW9uPlxyXG5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dC1yaWdodCBtdC0zXCIgKm5nSWY9XCJtdWx0aVBhZ2VBY2Nlc3NcIj5cclxuICAgICAgICAgIDwhLS0gPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeSBtci0yXCIgZmllbGRLZXk9XCJTRVRUSU5HU19QQUdfQUNDX0JBQ0tcIiAoY2xpY2spPVwicmVkaXJlY3RMaXN0KClcIj5CYWNrPC9idXR0b24+IC0tPlxyXG4gICAgICAgICAgPCEtLSA8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1jYW5jZWwgbXItMlwiIGZpZWxkS2V5PVwiU0VUVElOR1NfUEFHX0FDQ19DTEVBUlwiIChjbGljayk9XCJyZXNldEZvcm0oKVwiPkNsZWFyPC9idXR0b24+IC0tPlxyXG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIGZpZWxkS2V5PVwiU0VUVElOR1NfUEFHX0FDQ19TQVZFXCIgKGNsaWNrKT1cInN1Ym1pdEFsZXJ0KClcIlxyXG4gICAgICAgICAgICBbZGlzYWJsZWRdPVwiKHBhZ2VsZXZlbGFjY2Vzc3NhdmVkaXNhYmxlICYmIHBhZ2VsZXZlbGFjY2Vzc2NvdW50ZGlzYWJsZSkgfHwgKGVuYWJsZXNhdmUgJiYgcGFnZWxldmVsYWNjZXNzY291bnQgJiYgcGFnZWxldmVsYWNjZXNzY291bnQ/Lmxlbmd0aCA+IDApXCI+U2F2ZTwvYnV0dG9uPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LXJpZ2h0IG10LTNcIiAqbmdJZj1cIiFtdWx0aVBhZ2VBY2Nlc3NcIj5cclxuICAgICAgICAgIDwhLS0gPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeSBtci0yXCIgZmllbGRLZXk9XCJTRVRUSU5HU19QQUdfQUNDX0JBQ0tcIiAoY2xpY2spPVwicmVkaXJlY3RMaXN0KClcIj5CYWNrPC9idXR0b24+IC0tPlxyXG4gICAgICAgICAgPCEtLSA8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1jYW5jZWwgbXItMlwiIGZpZWxkS2V5PVwiU0VUVElOR1NfUEFHX0FDQ19DTEVBUlwiIChjbGljayk9XCJyZXNldEZvcm0oKVwiPkNsZWFyPC9idXR0b24+IC0tPlxyXG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIGZpZWxkS2V5PVwiU0VUVElOR1NfUEFHX0FDQ19TQVZFXCIgKGNsaWNrKT1cInN1Ym1pdEFsZXJ0KClcIlxyXG4gICAgICAgICAgICBbZGlzYWJsZWRdPVwiKChtdWx0aVBhZ2VBY2Nlc3MpIHx8IChmaWVsZExldmVsQ2hlY2tDb3VudCAmJiBmaWVsZExldmVsQ2hlY2tDb3VudD8ubGVuZ3RoID09PSAwKSB8fCAoZW5hYmxlc2F2ZSAmJiBmaWVsZExldmVsQ2hlY2tDb3VudCAmJiBmaWVsZExldmVsQ2hlY2tDb3VudD8ubGVuZ3RoID4gMCkgfHwgKCFwYWdlbGV2ZWxhY2Nlc3Njb3VudCB8fCBwYWdlbGV2ZWxhY2Nlc3Njb3VudD8ubGVuZ3RoID09PSAwKSlcIj5TYXZlPC9idXR0b24+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvbWF0LWNhcmQtY29udGVudD5cclxuICAgIDwvbWF0LWNhcmQ+XHJcbiAgPC9kaXY+XHJcbjwvZGl2PlxyXG5cclxuPGRpdiBjbGFzcz1cIm1vZGFsXCIgaWQ9XCJzdWJtaXRBbGVydFwiIHRhYmluZGV4PVwiLTFcIiByb2xlPVwiZGlhbG9nXCI+XHJcbiAgPGRpdiBjbGFzcz1cIm1vZGFsLWRpYWxvZyBtb2RhbC1sZ1wiIHJvbGU9XCJkb2N1bWVudFwiPlxyXG4gICAgPGRpdiBjbGFzcz1cIm1vZGFsLWNvbnRlbnRcIj5cclxuICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj5cclxuICAgICAgICA8cD5GaWVsZCBMZXZlbCBBY2Nlc3MgaXMgYWxyZWFkeSBwcmVzZW50IGZvciB0aGlzIFBhZ2UuIE1vZGlmeWluZyB0aGUgUGFnZSBMZXZlbCBBY2Nlc3Mgd2lsbCByZW1vdmUgYWxsIEZpZWxkXHJcbiAgICAgICAgICBMZXZlbFxyXG4gICAgICAgICAgQWNjZXNzLiBEbyB5b3Ugd2FudCB0byBwcm9jZWVkPzwvcD5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiY2xlYXJmaXhcIj48L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwibXQtMlwiPlxyXG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInB1bGwtcmlnaHQgbWItMiBidG4gYnRuLXByaW1hcnkgYnRuY29tbW9uIGRlbGV0ZVwiIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCIgKGNsaWNrKT1cInNhdmVSYmFjKClcIj5cclxuICAgICAgICAgICAgWWVzXHJcbiAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJwdWxsLXJpZ2h0IG1iLTIgbXItMiBidG4gYmctd2hpdGUgdGV4dC1wcmltYXJ5IGJ0bmNhbmNlbFwiIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcclxuICAgICAgICAgICAgKGNsaWNrKT1cImdldFNlbGVjdGVkUGFnZXMoKVwiPkNhbmNlbDwvYnV0dG9uPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJjbGVhcmZpeFwiPjwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG4gIDwvZGl2PlxyXG48L2Rpdj5cclxuXHJcbjxuZy10ZW1wbGF0ZSAjdmFsaWRhdGlvblBvcHVwIGxldC1tb2RhbD5cclxuICA8ZGl2IGNsYXNzPVwibW9kYWwtYm9keSBwLTNcIj5cclxuICAgIDxkaXYgY2xhc3M9XCJyZXNldC1wYXNzd29yZC1kaXZcIj5cclxuICAgICAgPHRleHRhcmVhIHJvd3M9XCIzXCIgY29scz1cIjMwXCIgcElucHV0VGV4dGFyZWFcclxuICAgICAgICBwbGFjZWhvbGRlcj1cIkFkZCBDb25kaXRpb25cIiBtYXhsZW5ndGg9XCI0MDAwXCIgY2xhc3M9XCJmb3JtLWNvbnRyb2wgbm8tcmVzaXplXCJcclxuICAgICAgICBbKG5nTW9kZWwpXT1cImFkZGl0aW9uYWxDb25kaXRpb25zXCI+XHJcbiAgICAgIDwvdGV4dGFyZWE+XHJcbiAgICA8L2Rpdj5cclxuICA8L2Rpdj5cclxuICA8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyIHAtM1wiPlxyXG4gICAgPHAtYnV0dG9uIGxhYmVsPVwiU2F2ZVwiIHN0eWxlQ2xhc3M9XCJidG4gcHgtMyBweS0xIG1yLTIgXCI+IDwvcC1idXR0b24+XHJcbiAgICA8cC1idXR0b24gbGFiZWw9XCJDYW5jZWxcIiBzdHlsZUNsYXNzPVwiYnRuIHB4LTMgcHktMSBtci0yIFwiPiA8L3AtYnV0dG9uPlxyXG4gIDwvZGl2PlxyXG48L25nLXRlbXBsYXRlPlxyXG4iXX0=